{"version":3,"sources":["componentes/Chat/Miniatura.png","componentes/Estilos.js","Estados/AplicacionEstado.js","componentes/Inicio/Inicio.js","componentes/Estrellas.js","componentes/AlertaMensaje.js","componentes/Publicacion/ProveedorInfo.js","componentes/Publicacion/ReportarPublicacion.js","componentes/Publicacion/PublicacionInfo.js","componentes/Publicacion/Opiniones.js","componentes/SeleccionarServicio.js","componentes/ContactarProveedor.js","componentes/Publicacion/Publicacion.js","componentes/Sesion/InicioSesion.js","componentes/Notificaciones/NotificacionesNav.js","componentes/Nav.js","componentes/Footer.js","componentes/Categoria/Filtro.js","componentes/AlertaSi_No.js","componentes/Categoria/FilaPublicacion.js","componentes/Categoria/Categoria.js","componentes/SubirImagen.js","componentes/Sesion/Registrar.js","componentes/Proveedor/ModificarPerfilProveedor.js","componentes/Proveedor/MiPerfil.js","componentes/Publicacion/CrearPublicacion.js","componentes/GestionAdministrador/GestionarReportes.js","componentes/GestionAdministrador/VerificarIdentidad.js","componentes/GestionAdministrador/PestanaReportes.js","componentes/Publicacion/MisPublicaciones.js","componentes/Footer/PreguntasFrecuentes.js","componentes/Footer/SobreNosotros.js","Estados/CategoriaEstado.js","componentes/Proveedor/VerificarMiIdentidad.js","componentes/Notificaciones/RealizarOpinion.js","componentes/Notificaciones/Notificaciones.js","componentes/Chat/ComponentesChat/PhotoMessage/PhotoMessage.js","componentes/Chat/ComponentesChat/FileMessage/FileMessage.js","componentes/Chat/ComponentesChat/SystemMessage/SystemMessage.js","componentes/Chat/ComponentesChat/LocationMessage/LocationMessage.js","componentes/Chat/ComponentesChat/SpotifyMessage/SpotifyMessage.js","componentes/Chat/ComponentesChat/ReplyMessage/ReplyMessage.js","componentes/Chat/ComponentesChat/Avatar/Avatar.js","componentes/Chat/ComponentesChat/MeetingMessage/MeetingMessage.js","componentes/Chat/ComponentesChat/MessageBox/MessageBox.js","componentes/Chat/ComponentesChat/ChatItem/ChatItem.js","componentes/Chat/ComponentesChat/ChatList/ChatList.js","componentes/Chat/ComponentesChat/MessageList/MessageList.js","componentes/Chat/ComponentesChat/Input/Input.js","componentes/Chat/ComponentesChat/Button/Button.js","componentes/Chat/ComponentesChat/Navbar/Navbar.js","componentes/Chat/ComponentesChat/Dropdown/Dropdown.js","componentes/Chat/ComponentesChat/SideBar/SideBar.js","componentes/Chat/ComponentesChat/Popup/Popup.js","componentes/Chat/ComponentesChat/MeetingItem/MeetingItem.js","componentes/Chat/ComponentesChat/MeetingList/MeetingList.js","componentes/Chat/Chat.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Estilos","makeStyles","theme","mostrarFlex","display","justifyContent","alignItems","flexWrap","padding","fondo","minHeight","proveedorSticky","position","top","marginBottom","marginTop","margenArriba","padding2","filaPublicacion","background","imagenPublicacion","borderRadius","objectFit","border","width","height","margin","gridRegistro","maxWidth","inputAncho","papelFondo","boxShadow","shadows","spacing","backgroundColor","pantallaMedia","minWidth","botonFijo","left","transform","zIndex","button","textTransform","margenAuto","reporte","botonesNav","textDecoration","color","palette","secondary","main","EstiloMovil","EstiloPC","EstiloLink","contrastText","EstiloVacio","Categoria","paddingTop","BotonSolicitar","BotonSolicitarMovil","estadoInicial","servidor","jwt","publico","guardar","imagen_predeterminada","datosSesion","apellido","blocked","confirmed","created_at","descripcion","dni","email","estado","fecha_creacion","id","mostrar_telefono","nombre","permiso","provider","role","name","description","type","telefono","tipo","ubicacion","updated_at","username","identidad_verificada","imagenes_dni","reducer","state","action","valor","value","ObtenerEstadoAplicacion","createContext","ProveerEstadoAplicacion","children","useReducer","dispatch","Provider","Inicio","classes","useState","categorias","setcategorias","cargando","setcargando","useContext","useEffect","axios","get","then","response","data","catch","error","alert","console","log","className","Paper","elevation","style","Typography","component","variant","align","Grid","container","justify","map","cat","i","item","sm","md","lg","key","to","IconButton","src","imagen","formats","thumbnail","url","fontSize","Puntuacion","clickeable","cambiarValor","Rating","onChange","readOnly","precision","Alerta","props","AlertaMensaje","mensaje","setabrir","abrir","handleClose","event","reason","Snackbar","open","autoHideDuration","onClose","severity","ProveedorInfo","esDePerfil","datosPerfil","copiado","setcopiado","titulo","servicios","pausado","bloqueado","DatosPerfil","setDatosPerfil","perfil","ids_categorias","servicio","categoria","ids_consultas","buscarCategorias","direction","xs","alt","imagen_perfil","hidden","Hidden","xlDown","Tooltip","title","Alert","Divider","List","aria-labelledby","subheader","ListSubheader","Categorias","length","href","startIcon","Phone","onClick","aux","document","createElement","setAttribute","body","appendChild","select","execCommand","removeChild","copiarAlPortapapeles","setOpen","ListItem","ListItemText","primary","ExpandLess","ExpandMore","Collapse","in","timeout","unmountOnExit","disablePadding","ReportarPublicacion","solicitud","abrirAlerta","motivos","setmotivos","motivosSeleccionados","setmotivosSeleccionados","setdescripcion","setmensaje","ComprobarReporte","auth","fecha","Date","reporte_conjunto","motivo","getDate","getMonth","getFullYear","put","headers","post","motivo_","Solicitud_id","Usuario_id","accion","Modal","aria-describedby","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","Fade","FormGroup","required","FormControlLabel","control","Checkbox","Motivo","esta","some","filter","arreglo","seleccionarMotivo","label","TextField","e","target","multiline","LinearProgress","disabled","size","PublicacionInfo","datosPagina","imagenes","setimagenes","precio","estrella","DatosPagina","setDatosPagina","img","original","precio_estimado","Breadcrumbs","separator","aria-label","items","Opiniones","datos","opiniones","setopiniones","promedioEstrellas","setpromedioEstrellas","servicio_id","total","opi","recomendacion","register","number","index","totalSec","opinion","Resena","square","votos_positivos","votos_negativos","Chip","format","SeleccionarServicio","agregarSeleccionado","hecho_noHecho","setHecho_noHecho","seleccionado","seleccion","setSeleccion","React","clickable","icon","BotonContratar","fijo","setcategoria","arregloCategorias","setarregloCategorias","arrCat","hasOwnProperty","push","IDS","botonNoF","Mail","form","onSubmit","preventDefault","cat_selecc","cat_","noleido_emisor","noleido_receptor","emisor","receptor","idP","idS","peticion","contenido","enviado_por","chat","FormControl","fullWidth","InputLabel","Select","labelId","MenuItem","Publicacion","useParams","setdatosPerfil","setdatosPagina","Categoria_id","Servicio_id","obtenerUsuario","Container","IniciarSesion","alerta","setalerta","pwd_olvidada","setpwd_olvidada","contrasena","setdatos","cambiarInput","campo","Link","identifier","password","user","localStorage","setItem","JSON","stringify","err","parse","request","message","messages","NotificacionesNav","plegarNoti","notificaciones","noti","datos_notificacion","PrimarySearchAppBar","history","useHistory","despPerf","setdespPerf","despMenu","setdespMenu","despNoti","setdespNoti","traerNotificaciones","settraerNotificaciones","tipoUsuario","setTipoUsuario","setnotificaciones","mensajesnoleidos","setmensajesnoleidos","sesion","getItem","sesionObjeto","chats_","cantidad","chat_","mensajesNoleidos","reverse","plegarPerfil","plegarMenu","flexGrow","AppBar","Toolbar","fontFamily","alignContent","currentTarget","Badge","badgeContent","Notifications","Menu","anchorEl","keepMounted","Boolean","Chat","edge","aria-haspopup","AccountCircle","ListItemIcon","PriorityHigh","hambur","Footer","contactanos","setcontactanos","bottom","Facebook","Instagram","Filtro","tipoPublicacion","settipoPublicacion","buscarServicios","inputBusqueda","setinputBusqueda","settipo","Card","CardContent","checked","onKeyDown","funcionAceptar","boole","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","FilaPublicacion","contactar","buscarSolicitudes","resenas","precioPresupuesto","setPrecioPresupuesto","noMostrar","setnoMostrar","preguntarPausa","setpreguntarPausa","preguntarEliminar","setpreguntarEliminar","promedio","setpromedio","estrellas","x","undefined","resena","proveedor","Pausa","prevState","delete","overflow","textOverflow","textJustify","serviciosSeleccionados","setServiciosSeleccionados","setservicios","solicitudes","setsolicitudes","resenas_servicio","setresenas_servicio","filtro","ids_","servicio_","servicios_resena","serv_","encontrado","elemento","SingleFileAutoSubmit","funcionSetImagen","ids","archivos","setarchivos","archivosSubidos","setarchivosSubidos","dat","file","imagenUrl","fetch","res","arrayBuffer","buf","File","arch","hacerArchivo","Fragment","getUploadParams","meta","onChangeStatus","status","maxFiles","initialFiles","multiple","maxSizeBytes","canCancel","accept","inputWithFilesContent","inputContent","styles","dropzone","dropzoneActive","borderColor","Registrar","registrar","mensajeAlerta","setmensajeAlerta","tituloPagina","settituloPagina","ImagenPerfil","setImagenPerfil","imagenesBorradas","setimagenesBorradas","imagenesSubidas","setimagenesSubidas","usuario","contrasena_rep","soyProveedor","setSoyProveedor","subirImagen","_id_","archivosNuevos","archivosBorrados","indx","Number","formData","FormData","append","usr","search","espera_verificacion","setTimeout","enviarPut","SubirImagen","subidas","f","OkProveedor","controlGuardar","setcontrolGuardar","setserviciosSeleccionados","pasarImagenes","pasar","imagenes_proveedor","itemserv","servicioSesion","cambiarCheckbox","subirImagenes","datos_ayuda","alinearInputs","j","k","MiPerfil","CrearPublicacion","modificar","setTitulo","modificarInput","report","modificarBloqueadoReporte","estaServicio","servicios_id","maxLength","categoriaSeleccionada","servicioSeleccionado","serv","botones","GestionarReportes","estadoReporte","reportes","modificarReporte","Reporte","split","DesplegarInformacion","setaccion","actualizarReporte","notificacion","Administrador_id","cambiarVariableBloqueado","bool","ruta","_id","FormLabel","RadioGroup","row","Radio","enviarDatos","aceptado","datosNoti","leido","esRespuesta","ParteNuevos","ParteEspera_Historial","notif","VerificarIdentidad","usuariosVerificar","setusuariosVerificar","actualizarUsuario","usuario_id","Solicitud","images","thumbnailWidth","thumbnailHeight","TabPanel","other","Box","p","a11yProps","useStyles","root","paper","backdrop","drawer","PestanaReportes","setValue","setreportes","Tabs","newValue","scrollButtons","indicatorColor","textColor","Tab","CircularProgress","MisPublicaciones","setTituloPagina","PreguntasFrecuentes","pregunta","respuesta","informacion","fila","Accordion","AccordionSummary","expandIcon","aria-controls","AccordionDetails","SobreNosotros","initialState","estadoEditado","VerificarMiIdentidad","DNI","setDNI","ImagenDNI","setImagenDNI","imgs","i_dni","guardarDatos","String","RealizarOpinion","eliminarNotificacion","valorEstrella","setValorEstrella","settitulo","seleccInic","servicios_","yaEsta","srv_","seleccionarServicio","iconos","id_","definirLeido","red","Circle","require","PhotoMessage","progressOptions","strokeWidth","trailColor","trailWidth","step","circle","path","Math","round","setText","this","uri","onOpen","onLoad","onError","onPhotoError","download","click","onDownload","loading","progress","options","initialAnimate","containerClassName","text","Component","defaultProps","FileMessage","Function","bind","classNames","SystemMessage","LocationMessage","center","replace","latitude","longitude","markerColor","zoom","apiKey","buildURL","mapURL","staticURL","SpotifyMessage","formBody","view","property","encodedKey","encodeURIComponent","encodedValue","join","toUrl","frameBorder","allowtransparency","ReplyMessage","photoURL","titleColor","loadedAvatars","Avatar","requestImage","_isMounted","indexOf","self","loaded","setState","onload","onerror","str","hash","charCodeAt","colour","toString","substr","isLazyImage","lazyLoadingImage","isLoaded","letterItem","stringToColour","letter","sideElement","MeetingMessage","toogle","date","dateString","subject","collapseTitle","dataSource","participants","onMeetingTitleClick","onMeetingVideoLinkClick","PARTICIPANT_LIMIT","participantsLimit","dateText","isNaN","toggleClick","slice","avatar","avatars","record","time","savedBy","avatarFlexible","onAvatarError","MessageBox","nextProps","focus","refs","scrollIntoView","block","behavior","onMessageFocused","positionCls","thatAbsoluteTime","test","ref","renderAddCmp","notch","onContextMenu","forwarded","onForwardClick","replyButton","onReplyClick","onTitleClick","reply","onReplyMessageClick","meeting","onMeetingMessageClick","copiableDate","data-text","xmlns","viewBox","d","y","result","dx","dy","stdDeviation","in2","mode","ChatItem","statusColorType","statusColor","statusText","subtitle","unread","ChatList","cmpRef","MessageList","scrollBottom","downButton","loadRef","onScroll","mlistRef","toBottomHeight","scrollTop","scrollHeight","lockable","offsetHeight","getBottom","checkScroll","onDownButtonClick","toBottom","downButtonBadge","Input","maxlength","onMaxLengthExceed","input","substring","autoHeight","maxHeight","FAKE_EVENT","autofocus","leftButtons","inputRef","placeholder","defaultValue","inputStyle","onCopy","onCut","onPaste","onBlur","onFocus","onSelect","onReset","onKeyPress","onKeyUp","rightButtons","Button","buttonRef","float","Navbar","right","Dropdown","show","buttonProps","animationType","animationPosition","onMouseDown","Object","SideBar","Popup","renderHeader","header","headerButtons","renderContent","renderFooter","footerButtons","MeetingItem","AVATAR_LIMIT","avatarLimit","subjectLimit","onShareClick","closable","onCloseClick","onMeetingClick","MeetingList","chats","setchats","mensajes","setmensajes","chatSeleccionado","setchatSeleccionado","confirmacion","setconfirmacion","deshabilitado","setdeshabilitado","setcontenido","atras","setatras","agregarMensaje","img_emisor","img_receptor","obj_noleido","vari","msjs","img_categoria","img_solicitud","sort","a","b","getTime","obj_leido","actualizarMensajes","StarRate","shiftKey","charCode","createMuiTheme","TemaServia","App","setaux","ThemeProvider","CssBaseline","exact","isLocalhost","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","Inicial","ReactDOM","render","getElementById","URL","process","origin","addEventListener","contentType","ready","unregister","reload","checkValidServiceWorker"],"mappings":"o6CAAAA,EAAOC,QAAU,IAA0B,uC,6bCkJ5BC,EAhJCC,aAAW,SAACC,GAAD,MAAY,CACnCC,YAAa,CACTC,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZC,SAAU,OACVC,QAAS,IAEbC,MAAM,CACFL,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZC,SAAU,OACVC,QAAS,GACTE,UAAU,uBAEdC,gBAAgB,CACZP,QAAS,SACTQ,SAAU,SACVC,IAAK,GACLN,SAAU,OACVO,aAAc,GACdC,UAAU,IAEdC,aAAa,CACTD,UAAW,IAEfP,QAAQ,CACJA,QAAS,IAEbS,SAAS,CACLT,QAAS,IAEbU,gBAAgB,CACZV,QAAS,GACTO,UAAW,GACXI,WAAY,4BAEhBC,kBAAkB,CACdC,aAAc,MACdC,UAAW,QACXC,OAAQ,iBACRC,MAAO,IACPC,OAAQ,IACRC,OAAQ,OACRZ,aAAc,GACdC,UAAW,IAEfY,aAAa,CACTC,SAAS,IACTpB,QAAS,GACTM,aAAc,IAElBe,WAAW,CACPL,MAAO,QAEXM,WAAW,CACPP,OAAQ,iBACRQ,UAAW7B,EAAM8B,QAAQ,GACzBxB,QAASN,EAAM+B,QAAQ,EAAG,EAAG,GAC7BC,gBAAiB,WAErBC,cAAc,CACVP,SAAU,IACVQ,SAAU,KAEdC,UAAW,CACPjC,QAAS,SACTQ,SAAU,QACV0B,KAAM,MACNzB,IAAK,oBACL0B,UAAW,wBACXC,OAAQ,KAEZC,OAAO,CACHC,cAAe,QAEnBC,WAAW,CACPjB,OAAQ,QAEZkB,QAAQ,CACJpC,QAAS,GACTO,UAAW,IAEf8B,WAAW,CACPC,eAAe,OACfC,MAAO7C,EAAM8C,QAAQC,UAAUC,KAC/B9C,QAAS,SACT,4BAA6B,CAC3BA,QAAS,SAGf+C,YAAY,CACR/C,QAAS,OACT,4BAA6B,CACzBA,QAAS,WAGjBgD,SAAS,CACThD,QAAS,SACT,4BAA6B,CACzBA,QAAS,SAGbiD,WAAW,CACPP,eAAe,OACfC,MAAO7C,EAAM8C,QAAQC,UAAUK,cAEnCC,YAAY,GAGZC,UAAW,CACPhC,MAAM,IACNC,OAAO,IACPjB,QAAQ,EACRkB,OAAO,OACP+B,WAAW,IAEfC,eAAe,CACXtD,QAAS,SACT,4BAA6B,CACzBA,QAAS,QAEbQ,SAAU,WACV0B,KAAM,MACNzB,IAAK,OACL0B,UAAW,wBACXC,OAAQ,IACRhB,MAAO,SAEXmC,oBAAoB,CAChBvD,QAAS,OACT,4BAA6B,CACzBA,QAAS,UAEbQ,SAAU,WACV0B,KAAM,MACNzB,IAAK,OACL0B,UAAW,wBACXC,OAAQ,S,QC1IVoB,EAAgB,CAClBC,SAAS,wBACTC,IAAI,GACJC,SAAS,EACTC,SAAS,EACTC,sBAAuB,eACvBC,YAAY,CACRC,SAAU,GACVC,QAAS,GACTC,WAAW,EACXC,WAAY,GACZC,YAAa,GACbC,IAAK,GACLC,MAAO,GACPC,QAAQ,EACRC,eAAgB,GAChBC,GAAI,KACJC,kBAAkB,EAClBC,OAAQ,GACRC,QAAS,EACTC,SAAU,QACVC,KAAM,CACFL,GAAI,EAAGM,KAAM,gBACbC,YAAa,4CACbC,KAAM,iBAEVC,SAAU,GACVC,KAAM,EACNC,UAAW,GACXC,WAAY,GACZC,SAAU,GACVC,sBAAsB,EACtBC,aAAc,KAIhBC,EAAU,SAACC,EAAOC,GACpB,IAAIC,EAAQD,EAAOE,MAEnB,OAAQF,EAAOV,MACX,IAAK,WACD,OAAO,2BAAIS,GAAX,IAAkB3B,YAAa6B,IACnC,IAAK,SACD,OAAO,2BAAIF,GAAX,IAAkB/B,IAAKiC,IAC3B,IAAK,aACD,OAAO,2BAAIF,GAAX,IAAkB7B,QAAS+B,IAC/B,IAAK,aACD,OAAO,2BAAIF,GAAX,IAAkB9B,QAASgC,IAC/B,QACI,OAAO,eAAKF,KAIlBI,EAA0BC,wBAActC,GAE9C,SAASuC,EAAT,GAAgD,IAAbC,EAAY,EAAZA,SAAY,EACjBC,qBAAWT,EAAShC,GADH,mBACpCiC,EADoC,KAC7BS,EAD6B,KAG3C,OACI,kBAACL,EAAwBM,SAAzB,CAAkCP,MAAO,CAAEH,QAAOS,aAC7CF,GCtDE,SAASI,EAAT,GAAyB,IAARlB,EAAO,EAAPA,KACxBmB,EAAUzG,IADqB,EAED0G,mBAAS,IAFR,mBAE9BC,EAF8B,KAElBC,EAFkB,OAGLF,oBAAS,GAHJ,mBAG9BG,EAH8B,KAGpBC,EAHoB,OAITC,qBAAWd,GAA/BJ,EAJ6B,EAI7BA,MAJ6B,EAItBS,SAqBf,OAnBAU,qBAAU,WACQ,KAAZnB,EAAM/B,MAA4B,IAAhB+B,EAAM9B,UAC1B+C,GAAY,GAMdG,IAAMC,IAAIrB,EAAMhC,SAAS,mBACxBsD,MAAK,SAAAC,GACJR,EAAcQ,EAASC,MACvBP,GAAY,MAEbQ,OAAM,SAAAC,GACLC,MAAM,qDACNC,QAAQC,IAAIH,EAAMH,gBAVpB,CAACvB,EAAM/B,IAAK+B,EAAM9B,UAelB,yBAAK4D,UAAWlB,EAAQhG,OACtB,kBAACmH,EAAA,EAAD,CAAOC,UAAW,EAAGF,UAAU,QAAQG,MAAO,CAACtG,MAAM,QACnD,kBAACuG,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,KAAKC,MAAM,UAA9C,UACA,kBAACH,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,KAAKC,MAAM,UAAU5C,EAAK,mCAAgC,kDAM3FuB,GAAY,kBAAC,IAAD,CAAUiB,MAAO,CAACpG,OAAO,UAEvC,6BACA,kBAACyG,EAAA,EAAD,CAAMC,WAAS,EAACnG,QAAS,EAAGoG,QAAQ,eAAe/H,WAAW,UAE1DqG,EAAW2B,KAAI,SAACC,EAAKC,GAAN,OACb,kBAACL,EAAA,EAAD,CAAMM,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,IAAKL,EAAGN,MAAM,UAE1C,kBAAC,IAAD,CAAMY,GAAIxD,EAAK,kBAAkBiD,EAAI3D,GAAG,0BAA0B2D,EAAI3D,GAAI+C,UAAWlB,EAAQpD,YAC3F,kBAAC0E,EAAA,EAAD,CAAYG,MAAM,UAAUK,EAAIzD,QAChC,kBAACiE,EAAA,EAAD,KACE,kBAAC,IAAD,CAAQjB,MAAO,CAACtG,MAAM,QAASC,OAAO,SAAUuH,IAAKnD,EAAMhC,SAAS0E,EAAIU,OAAOC,QAAQC,UAAUC,IAAKrG,MAAM,YAAYsG,SAAS,mBAQ7I,6BACCxC,GAAY,+B,gJC3DR,SAASyC,GAAT,GAAwD,IAAnCvD,EAAkC,EAAlCA,MAAOwD,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,aAC7C/C,EAAUzG,IAEhB,OACI,yBAAK2H,UAAWlB,EAAQtG,aACpB,kBAACsJ,GAAA,EAAD,CAAQvE,KAAK,cAAcwE,SAAUF,EAAcG,UAAWJ,EAAYvD,MAAOD,EAAO6D,UAAW,M,cCF/G,SAASC,GAAOC,GACZ,OAAO,kBAAC,KAAD,eAAUjC,UAAW,EAAGI,QAAQ,UAAa6B,IAEzC,SAASC,GAAT,GAAoD,IAA5BC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,SAAUC,EAAQ,EAARA,MAGhDC,GAFUnK,IAEI,SAACoK,EAAOC,GACT,cAAXA,GAGJJ,GAAS,KAGb,OACG,6BACI,kBAAC9B,EAAA,EAAD,CAAMC,WAAS,GACV,kBAACkC,GAAA,EAAD,CAAUC,KAAML,EAAOM,iBAAkB,IAAMC,QAASN,GACpD,kBAACN,GAAD,CAAQY,QAASN,EAAaO,SAAS,WAClCV,MCZV,SAASW,GAAT,GAAmD,IAA3BC,EAA0B,EAA1BA,WAAYC,EAAc,EAAdA,YAC3CpE,EAAUzG,IAD+C,EAEnC+G,qBAAWd,GAA/BJ,EAFuD,EAEvDA,MAFuD,KAEhDS,SACqBI,mBAAS,KAHkB,mBAGxDC,EAHwD,KAG5CC,EAH4C,OAIjCF,oBAAS,GAJwB,mBAIxDoE,EAJwD,KAI/CC,EAJ+C,OAMzBrE,mBAAS,CAC7C9B,GAAI,KACJL,YAAY,GACZyG,OAAO,GACPtF,sBAAsB,EACtBL,SAAU,GACVR,kBAAkB,EAClBoG,UAAW,GACXC,SAAS,EACTC,WAAW,IAfkD,mBAMxDC,EANwD,KAM3CC,EAN2C,KAgE/D,OA7CArE,qBAAU,WACM,KAAZnB,EAAM/B,MAA4B,IAAhB+B,EAAM9B,SACT,OAAd8G,IACDQ,EAAeR,GAMnB,SAA0BS,GACxB,IAAIC,EAAiBD,EAAOL,UAAU3C,KAAI,SAACkD,GAAD,OAAcA,EAASC,aAC7DC,EAAgB,GAEpBH,EAAejD,KAAI,SAAC1D,GAClB8G,GAAe,SAAS9G,EAAG,OAG7BqC,IAAMC,IACJrB,EAAMhC,SAAS,mBAAmB6H,GAEnCvE,MAAK,SAAAC,GACJR,EAAcQ,EAASC,SAExBC,OAAM,SAAAC,GACLC,MAAM,qDACNC,QAAQC,IAAIH,EAAMH,aArBlBuE,CAAiBd,IAEnBpD,QAAQC,IAAI,UAAWmD,KACvB,CAACA,IAuCD,yBAAKlD,UAAWlB,EAAQ9F,iBACtB,kBAACiH,EAAA,EAAD,CAAOC,UAAW,GAChB,kBAACM,EAAA,EAAD,CAAMR,UAAWlB,EAAQjG,QAAS4H,WAAS,EAACwD,UAAU,MAAMvD,QAAQ,gBAAgB/H,WAAW,UAC3F,kBAAC6H,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAIlE,UAAWiD,EAAWnE,EAAQrD,SAASqD,EAAQlD,aAChE,kBAAC,IAAD,CACAuI,IAAI,SACJ9C,IAAiC,OAA5BoC,EAAYW,cAAqBlG,EAAMhC,SAASuH,EAAYW,cAAclG,EAAM5B,sBACrF0D,UAAWlB,EAAQrF,qBAGrB,kBAAC+G,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAIG,OAAQpB,GACzB,kBAAC7C,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,UAC5C,kBAAC,IAAD,CAAMY,GAAI,qBAAqBsC,EAAYxG,GAAI+C,UAAWlB,EAAQpD,YAC/D+H,EAAYJ,OACb,kBAACiB,EAAA,EAAD,CAAQC,QAASd,EAAY1F,sBAC3B,kBAACyG,EAAA,EAAD,CAASC,MAAM,sBACb,kBAACrD,EAAA,EAAD,KAAY,kBAAC,IAAD,CAAYhG,MAAM,kBAOzC,kBAACoF,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAIG,OAAQpB,GAExBQ,EAAYF,SAAY,kBAACmB,GAAA,EAAD,CAAQ1E,UAAWlB,EAAQ5E,WAAYiG,MAAO,CAAChH,aAAa,QAASmH,QAAQ,WAAWyC,SAAS,WAAjG,4CAKxBU,EAAYD,WAAc,kBAACkB,GAAA,EAAD,CAAQ1E,UAAWlB,EAAQ5E,WAAYiG,MAAO,CAAChH,aAAa,QAASmH,QAAQ,WAAWyC,SAAS,SAAjG,2CAM7B,kBAACvC,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAIG,OAAQpB,GACxB,kBAAC0B,EAAA,EAAD,MACA,kBAACvE,EAAA,EAAD,CAAYE,QAAQ,QAAQD,UAAU,IAAIE,MAAM,WAC7CkD,EAAY7G,cAIlB,kBAAC4D,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACV,kBAACS,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,CACAvE,UAAU,MACVwE,kBAAgB,wBAChBC,UACI,kBAACC,EAAA,EAAD,CAAe1E,UAAU,MAAMpD,GAAG,yBAAlC,wBAKA,kBAAC0H,EAAA,EAAD,MAEE3F,EAAW2B,KAAI,SAACmD,EAAWjD,GAAZ,OACb,kBAACmE,GAAD,CAAY9D,IAAKL,EAAGiD,UAAWA,OAGnC,kBAACa,EAAA,EAAD,QAGT,kBAACL,EAAA,EAAD,CAAQC,QAASd,EAAYvG,kBAEI,IAA9BuG,EAAY/F,SAASuH,QACrB,kBAACzE,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACb,uBAAGlE,UAAWlB,EAAQpD,WAAYwJ,KAAM,OAAOzB,EAAY/F,UACzD,kBAAC,IAAD,CAAQyH,UAAW,kBAACC,EAAA,EAAD,OAChB3B,EAAY/F,WAGjB,kBAAC8G,EAAA,EAAD,CAASC,MAAM,UACb,kBAACrD,EAAA,EAAD,CAAYiE,QAAS,kBA1FrC,SAA8B3H,GAE5B,IAAI4H,EAAMC,SAASC,cAAc,SAEjCF,EAAIG,aAAa,QAAS/H,GAE1B6H,SAASG,KAAKC,YAAYL,GAE1BA,EAAIM,SAEJL,SAASM,YAAY,QAErBN,SAASG,KAAKI,YAAYR,GAC1BlC,GAAW,GA6E4B2C,CAAqBtC,EAAY/F,YAAW,kBAAC,KAAD,SAI3E,kBAAC0E,GAAD,CAAeC,QAAS,0BAA2BE,MAAOY,EAASb,SAAUc,QASzF,SAAS4B,GAAT,GAAkC,IAAblB,EAAY,EAAZA,UAAY,GACbzL,IACQ0G,oBAAS,IAFJ,mBAEtB6D,EAFsB,KAEhBoD,EAFgB,KAO7B,OACI,6BACI,kBAACC,EAAA,EAAD,CAAUnL,QAAM,EAACuK,QALL,WAChBW,GAASpD,KAKD,kBAACsD,EAAA,EAAD,CAAcC,QAASrC,EAAU3G,SAC/B,kBAAC,GAAD,CAAWyE,YAAY,EAAOxD,MAAO,MACtCwE,EAAO,kBAACwD,GAAA,EAAD,MAAiB,kBAACC,GAAA,EAAD,OAE7B,kBAACC,EAAA,EAAD,CAAUC,GAAI3D,EAAM4D,QAAQ,OAAOC,eAAa,GAC5C,kBAAC7B,EAAA,EAAD,CAAMvE,UAAU,MAAMqG,gBAAc,GAChC,kBAAC/B,EAAA,EAAD,MAEIb,EAAUR,UAAU3C,KAAI,SAACkD,EAAUhD,GAAX,OACtB,kBAACT,EAAA,EAAD,CAAYc,IAAKL,EAAGP,QAAQ,KAAKD,UAAU,KAAKE,MAAM,QACnDsD,EAAS1G,WAIlB,kBAACwH,EAAA,EAAD,S,iLClLL,SAASgC,GAAT,GAAoE,IAAtC1D,EAAqC,EAArCA,WAAY2D,EAAyB,EAAzBA,UACjD9H,GAD0E,EAAd+H,YAClDxO,KADgE,EAEpD+G,qBAAWd,GAA/BJ,EAFwE,EAExEA,MAFwE,KAEjES,SACSI,oBAAS,IAH+C,mBAGzE6D,EAHyE,KAGnEoD,EAHmE,OAIlDjH,mBAAS,CAAC,CAAC9B,GAAI,KAAME,OAAQ,GAAGQ,MAAM,KAJY,mBAIzEmJ,EAJyE,KAIhEC,EAJgE,OAKxBhI,mBAAS,IALe,mBAKzEiI,EALyE,KAKnDC,EALmD,OAM1ClI,mBAAS,IANiC,mBAMzEnC,EANyE,KAM5DsK,EAN4D,OAOtDnI,oBAAS,GAP6C,mBAOzEwD,EAPyE,KAOlED,EAPkE,OAQhDvD,oBAAS,GARuC,mBAQzEG,EARyE,KAQ/DC,EAR+D,OASlDJ,oBAAS,GATyC,mBASzEsD,EATyE,KAShE8E,EATgE,OAUlCpI,mBAAS,IAVyB,mBAgB1EyD,GAhB0E,UAgB5D,WAClByE,EAAwB,IACxBjB,GAAQ,KA+BV,SAASoB,EAAiBnM,GACxB,IAAIoM,EAAO,UAAUnJ,EAAM/B,IAE3B,GAAiC,IAA9B6K,EAAqB/B,OACtB,GAAoB,IAAjBhK,EAAQgK,OAAW,CACpB,IAAIqC,EAAQ,IAAIC,KACZC,EAAmBvM,EAAQ,GAE/BuM,EAAiB5K,aAAa,4BAC9BoK,EAAqBrG,KAAI,SAAA8G,GAAM,MAAG,IAAIA,EAAOtK,UAAS,gBACrDmK,EAAMI,UAAU,IAAIJ,EAAMK,WAAW,IAAIL,EAAMM,cAAc,MAAMhL,EAEpE0C,IAAMuI,IAAI3J,EAAMhC,SAAS,iBAAiBsL,EAAiBvK,GAAG,CAC5DL,YAAa4K,EAAiB5K,aAE9B,CAACkL,QAAS,CAAC,cAAiBT,KAE7B7H,MAAK,SAAAC,GACJK,QAAQC,IAAI,yBAAyBN,EAASC,MAC9CyH,GAAW,GACX3E,IACAF,GAAS,GACTnD,GAAY,GACZ8H,EAAwB,IACxBC,EAAe,OAEhBvH,OAAM,SAAAC,GACLC,MAAM,+CACNC,QAAQC,IAAIH,EAAMH,kBAGpBH,IAAMyI,KAAK7J,EAAMhC,SAAS,gBAAgB,CACxC4K,QAASE,EAAqBrG,KAAI,SAAAqH,GAAO,OAAGA,EAAQ/K,MACpDgL,aAAchF,EAAW,KAAK2D,EAAU3J,GACxCiL,WAAYjF,EAAW2D,EAAU3J,GAAG2J,EAAUsB,WAAWjL,GACzDkL,QAAQ,EACRpL,OAAQ,EACRH,YAAkC,IAArBA,EAAYqI,OAAWrI,EAAY,4DAChD,CACAkL,QAAS,CAAC,cAAiBT,KAE5B7H,MAAK,SAAAC,GACJK,QAAQC,IAAIN,EAASC,MACrByH,GAAW,GACX3E,IACAF,GAAS,GACTnD,GAAY,GACZ8H,EAAwB,IACxBC,EAAe,OAEhBvH,OAAM,SAAAC,GACLC,MAAM,+CACNC,QAAQC,IAAIH,EAAMH,kBAItBN,GAAY,GACZgI,GAAW,GAsCf,OAhHA9H,qBAAU,WACO,KAAZnB,EAAM/B,MAA4B,IAAhB+B,EAAM9B,SACzBkD,IAAMC,IAAIrB,EAAMhC,SAAS,qBAAqB+G,GAC7CzD,MAAK,SAAAC,GACJsH,EAAWtH,EAASC,SAErBC,OAAM,SAAAC,GACPC,MAAM,+CACJC,QAAQC,IAAIH,EAAMH,eAGtB,CAACvB,EAAM/B,IAAK+B,EAAM9B,UAEpBiD,qBAAU,WACRS,QAAQC,IAAI6G,KACX,CAACA,IAkGF,6BACGrE,GAAS,kBAACH,GAAD,CAAeC,QAAQ,8CAA2CE,MAAOA,EAAOD,SAAUA,IACpG,kBAACkC,EAAA,EAAD,CAASC,MAAOxB,EAAW,kCAAkC,2BAC3D,kBAAC,IAAD,CACIoC,QAzIS,WACjBW,GAAQ,KAyIH,kBAAC,KAAD,QAGH,kBAACoC,GAAA,EAAD,CACEvD,kBAAgB,yBAChBwD,mBAAiB,+BACjBrI,UAAWlB,EAAQtG,YACnBoK,KAAMA,EACNE,QAASN,EACT8F,sBAAsB,EACtBC,kBAAmBC,KACnBC,cAAe,CACbjC,QAAS,MAGX,kBAACkC,GAAA,EAAD,CAAMnC,GAAI3D,GACR,yBAAK5C,UAAWlB,EAAQ3E,YACtB,kBAACiG,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,UAA9C,2BAGA,kBAACoI,GAAA,EAAD,CAAWC,UAAQ,GAEjB9B,EAAQnG,KAAI,SAAC8G,EAAO5G,GAAR,OACV,kBAACgI,GAAA,EAAD,CACE3H,IAAKL,EACLiI,QACA,kBAACC,GAAA,EAAD,CACEzI,QAAQ,QACRyB,SAAU,YA7J5B,SAA2BiH,IACZ,IAAV3G,GACD8E,GAAW,GACb,IAAI8B,EAAOjC,EAAqBkC,MAAK,SAACzB,GAAD,OAAYA,EAAOxK,KAAK+L,EAAO/L,MAIlEgK,EAHEgC,EAGsBjC,EAAqBmC,QAAO,SAAC1B,GAAD,OAAUA,EAAOxK,KAAK+L,EAAO/L,MAFzD,SAACmM,GAAD,6BAAeA,GAAf,CAAwB,CAACnM,GAAG+L,EAAO/L,GAAIE,OAAO6L,EAAO7L,YAwJhDkM,CAAkB5B,MAGnC6B,MAAO7B,EAAOtK,aAMpB,kBAACmH,EAAA,EAAD,CAAQC,QAASlC,GAAWnD,GAC1B,kBAACkB,EAAA,EAAD,CAAYhF,MAAM,SAAlB,gCAKF,kBAACmO,GAAA,EAAD,CAAWvJ,UAAWlB,EAAQ5E,WAAY6H,SAAU,SAACyH,GAAKtC,EAAesC,EAAEC,OAAOpL,QAASA,MAAOzB,EAAaK,GAAG,eAAeqM,MAAM,wBAAwBhJ,QAAQ,SAASoJ,WAAS,IACzL,6BACCxK,GAAY,kBAACyK,EAAA,EAAD,CAAgBvO,MAAM,cACnC,kBAAC,IAAD,CAAQwO,SAAU1K,EAAUc,UAAWlB,EAAQ5E,WAAYiG,MAAO,CAAC/G,UAAU,IAAKyQ,KAAK,QAAQvJ,QAAQ,YAAYlF,MAAM,UAAUiK,QAtF7I,WACElG,GAAY,GACZ,IAAIkI,EAAO,UAAUnJ,EAAM/B,IAC3B2D,QAAQC,IAAI6G,GACR3D,GAA6B,OAAf2D,EAAU3J,IAC1BqC,IAAMC,IAAIrB,EAAMhC,SAAS,8BAA8B0K,EAAU3J,GAAG,YACjE,CAAC6K,QAAS,CAAC,cAAiBT,KAE9B7H,MAAK,SAAAC,GACJK,QAAQC,IAAIN,EAASC,MACrB0H,EAAiB3H,EAASC,SAE3BC,OAAM,SAAAC,GACLC,MAAM,+CACNC,QAAQC,IAAIH,EAAMH,aAInBwD,GAA6B,OAAf2D,EAAU3J,IACzBqC,IAAMC,IAAIrB,EAAMhC,SAAS,4BAA4B0K,EAAU3J,GAAG,YAC/D,CAAC6K,QAAS,CAAC,cAAiBT,KAE9B7H,MAAK,SAAAC,GACJK,QAAQC,IAAIN,EAASC,MACrB0H,EAAiB3H,EAASC,SAE3BC,OAAM,SAAAC,GACLC,MAAM,+CACNC,QAAQC,IAAIH,EAAMH,eA0Dd,cClMG,SAASqK,GAAT,GAAkE,IAAxC7G,EAAuC,EAAvCA,WAAY8G,EAA2B,EAA3BA,YAC7CjL,GADwE,EAAd+H,YAChDxO,KAD8D,EAElD+G,qBAAWd,GAA/BJ,EAFsE,EAEtEA,MAFsE,KAE/DS,SAEiBI,mBAAS,KAJqC,mBAIvEiL,EAJuE,KAI7DC,EAJ6D,OAMxClL,mBAAS,CAC7C9B,GAAI,KACJoG,OAAO,GACP6G,OAAO,GACPpG,UAAU,GACVD,SAAS,GACTsG,SAAU,EACVvN,YAAY,GACZoN,SAAS,CAAC,IACVzG,SAAS,EACTC,WAAW,EACX0E,WAAY,KACZ9D,cAAe,KAlB6D,mBAMvEgG,EANuE,KAM1DC,EAN0D,KAiD9E,OA5BAhL,qBAAU,WACV,IAAgB,KAAZnB,EAAM/B,MAA4B,IAAhB+B,EAAM9B,UACT,OAAd2N,EAAmB,CACpB,IAAIO,EAAMP,EAAYC,SAASrJ,KAAI,SAACW,GAClC,MAAQ,CACNiJ,SAAUrM,EAAMhC,SAASoF,EAAOG,IAChCD,UAAWtD,EAAMhC,SAASoF,EAAOG,QAGrCwI,EAAYK,GACZD,EAAe,CACbpN,GAAI8M,EAAY9M,GAChBoG,OAAQ0G,EAAY1G,OACpBS,UAAWiG,EAAYjG,UACvBD,SAAUkG,EAAYlG,SACtBsG,SAAU,EACVvN,YAAamN,EAAYnN,YACzB4N,gBAAiBT,EAAYS,gBAC7B7M,KAAMoM,EAAYpM,KAClB4F,QAASwG,EAAYxG,QACrByG,SAAUD,EAAYC,SACtBxG,UAAWuG,EAAYvG,UACvB0E,WAAY6B,EAAY7B,WACxB9D,cAAe2F,EAAY3F,mBAGjC,CAAC2F,EAAa7L,EAAM/B,IAAK+B,EAAM9B,UAG7B,yBAAK4D,UAAWlB,EAAQtG,aACtB,kBAACyH,EAAA,EAAD,CAAOC,UAAW,GAChB,kBAACM,EAAA,EAAD,CAAMR,UAAWlB,EAAQjG,QAAS4H,WAAS,EAACwD,UAAU,MAAMvD,QAAQ,gBAAgB/H,WAAW,UAEzFyR,EAAY7G,SAAY,kBAACmB,GAAA,EAAD,CAAQ1E,UAAWlB,EAAQ5E,WAAYiG,MAAO,CAAChH,aAAa,QAASmH,QAAQ,WAAWyC,SAAS,WACxF,WAA9BqH,EAAYI,gBAA2B,2CAA2C,6CAIrFJ,EAAY5G,WAAc,kBAACkB,GAAA,EAAD,CAAQ1E,UAAWlB,EAAQ5E,WAAYiG,MAAO,CAAChH,aAAa,QAASmH,QAAQ,WAAWyC,SAAS,SAC1F,WAA9BqH,EAAYI,gBAA2B,yCAAyC,+CAGrF,kBAAChK,EAAA,EAAD,CAAMM,MAAI,EAACG,GAAI,GAAIoD,QAASpB,EAAY1C,MAAM,SAASP,UAAWiD,EAAWnE,EAAQtD,YAAYsD,EAAQlD,aACvG,kBAAC,IAAD,CACAuI,IAAI,SACJ9C,IAAiC,KAA5B+I,EAAYhG,cAAmBlG,EAAMhC,SAASkO,EAAYhG,cAAclG,EAAM5B,sBACnF0D,UAAWlB,EAAQrF,qBAGrB,kBAAC+G,EAAA,EAAD,CAAMM,MAAI,EAACG,GAAI,EAAGD,GAAI,EAAGD,GAAI,GAAIsD,OAAQpB,GACrC,kBAAC7C,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,QAC3C6J,EAAYzM,KAAK,mBAAmB,eADvC,KACyDyM,EAAYI,kBAIzE,kBAAChK,EAAA,EAAD,CAAM6D,OAAQpB,EAAYnC,MAAI,EAACG,GAAI,EAAGD,GAAI,EAAGD,GAAI,GAAIR,MAAM,SACzD,yBAAKA,MAAM,SACT,kBAACkK,GAAA,EAAD,CAAaC,UAAW,kBAAC,KAAD,CAAkBhJ,SAAS,UAAYiJ,aAAW,cACxE,kBAACvK,EAAA,EAAD,CAAYhF,MAAM,WAAWgP,EAAYtG,WAEvCiG,EAAYpM,MACZ,kBAACyC,EAAA,EAAD,CAAYhF,MAAM,WAAWgP,EAAYvG,cAMhC,IAAhB3F,EAAM9B,UAAoB6G,IAAemH,EAAY5G,WACpD,kBAAChD,EAAA,EAAD,CAAMM,MAAI,EAACG,GAAI,EAAGD,GAAI,EAAGD,GAAI,GAC3B,kBAAC4F,GAAD,CAAqB1D,WAAYA,EAAY2D,UAAWwD,KAI5D,kBAAC5J,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAIjB,EAAW,GAAG,GAAIlC,GAAIkC,EAAW,GAAG,IACjD,kBAAC7C,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,QAC3C6J,EAAY/G,OAEXJ,GAAc,kBAACqB,EAAA,EAAD,CAAQC,QAAS6F,EAAYrM,sBAAsB,kBAACyG,EAAA,EAAD,CAASC,MAAM,sBAC9E,kBAACrD,EAAA,EAAD,KAAY,kBAAC,KAAD,CAAYhG,MAAM,kBAMrB,IAAhB8C,EAAM9B,SAAmB6G,IAAemH,EAAY5G,WACnD,kBAAChD,EAAA,EAAD,CAAMM,MAAI,EAACG,GAAI,EAAGD,GAAI,EAAGD,GAAI,GAC3B,kBAAC4F,GAAD,CAAqB1D,WAAYA,EAAY2D,UAAWwD,KAI5D,kBAAC5J,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACb,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,QAAQD,UAAU,IAAIE,MAAM,WAC7C6J,EAAYxN,cAGjB,kBAAC4D,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACb,kBAAC,KAAD,CAAc0G,MAAyB,IAAlBZ,EAAS/E,OAAW,CAAC,CAACsF,SAAUrM,EAAM5B,sBAAsBkF,UAAWtD,EAAM5B,wBAAwB0N,Q,2CCrHzH,SAASa,GAAT,GAA6B,IAATC,EAAQ,EAARA,MACzBhM,EAAUzG,IADuB,EAEX+G,qBAAWd,GAA/BJ,EAF+B,EAE/BA,MAF+B,KAExBS,SACmBI,mBAAS,KAHJ,mBAGhCgM,EAHgC,KAGrBC,EAHqB,OAIWjM,mBAAS,GAJpB,mBAIhCkM,EAJgC,KAIbC,EAJa,KAMvC7L,qBAAU,YACU,KAAZnB,EAAM/B,KAAY+B,EAAM9B,UACF,OAAnB0O,EAAM5C,YACL5I,IAAMC,IAAIrB,EAAMhC,SAAS,0BAA0B4O,EAAM5C,WAAWjL,GAAG,cAAc6N,EAAMK,aAC1F3L,MAAK,SAAAC,GACFK,QAAQC,IAAIN,EAASC,MACrBsL,EAAavL,EAASC,MACtB,IAAI0L,EAAQ,EACZ3L,EAASC,KAAKiB,KAAI,SAAA0K,GACdD,GAAQC,EAAIC,iBAEhBJ,EAAqBE,EAAO3L,EAASC,KAAKuF,WAE7CtF,OAAM,SAAAC,GACHC,MAAM,gDACNC,QAAQC,IAAIH,EAAMH,eAIhC,CAACvB,EAAM/B,IAAK+B,EAAM9B,QAAS0O,IAyB7B,OAFAS,aAAS,WArBU,SAACC,EAAQC,EAAOC,GAI/B,MAAO,CACP,CAAC,cAAe,eAChB,CAAC,mBAAoB,kBACrB,CAAC,gBAAiB,eAClB,CAAC,kBAAmB,iBACpB,CAAC,cAAe,aAChB,CAAC,gBAAiB,eAClB,CAAC,gBAAc,eACf,CAAC,kBAAgB,iBACjB,CAAC,gBAAiB,eAClB,CAAC,kBAAmB,iBACpB,CAAC,aAAc,YACf,CAAC,gBAAiB,eAClB,CAAC,gBAAc,eACf,CAAC,kBAAgB,kBACfD,MAKF,yBAAKzL,UAAWlB,EAAQtG,aACxB,kBAACyH,EAAA,EAAD,CAAOC,UAAW,GACd,kBAACM,EAAA,EAAD,CAAMR,UAAWlB,EAAQjG,QAAS4H,WAAS,EAACwD,UAAU,MAAMvD,QAAQ,aAAa/H,WAAW,UACxF,kBAAC6H,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,QAA9C,eAIJ,kBAACC,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC9D,EAAA,EAAD,aAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,UAA9C,QAA6D,QAElC,IAAnBwK,EAAU9F,QACV,oCAAE,kBAAC,GAAD,CAAWrD,YAAY,EAAOxD,MAAO6M,IAAvC,cAAgEA,EAAhE,sBAA+FF,EAAU9F,OAAzG,6CAIZ,kBAACzE,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IAEY,IAAnB6G,EAAU9F,QAAc,kBAACP,GAAA,EAAD,CAAQ1E,UAAWlB,EAAQ5E,WAAYiG,MAAO,CAAChH,aAAa,QAASmH,QAAQ,WAAWyC,SAAS,QACxH,kDAIDgI,EAAUpK,KAAI,SAACgL,EAAS9K,GAAV,OACV,kBAAC+K,GAAD,CAAQD,QAASA,EAASzK,IAAKL,WAU3D,SAAS+K,GAAT,GAA4B,IAAXD,EAAU,EAAVA,QACP7M,EAAUzG,IAChB,OACI,kBAAC4H,EAAA,EAAD,CAAOK,QAAQ,WAAWuL,QAAM,GAC5B,kBAACrL,EAAA,EAAD,CAAMR,UAAWlB,EAAQjG,QAAS4H,WAAS,EAACwD,UAAU,MAAMvD,QAAQ,eAAe/H,WAAW,YAC1F,kBAAC6H,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GACX,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,QACzCoL,EAAQtI,SAGjB,kBAAC7C,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GACX,kBAAC,GAAD,CAAWtC,YAAY,EAAOxD,MAAOuN,EAAQL,iBAEjD,kBAAC9K,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,QAAQD,UAAU,IAAIE,MAAM,WAC3CoL,EAAQ/O,cAIL,kBAAC4D,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,EAAG3D,MAAM,QAC5B,kBAACiE,EAAA,EAAD,CAASC,MAAM,YACX,kBAAC,IAAD,CAAQU,UAAW,kBAAC,KAAD,OACdwG,EAAQG,kBAGjB,kBAACtH,EAAA,EAAD,CAASC,MAAM,eACX,kBAAC,IAAD,CAAQrJ,MAAM,YAAY+J,UAAW,kBAAC,KAAD,OAChCwG,EAAQI,mBAOjBJ,EAAQrI,UAAU3C,KAAI,SAACkD,EAAUhD,GAAX,OAClB,kBAACL,EAAA,EAAD,CAAMU,IAAKL,EAAGC,MAAI,EAACoD,GAAI,EAAG3D,MAAM,UAC5B,kBAACyL,GAAA,EAAD,CAAM1L,QAAQ,WAAWgJ,MAAOzF,EAAS1G,aAKzD,kBAACqD,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,EAAG3D,MAAM,SACnB0L,aAAO,IAAI1E,KAAKoE,EAAQhP,YAAY,c,qFCpI1C,SAASuP,GAAT,GAA+D,IAAjCrI,EAAgC,EAAhCA,SAAUsI,EAAsB,EAAtBA,oBAC/CrN,EAAUzG,IAD2D,EAEjC0G,mBAAU,6BAAK,kBAAC,KAAD,QAFkB,mBAEpEqN,EAFoE,KAErDC,EAFqD,OAGzCtN,mBAAS8E,EAASyI,cAHuB,mBAGpEC,EAHoE,KAGzDC,EAHyD,KAM3EC,IAAMpN,WAAU,YACa,IAAxBwE,EAASyI,cACVE,GAAa,GACbH,EAAiB,6BAAK,kBAAC,KAAD,UAEtBG,GAAa,GACbH,EAAiB,6BAAK,kBAAC,KAAD,WAExB,IAaF,OACE,yBAAKrM,UAAWlB,EAAQtG,aACtB,kBAACwT,GAAA,EAAD,CAAMU,WAAS,EAACtR,MAAM,UAAUkO,MAAOzF,EAAS1G,OAAQwP,KAAMP,EAAe/G,QAb7D,WAClB8G,GAAqBI,IACN,IAAZA,GACDC,GAAa,GACbH,EAAiB,6BAAK,kBAAC,KAAD,UAEtBG,GAAa,GACbH,EAAiB,6BAAK,kBAAC,KAAD,aClBrB,SAASO,GAAT,GAAoD,IAA3BC,EAA0B,EAA1BA,KAAM5J,EAAoB,EAApBA,WAAY6H,EAAQ,EAARA,MAC1ChM,EAAUzG,IADwC,EAE5B+G,qBAAWd,GAA/BJ,EAFgD,EAEhDA,MAFgD,KAEzCS,SACS8N,IAAM1N,UAAS,IAHiB,mBAGjD6D,EAHiD,KAG3CoD,EAH2C,OAIxByG,IAAM1N,UAAS,GAJS,mBAIjDG,EAJiD,KAIvCC,EAJuC,OAK1BsN,IAAM1N,SAAS,IALW,mBAKjDsD,EALiD,KAKxC8E,EALwC,OAM9BsF,IAAM1N,UAAS,GANe,mBAMjDwD,EANiD,KAM1CD,EAN0C,OAOtBvD,mBAAS,IAPa,mBAOjD+E,EAPiD,KAOtCgJ,EAPsC,OAQN/N,mBAAS,IARH,mBAQjDgO,EARiD,KAQ9BC,EAR8B,KAyGtD,OAxFF3N,qBAAU,WAAKS,QAAQC,IAAI+K,KAAQ,CAACA,IAEpCzL,qBAAU,WACR,GAAI4D,EAAW,CACb,IAAIrC,EAAM,GACNqM,EAAS,GACfnC,EAAMxH,UAAU3C,KAAI,SAACkD,GACfjD,EAAIsM,eAAerJ,EAASC,aAC9BlD,EAAIiD,EAASC,WAAaD,EAASC,UACnCmJ,EAAOE,KAAKtJ,EAASC,eAIzB,IAAIsJ,EAAM,GACVH,EAAOtM,KAAI,SAAC1D,GACF,OAALA,IACCmQ,GAAK,SAASnQ,EAAG,QAIvB,IAAIoK,EAAO,UAAUnJ,EAAM/B,IACR,IAAhB8Q,EAAOhI,QACR3F,IAAMC,IAAIrB,EAAMhC,SAAS,mBAAmBkR,EAAI,CAC9CtF,QAAS,CAAC,cAAiBT,KAE5B7H,MAAK,SAAAC,GACJuN,EAAqBvN,EAASC,SAE/BC,OAAM,SAAAC,GACLC,MAAM,6CACNC,QAAQC,IAAIH,EAAMH,gBAIxB,CAACqL,IAuDG,6BACI,yBAAK9K,UAAW6M,EAAK/N,EAAQpE,UAAUoE,EAAQuO,UAC7C,kBAAC,IAAD,CACE/M,QAAQ,YACRlF,MAAM,UACN+J,UAAW,kBAACmI,GAAA,EAAD,MACXjI,QAtGO,WACjBW,GAAQ,KAiGA,cASJ,kBAACoC,GAAA,EAAD,CACEvD,kBAAgB,yBAChBwD,mBAAiB,+BACjBrI,UAAWlB,EAAQtG,YACnBoK,KAAMA,EACNE,QA7GY,WAClBkD,GAAQ,IA6GFsC,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACbjC,QAAS,MAGX,kBAACkC,GAAA,EAAD,CAAMnC,GAAI3D,EAAMzC,MAAO,CAACtH,QAAQ,SAC9B,yBAAKmH,UAAWlB,EAAQ3E,YACtB,yBAAKgG,MAAO,CAAClG,SAAS,KAAM+F,UAAU,SACtC,kBAACQ,EAAA,EAAD,CAAOC,WAAS,EAACwD,UAAU,MAAMvD,QAAQ,SAAUpG,QAAS,GACxD,kBAACkG,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,yBAAK3D,MAAM,UACP,kBAAC,IAAD,CACE4D,IAAI,SACJ9C,IAA2B,OAAtByJ,EAAM1G,cAAqB0G,EAAM1G,cAAclG,EAAM5B,sBAC1D0D,UAAWlB,EAAQrF,sBAG7B,kBAAC+G,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,SAASP,UAAWlB,EAAQyO,MACrEzC,EAAM3N,SAIf,0BAAMqQ,SA7FtB,SAAwBhE,GACtBrK,GAAY,GACZ,IAAIkI,EAAO,UAAUnJ,EAAM/B,IAG3B,GAFAqN,EAAEiE,iBAEa,KAAZvP,EAAM/B,IAAS,CAChB,IAAIuR,EAAaX,EAAkB5D,QAAO,SAAAwE,GAAI,OAAIA,EAAKxQ,SAAW2G,KAElExE,IAAMyI,KAAK7J,EAAMhC,SAAS,cAAc,CACtC0R,eAAgB,EAChBC,iBAAkB,EAClBC,OAAQ5P,EAAM3B,YAAYU,GAC1B8Q,SAAUjD,EAAMkD,IAChBpH,UAAWkE,EAAMmD,IACjBnK,UAAWb,EAAWyK,EAAW,GAAGzQ,GAAG,KACvCiR,UAAU,GACV,CACApG,QAAS,CAAC,cAAiBT,KAE5B7H,MAAK,SAAAC,GACJK,QAAQC,IAAIN,EAASC,MAErBJ,IAAMyI,KAAK7J,EAAMhC,SAAS,iBAAiB,CACzCiS,UAAW9L,EACX+L,aAAa,EACbC,KAAM5O,EAASC,KAAKzC,IACpB,CACA6K,QAAS,CAAC,cAAiBT,KAE5B7H,MAAK,SAAAC,GACJK,QAAQC,IAAIN,EAASC,MACrB4C,GAAS,GACT0D,GAAQ,GACR7G,GAAY,MAEbQ,OAAM,SAAAC,GACLC,MAAM,6CACNC,QAAQC,IAAIH,EAAMH,gBAIrBE,OAAM,SAAAC,GACLC,MAAM,6CACNC,QAAQC,IAAIH,EAAMH,kBAGpBI,MAAM,8DACNV,GAAY,IA8CgCa,UAAWlB,EAAQ5E,YACjD,kBAACoU,GAAA,EAAD,CAAalT,MAAM,UAAUmT,WAAS,GAElCtL,GACA,kBAACzC,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IAEX,kBAACsK,GAAA,EAAD,CAAYvR,GAAG,YAAYqD,QAAQ,UAAnC,gBACA,kBAACmO,GAAA,EAAD,CACIpQ,MAAOyF,EACPvG,KAAK,YACLwE,SAAU,SAACyH,GAAKsD,EAAatD,EAAEC,OAAOpL,QACtCpB,GAAG,YACHyR,QAAQ,YACRpO,QAAQ,SACRgJ,MAAM,eACNtJ,UAAWlB,EAAQ5E,WACnB0O,UAAQ,GAENmE,EAAkBpM,KAAI,SAACmD,EAAWjD,GAAZ,OACpB,kBAAC8N,EAAA,EAAD,CAAUzN,IAAKL,EAAGxC,MAAOyF,EAAU3G,QAAS2G,EAAU3G,aAQpE,6BACA,kBAACqD,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACb,kBAACqF,GAAA,EAAD,CACExH,SAAU,SAACyH,GAAKrC,EAAWqC,EAAEC,OAAOpL,QACpC2B,UAAWlB,EAAQ5E,WACnB+C,GAAG,eACHqM,MAAM,qBACNhJ,QAAQ,SACRsI,UAAQ,EACRc,WAAS,KAIb,kBAAClJ,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAI3D,MAAM,UACvB,6BAEErB,GAAY,kBAACyK,EAAA,EAAD,MAEd,kBAAC,IAAD,CACEC,SAAU1K,EACVoB,QAAQ,YACRlF,MAAM,UACNqC,KAAK,UAJP,+BAgBhB,kBAAC2E,GAAD,CAAeC,QAAQ,oCAA8BC,SAAUA,EAAUC,MAAOA,K,cC7MzE,SAASqM,KACJvW,IAAhB,IADkC,EAEN+G,qBAAWd,GAA/BJ,EAF0B,EAE1BA,MACFjB,GAH4B,EAEnB0B,SACFkQ,cAAP5R,IAH4B,EAII8B,mBAAS,CAC3C9B,GAAI,KACJL,YAAY,GACZO,OAAO,GACPX,SAAS,GACTuB,sBAAsB,EACtBL,SAAU,GACVR,kBAAkB,EAClBqG,SAAS,EACTC,WAAW,EACXF,UAAW,GACXc,cAAe,KAfe,mBAI3BlB,EAJ2B,KAId4L,EAJc,OAiBI/P,mBAAS,CAC3C9B,GAAI,KACJL,YAAY,GACZyG,OAAO,GACPmH,gBAAiB,EACjB7M,MAAM,EACN4F,SAAS,EACTC,WAAW,EACXwG,SAAU,GACV9B,WAAY,OA1BkB,mBAiB3B6B,EAjB2B,KAiBdgF,EAjBc,KAsFlC,OAzDA1P,qBAAU,WACU,KAAZnB,EAAM/B,MAA4B,IAAhB+B,EAAM9B,SACxBkD,IAAMC,IAAIrB,EAAMhC,SAAS,kBAAkBe,GAC1CuC,MAAK,SAAAC,IAUd,SAAwBC,GACpBqP,EAAe,CACX9R,GAAIyC,EAAKzC,GACToG,OAAQ3D,EAAK2D,OACbzG,YAAa8C,EAAK9C,YAClB4N,gBAAiB9K,EAAK8K,gBACtB7M,KAAM+B,EAAK/B,KACX4F,QAAS7D,EAAK6D,QACdyG,SAAUtK,EAAKsK,SACflG,UAAWpE,EAAKsP,aAAa7R,OAC7B0G,SAAUnE,EAAK/B,KAAK+B,EAAKuP,YAAY9R,OAAO,KAC5C+K,WAAYxI,EAAKwI,WACjB1E,UAAW9D,EAAK8D,UAChB2H,YAAazL,EAAK/B,KAAK+B,EAAKuP,YAAYhS,GAAG,OAG/C,IAAIoK,EAAmB,KAAZnJ,EAAM/B,IAAS,UAAU+B,EAAM/B,IAAI,GAE9CmD,IAAMC,IACFrB,EAAMhC,SAAS,UAAUwD,EAAKwI,WAAWjL,GAAG,CACxC6K,QAAS,CACT,cAAiBT,KAGpB7H,MAAK,SAAAC,GACFqP,EAAe,CACX7R,GAAIwC,EAASC,KAAKzC,GAClBL,YAAa6C,EAASC,KAAK9C,YAC3ByG,OAAO,GAAD,OAAK5D,EAASC,KAAKvC,OAAnB,YAA6BsC,EAASC,KAAKlD,UACjDuB,qBAAsB0B,EAASC,KAAK3B,qBACpCL,SAAU+B,EAASC,KAAKhC,SACxBR,iBAAkBuC,EAASC,KAAKxC,iBAChCoG,UAAW7D,EAASC,KAAK4D,UACzBE,UAAW/D,EAASC,KAAK8D,UACzBD,QAAS9D,EAASC,KAAK3C,OACvBqH,cAA6C,OAA9B3E,EAASC,KAAK0E,cAAqB,KAAK3E,EAASC,KAAK0E,cAAc3C,SAG1F9B,OAAM,SAAAC,GACHC,MAAM,8CACNC,QAAQC,IAAIH,EAAMH,aAjDlByP,CAAezP,EAASC,SAE3BC,OAAM,SAAAC,GACHC,MAAM,gDACNC,QAAQC,IAAIH,EAAMH,eAG5B,CAACvB,EAAM/B,IAAK+B,EAAM9B,UA+ChB,kBAAC+S,GAAA,EAAD,CAAWhP,MAAO,CAACtG,MAAO,QACtB,kBAAC2G,EAAA,EAAD,CAAMC,WAAS,EAACwD,UAAU,MAAMvD,QAAQ,SAAS/H,WAAW,WACxD,kBAAC6H,EAAA,EAAD,CAAMM,MAAI,EAACE,GAAI,EAAGkD,GAAI,IACpB,kBAAC4F,GAAD,CAAiB7G,YAAY,EAAO8G,YAAaA,IAChDA,EAAYpM,MAAQ,kBAACkN,GAAD,CAAWC,MAAOf,KAIrCA,EAAYpM,MACR,kBAAC6C,EAAA,EAAD,CAAMM,MAAI,EAACE,GAAI,EAAGkD,GAAI,IAClB,kBAAClB,GAAD,CAAeC,YAAY,EAAOC,YAAaA,KAMvDA,EAAYjG,KAAKiB,EAAM3B,YAAYU,KAAO8M,EAAYxG,UAAYwG,EAAYvG,YAAcN,EAAYK,UAAYL,EAAYM,WAChI,kBAACoJ,GAAD,CAAgBC,MAAM,EAAM5J,YAAY,EAAO6H,MAAO,CAACmD,IAAKlE,EAAY9M,GAAI+Q,IAAK9K,EAAYjG,GAAIE,OAAQ+F,EAAYG,OAAQe,cAAelB,EAAYkB,mB,cC5G7J,SAASgL,GAAT,GAAmC,IAAX/M,EAAU,EAAVA,QAC/BvD,EAAUzG,IAD+B,EAEnB+G,qBAAWd,GAA/BJ,EAFuC,EAEvCA,MAAOS,EAFgC,EAEhCA,SAFgC,EAGvBI,oBAAS,GAHc,mBAGxC6D,EAHwC,KAGlCoD,EAHkC,OAIfjH,oBAAS,GAJM,mBAIxCG,EAJwC,KAI9BC,EAJ8B,OAKnBJ,mBAAS,IALU,mBAKxCsQ,EALwC,KAKhCC,EALgC,OAMPvQ,oBAAS,GANF,mBAMxCwQ,EANwC,KAM1BC,EAN0B,OAQrBzQ,mBAAS,CACjCjC,MAAM,GACN2S,WAAW,KAVkC,mBAQxC3E,EARwC,KAQjC4E,EARiC,KAiBzClN,EAAc,WAClBwD,GAAQ,IAGJ2J,EAAe,SAACnG,GACpB,IAAIpL,EAAQoL,EAAEC,OAAOpL,MACjBuR,EAAQpG,EAAEC,OAAOlM,KACrBmS,EAAS,2BACF5E,GADC,kBAEH8E,EAAQxR,MA6Df,OACE,6BACE,kBAACyR,GAAA,EAAD,CAAS3K,KAAK,IAAI/E,MAAO,CAAC/E,MAAM,QAAQvC,QAAS,QAASwM,QA5E3C,WACjBW,GAAQ,KA4EH3D,GAEH,kBAAC+F,GAAA,EAAD,CACEvD,kBAAgB,yBAChBwD,mBAAiB,+BACjBrI,UAAWlB,EAAQtG,YACnBoK,KAAMA,EACNE,QAASN,EACT8F,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACbjC,QAAS,MAGX,kBAACkC,GAAA,EAAD,CAAMnC,GAAI3D,GACR,yBAAK5C,UAAWlB,EAAQ3E,YACtB,yBAAK6F,UAAU,QAASG,MAAO,CAAClG,SAAS,MACrC,kBAACuG,EAAA,EAAD,CAAOC,WAAS,EAACwD,UAAU,MAAMvD,QAAQ,SAAUpG,QAAS,GAC1D,kBAACkG,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACb,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,SAASP,UAAWlB,EAAQyO,MACvEgC,EAAa,0BAAuB,sBAIzC,kBAAC/O,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACb,kBAACqF,GAAA,EAAD,CACExH,SAAU4N,EACVpS,KAAK,QACLc,MAAOyM,EAAMhO,MACbkD,UAAWlB,EAAQ5E,WACnB+C,GAAG,eACHqM,MAAM,gCACNhJ,QAAQ,SACRsI,UAAQ,KAGZ,kBAACjE,EAAA,EAAD,MAEA,kBAACnE,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,KAEVqL,GAAgB,kBAAChG,GAAA,EAAD,CACfxH,SAAU4N,EACVpS,KAAK,aACLc,MAAOyM,EAAM2E,WACb7G,UAAQ,EACRnL,KAAK,WACL6L,MAAM,gBACNhJ,QAAQ,SACRH,MAAO,CAAC/G,UAAU,QAClB4G,UAAWlB,EAAQ5E,cAMzB,kBAACoK,EAAA,EAAD,CAAQC,OAAkB,KAAVlC,GACd,kBAACjC,EAAA,EAAD,CAAYhF,MAAM,SACbiU,IAIP,kBAAC7O,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,KAEVqL,GAAgB,kBAACM,GAAA,EAAD,CAASzU,MAAM,YAAY4E,UAAWlB,EAAQzF,aAAc6L,KAAK,IAAIG,QAAS,WAAKmK,GAAgB,KAAnG,+BAMrB,kBAAChP,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IAEXqL,GAAgB,kBAACM,GAAA,EAAD,CAAS7P,UAAWlB,EAAQzF,aAAc6L,KAAK,IAAIG,QAAS,WAAKmK,GAAgB,KAAjF,aAMpB,yBAAKxP,UAAWlB,EAAQ5E,WAAYmK,QAASnF,GAC3C,kBAACyK,EAAA,EAAD,OAGF,kBAACnJ,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACb,kBAAC,IAAD,CACEmB,QA/IE,WACpBlG,GAAY,GAERoQ,GAkCFzP,QAAQC,IAAI+K,GACZxL,IACCyI,KAAK,6CAA8C,CAClDjL,MAAOgO,EAAMhO,OACb,CACAgL,QAAQ,CACN,eAAgB,sBAGnBtI,MAAK,SAAAC,GACJK,QAAQC,IAAI,8BAA+BN,EAASC,SAErDC,OAAM,SAAAC,GAELE,QAAQC,IAAI,qBAAsBH,EAAMH,cA/C1CH,IACCyI,KAAK7J,EAAMhC,SAAS,eAAgB,CACnC4T,WAAYhF,EAAMhO,MAClBiT,SAAUjF,EAAM2E,aAEjBjQ,MAAK,SAAAC,GAEFK,QAAQC,IAAI,wCAEZpB,EAAS,CAAClB,KAAK,WAAYY,MAAOoB,EAASC,KAAKsQ,OAChDrR,EAAS,CAAClB,KAAK,SAAUY,MAAOoB,EAASC,KAAKvD,MAE9C8T,aAAaC,QAAQ,aAAcC,KAAKC,UAAU,CAChDjU,IAAKsD,EAASC,KAAKvD,IACnBI,YAAakD,EAASC,KAAKsQ,QAG7BlQ,QAAQC,IAAIN,EAASC,KAAKsQ,MAE1B7Q,GAAY,GACZ6G,GAAQ,MAEXrG,OAAM,SAAAC,GAEL,IAAIyQ,EAAMF,KAAKG,MAAM1Q,EAAMH,SAAS8Q,QAAQ9Q,UAAU+Q,QAAQ,GAAGC,SAAS,GAAGxT,GAC7E6C,QAAQC,IAAI,UAAUsQ,GAEb,4BAANA,GACDf,EAAU,sCAEZnQ,GAAY,OA8GE0K,KAAK,QACLvJ,QAAQ,YACRlF,MAAM,WAEDmU,EAA8B,YAAjB,sBAKtB,kBAAC5K,EAAA,EAAD,MAEA,kBAACnE,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,KAEVqL,GAAgB,kBAACnP,EAAA,EAAD,CAAYiF,QAAS7C,EAAalC,QAAQ,QAAQC,MAAM,UAAxD,yBAEf,kBAAC,IAAD,CAAMY,GAAG,cAAT,wBC3LT,SAASuP,GAAT,GAA0D,IAA9BC,EAA6B,EAA7BA,WAAYC,EAAiB,EAAjBA,eAC7C9R,EAAUzG,IAEhB,OACI,yBAAK8H,MAAO,CAACtH,QAAQ,sBACjB,kBAACuH,EAAA,EAAD,CAAYG,MAAM,SAASF,UAAU,KAAKC,QAAQ,MAAlD,kBACyB,IAAxBsQ,EAAe3L,QAAa,kBAAC7E,EAAA,EAAD,wCAEzBwQ,EAAejQ,KAAI,SAACkQ,EAAMhQ,GAAP,OACf,yBAAKK,IAAKL,GACN,kBAAC8N,EAAA,EAAD,CAAUtJ,QAASsL,GACf,kBAACnQ,EAAA,EAAD,CAAMC,WAAS,EAACnG,QAAS,EAAGoG,QAAQ,UAChC,kBAACF,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC,IAAD,CAAM/C,GAAG,kBAAkBnB,UAAWlB,EAAQpD,YAC1C,kBAAC0E,EAAA,EAAD,KACiB,IAAZyQ,EAAKlT,OAA8B,OAAjBkT,EAAKjK,UACxB,oFAA8EiK,EAAKjK,UAAUvD,OAAO,IACpG,kEACa,IAAZwN,EAAKlT,OAAuC,KAA1BkT,EAAKC,mBACxB,qEACA,mEACa,IAAZD,EAAKlT,MAAL,yDAA8DkT,EAAK/C,OAAO3Q,OAA1E,YAAoF0T,EAAK/C,OAAOtR,SAAhG,UAMrB,kBAACmI,EAAA,EAAD,UAIZ,kBAACgK,EAAA,EAAD,CAAUtJ,QAASsL,GACX,kBAAC,IAAD,CAAMxP,GAAG,kBAAkBnB,UAAWlB,EAAQpD,YAC1C,kBAAC0E,EAAA,EAAD,CAAYhF,MAAM,aAAlB,mCC3BT,SAAS2V,KAAuB,IAAD,EAChB3R,qBAAWd,GAA/BJ,EADoC,EACpCA,MAAOS,EAD6B,EAC7BA,SACTG,EAAUzG,IACZ2Y,EAAUC,cAH8B,EAIZlS,mBAAS,MAJG,mBAIrCmS,EAJqC,KAI3BC,EAJ2B,OAKZpS,mBAAS,MALG,mBAKrCqS,EALqC,KAK3BC,EAL2B,OAMZtS,mBAAS,MANG,mBAMrCuS,EANqC,KAM3BC,EAN2B,OAOUxS,oBAAS,GAPnB,mBAOrCyS,EAPqC,KAOhBC,EAPgB,OAQN1S,mBAASb,EAAM3B,YAAYoB,MARrB,mBAQrC+T,EARqC,KAQxBC,EARwB,OASA5S,mBAAS,IATT,oBASrC6R,GATqC,MASrBgB,GATqB,SAUI7S,mBAAS,GAVb,qBAUrC8S,GAVqC,MAUnBC,GAVmB,MAa5CrF,IAAMpN,WAAU,WACd,IAAI0S,EAAS9B,aAAa+B,QAAQ,eAAiB,KAC/CC,EAAe9B,KAAKG,MAAMyB,GAC9B,GAAkB,OAAfE,EAAoB,CACrBtT,EAAS,CAAClB,KAAK,WAAYY,MAAO4T,EAAa1V,cAC/CoC,EAAS,CAAClB,KAAK,SAAUY,MAAO4T,EAAa9V,MAC7C,IAAIkL,EAAO,UAAU4K,EAAa9V,IAGlCmD,IACCC,IAAIrB,EAAMhC,SAAS,UAAU+V,EAAa1V,YAAYU,GAAG,CACxD6K,QAAS,CACL,cAAiBT,KAGtB7H,MAAK,SAAAC,GAEFK,QAAQC,IAAI,uCAAwCN,EAASC,MAC7Df,EAAS,CAAClB,KAAK,WAAYY,MAAOoB,EAASC,OAC3Cf,EAAS,CAAClB,KAAK,SAAUY,MAAO4T,EAAa9V,MAE7C8T,aAAaC,QAAQ,aAAcC,KAAKC,UAAU,CAChDjU,IAAK8V,EAAa9V,IAClBI,YAAakD,EAASC,QAyBhC,SAA0BvD,EAAK6T,GAC7B,IAAI3I,EAAO,UAAUlL,EAGnBmD,IAAMC,IAAIrB,EAAMhC,SAAS,cAAc,CACnC4L,QAAS,CAAC,cAAiBT,KAE9B7H,MAAK,SAAAC,GAEJ,IAAIyS,EAASzS,EAASC,KAAKyJ,QAAO,SAAAkF,GAAI,OAAKA,EAAKN,SAAS9Q,KAAO+S,EAAK/S,IAAMoR,EAAKP,OAAO7Q,KAAO+S,EAAK/S,MAC/FkV,EAAW,EACfD,EAAOvR,KAAI,SAAAyR,GACNA,EAAMtE,OAAO7Q,KAAK+S,EAAK/S,KACxBkV,GAAWC,EAAMxE,gBAGhBwE,EAAMrE,SAAS9Q,KAAK+S,EAAK/S,KAC1BkV,GAAWC,EAAMvE,qBAIrBiE,GAAoBK,MAErBxS,OAAM,SAAAC,GACLE,QAAQC,IAAI,sDACZD,QAAQC,IAAIH,EAAMH,aAhDhB4S,CAAiBJ,EAAa9V,IAAKsD,EAASC,SAE/CC,OAAM,SAAAC,GACLE,QAAQC,IAAI,UAAUH,EAAMH,aAG9BH,IAAMC,IAAIrB,EAAMhC,SAAS,gCAAgC+V,EAAa1V,YAAYU,GAAG,eAAe,CAClG6K,QAAS,CAAC,cAAiBT,KAE5B7H,MAAK,SAAAC,GACJK,QAAQC,IAAIN,EAASC,MACrBkS,GAAkBnS,EAASC,KAAK4S,cAEjC3S,OAAM,SAAAC,GACLC,MAAM,sDACNC,QAAQC,IAAIH,EAAMH,kBAIpBd,EAAS,CAAClB,KAAK,aAAcY,OAAO,MAEtC,IAgCFgB,qBAAU,WACRsS,EAAezT,EAAM3B,YAAYoB,QACjC,CAACO,EAAM3B,YAAYoB,OAErB,IAsCM4U,GAAe,WACnBpB,EAAY,OAKRqB,GAAa,WACjBnB,EAAY,OAMRV,GAAa,WACjBY,EAAY,OAEd,OACE,yBAAKpR,MAAO,CAAEsS,SAAU,IACtB,kBAACC,EAAA,EAAD,CAAQzZ,SAAS,WAAWkH,MAAO,CAACtH,QAAS,gBAC3C,kBAAC8Z,EAAA,EAAD,KAGE,kBAACvS,EAAA,EAAD,CAAYD,MAAO,CAACsS,SAAS,EAAG5Y,MAAM,SAAUwG,UAAU,KAAKC,QAAQ,MACrE,kBAAC,IAAD,CAAMa,GAAG,IAAIhB,MACX,CACEsS,SAAU,EACVtX,eAAe,OACfC,MAAM,UACNwX,WAAY,WACZlR,SAAU,GACV7H,MAAM,UAER,yBAAKsG,MAAO,CAAC1H,QAAQ,OAAQoB,MAAM,QAASlB,WAAW,WACrD,kBAAC,IAAD,CAAQwH,MAAO,CAACtG,MAAM,OAAQC,OAAO,QAASuH,IAAI,cAAcf,QAAQ,SAASoB,SAAS,YAD5F,YAOJ,6BACE,kBAAClB,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,SAASmS,aAAa,UAC5C,kBAACrS,EAAA,EAAD,CAAMM,MAAI,GACR,kBAAC,IAAD,CAAMK,GAAG,IAAInB,UAAWlB,EAAQ5D,YAC9B,kBAAC,IAAD,CAAQiF,MAAO,CAACtH,QAAQ,SAAxB,uBAKF,kBAAC,IAAD,CAAMsI,GAAG,sBAAsBkD,OAAsB,IAAdqN,EAAiB1R,UAAyB,IAAd0R,EAAgB5S,EAAQ5D,WAAW4D,EAAQlD,aAC5G,kBAAC,IAAD,CAAQuE,MAAO,CAACtH,QAAQ,SAAxB,uBAGF,kBAAC,IAAD,CAAMsI,GAAG,6BAA6BkD,OAAsB,IAAdqN,EAAiB1R,UAAyB,IAAd0R,EAAgB5S,EAAQ5D,WAAW4D,EAAQlD,aACnH,kBAAC,IAAD,CAAQuE,MAAO,CAACtH,QAAQ,SAAxB,8BAGF,kBAAC,IAAD,CAAMsI,GAAG,qBAAqBkD,OAAsB,IAAdqN,EAAiB1R,UAAyB,IAAd0R,EAAgB5S,EAAQ5D,WAAW4D,EAAQlD,aAC3G,kBAAC,IAAD,CAAQuE,MAAO,CAACtH,QAAQ,SAAxB,sBAGF,kBAAC,IAAD,CAAMsI,GAAG,qBAAqBkD,OAAsB,IAAdqN,EAAiB1R,UAAyB,IAAd0R,EAAgB5S,EAAQ5D,WAAW4D,EAAQlD,aAC3G,kBAAC,IAAD,CAAQuE,MAAO,CAACtH,QAAQ,SAAxB,0BAIF,kBAAC2H,EAAA,EAAD,CAAMM,MAAI,EAACuD,OAAQqN,EAAY,GAC7B,kBAAC,IAAD,CAAQvR,MAAO,CAACpG,OAAO,GAAIlB,QAAQ,mBAAoByH,QAAQ,YAAYlF,MAAM,aAC/E,kBAAC,GAAD,CAAciH,QAAQ,uBAGxB,kBAAC,IAAD,CAAMlB,GAAG,aAAanB,UAAWlB,EAAQrD,SAAU0E,MAAO,CAAChF,eAAe,OAAOC,MAAO,UACtF,kBAAC,IAAD,CAAQkF,QAAQ,YAAYlF,MAAM,YAAY+E,MAAO,CAACtH,QAAQ,IAA9D,wBASV,yBAAKwL,OAAsB,IAAdqN,GAET,kBAACtQ,EAAA,EAAD,CAAYhG,MAAM,UAAUiK,QAzElB,SAAC5C,GACrBgP,GAAuB,GACvBF,EAAY9O,EAAMqQ,iBAwEN,kBAACC,EAAA,EAAD,CAAOC,aAAcpC,GAAe3L,OAAQ7J,MAAM,aAChD,kBAAC6X,EAAA,EAAD,QAGJ,kBAACC,EAAA,EAAD,CAAMjW,GAAG,cAAckW,SAAU7B,EAAU8B,aAAW,EAACxQ,KAAMyQ,QAAQ/B,GAAWxO,QAAS6N,IAErFa,GAAuB,kBAACd,GAAD,CAAmBE,eAAgBA,GAAgBD,WAAYA,MAKxF,kBAAC,IAAD,CAAMxP,GAAG,aAAahB,MAAO,CAAC/E,MAAM,UAClC,kBAACgG,EAAA,EAAD,CAAYhG,MAAM,WACd,kBAAC2X,EAAA,EAAD,CAAOC,aAAcnB,GAAkBzW,MAAM,aAC3C,kBAACkY,EAAA,EAAD,SAOV,kBAAClS,EAAA,EAAD,CACEmS,KAAK,MACL5I,aAAW,0BACX6I,gBAAc,OACdpY,MAAM,UACNiK,QAhHU,SAAC5C,GACvB0O,EAAY1O,EAAMqQ,iBAiHR,kBAACW,EAAA,EAAD,OAEF,kBAACP,EAAA,EAAD,CACEjW,GAAG,cACHkW,SAAUjC,EACVkC,aAAW,EACXxQ,KAAMyQ,QAAQnC,GACdpO,QAASyP,IAET,kBAAC5D,EAAA,EAAD,CAAUtJ,QAASkN,IACjB,kBAAC,IAAD,CAAMpR,GAAG,qBAAqBnB,UAAWlB,EAAQpD,YAC/C,kBAACgY,EAAA,EAAD,KACE,kBAAC,IAAD,CAAQvT,MAAO,CAAC/E,MAAM,OAAQvB,MAAM,OAAQC,OAAO,QAASuH,IAAI,sBAAsBf,QAAQ,SAASoB,SAAS,WAElH,kBAACtB,EAAA,EAAD,CAAYE,QAAQ,WAApB,yBAIJ,yBAAK+D,OAAsB,IAAdqN,GACX,kBAAC/C,EAAA,EAAD,CAAUtJ,QAASkN,IACjB,kBAACmB,EAAA,EAAD,KACE,kBAAC,IAAD,CAAiBhS,SAAS,WAE5B,kBAAC,IAAD,CAAMP,GAAG,uBAAuBnB,UAAWlB,EAAQpD,YAAY,kBAAC0E,EAAA,EAAD,CAAYE,QAAQ,WAApB,uCAInE,yBAAK+D,OAAsB,IAAdqN,GACX,kBAAC/C,EAAA,EAAD,CAAUtJ,QAASkN,IACjB,kBAACmB,EAAA,EAAD,KACE,kBAAC,IAAD,CAAQhS,SAAS,WAEnB,kBAAC,IAAD,CAAMP,GAAI,qBAAqBjD,EAAM3B,YAAYU,GAAI+C,UAAWlB,EAAQpD,YAAY,kBAAC0E,EAAA,EAAD,CAAYE,QAAQ,WAApB,iCAIxF,yBAAK+D,OAAsB,IAAdqN,IAA8D,IAA3CxT,EAAM3B,YAAYwB,sBAChD,kBAAC4Q,EAAA,EAAD,CAAUtJ,QAASkN,IACjB,kBAACmB,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAkBjS,SAAS,WAE7B,kBAAC,IAAD,CAAMP,GAAI,2BAA4BnB,UAAWlB,EAAQpD,YAAY,kBAAC0E,EAAA,EAAD,CAAYE,QAAQ,WAApB,6BAIzE,kBAACqO,EAAA,EAAD,CAAUtJ,QAlMD,WACnB8L,EAAY,MACZxS,EAAS,CAAClB,KAAK,WAAYY,MAAO,CAChC7B,SAAU,GACVC,QAAS,GACTC,WAAW,EACXC,WAAY,GACZC,YAAa,GACbC,IAAK,GACLC,MAAO,GACPC,QAAQ,EACRE,GAAI,KACJC,kBAAkB,EAClBC,OAAQ,GACRC,QAAS,EACTC,SAAU,QACVC,KAAM,CACJL,GAAI,EAAGM,KAAM,gBACbC,YAAa,4CACbC,KAAM,iBAERC,SAAU,GACVC,KAAM,EACNC,UAAW,GACXC,WAAY,GACZC,SAAU,GACVC,sBAAsB,KAGxBY,EAAS,CAAClB,KAAK,SAAUY,MAAO,KAChCM,EAAS,CAAClB,KAAK,aAAcY,OAAO,IACpC4R,aAAaC,QAAQ,aAAcC,KAAKC,UAAU,OAClDY,EAAQ7D,KAAK,OAmKD,kBAACuG,EAAA,EAAD,KACE,kBAAC,IAAD,CAAehS,SAAS,WAE1B,kBAACtB,EAAA,EAAD,CAAYE,QAAQ,WAApB,uBAMN,yBAAKN,UAAyB,IAAd0R,EAAgB5S,EAAQtD,YAAYsD,EAAQlD,aAC1D,kBAACwF,EAAA,EAAD,CAAYpB,UAAWlB,EAAQ8U,OAAQvO,QApK3B,SAAC5C,GACrB4O,EAAY5O,EAAMqQ,gBAmKqD1X,MAAM,UAAUmY,KAAK,MAAM5I,aAAW,oBACnG,kBAAC,IAAD,OAEF,kBAACuI,EAAA,EAAD,CACEjW,GAAG,cACHkW,SAAU/B,EACVgC,aAAW,EACXxQ,KAAMyQ,QAAQjC,GACdtO,QAAS0P,IAET,kBAAC,IAAD,CAAMrR,GAAG,aAAakD,OAAsB,IAAdqN,EAAiB1R,UAAWlB,EAAQpD,YAChE,kBAACiT,EAAA,EAAD,CAAUtJ,QAASmN,IAAnB,0BACA,8BAGF,kBAAC,IAAD,aAAMrR,GAAG,IAAInB,UAAWlB,EAAQtD,aAAhC,YAAwDsD,EAAQpD,YAC9D,kBAACiT,EAAA,EAAD,CAAUtJ,QAASmN,IACjB,kBAACpS,EAAA,EAAD,CAAYE,QAAQ,WAApB,wBAKJ,yBAAK+D,OAAQqN,EAAY,GAAKA,EAAY,GACxC,kBAAC,IAAD,aAAMvQ,GAAG,sBAAsBnB,UAAyB,IAAd0R,EAAgB5S,EAAQtD,YAAYsD,EAAQlD,aAAtF,YAA8GkD,EAAQpD,YACpH,kBAACiT,EAAA,EAAD,CAAUtJ,QAASmN,IAAnB,uBAEF,kBAAC,IAAD,aAAMrR,GAAG,6BAA6BnB,UAAyB,IAAd0R,EAAgB5S,EAAQtD,YAAYsD,EAAQlD,aAA7F,YAAqHkD,EAAQpD,YAC3H,kBAACiT,EAAA,EAAD,CAAUtJ,QAASmN,IAAnB,+BAKJ,yBAAKnO,OAAsB,IAAdqN,GACX,kBAAC,IAAD,aAAMvQ,GAAG,qBAAqBnB,UAAWlB,EAAQtD,aAAjD,YAAyEsD,EAAQpD,YAC/E,kBAACiT,EAAA,EAAD,CAAUtJ,QAASmN,IAAnB,yBAEF,kBAAC,IAAD,aAAMrR,GAAG,qBAAqBnB,UAAWlB,EAAQtD,aAAjD,YAAyEsD,EAAQpD,YAC/E,kBAACiT,EAAA,EAAD,CAAUtJ,QAASmN,IAAnB,uBAKJ,yBAAKnO,OAAsB,IAAdqN,GACX,kBAAC,IAAD,CAAMvQ,GAAG,sBAAsBnB,UAAWlB,EAAQpD,YAAY,kBAACiT,EAAA,EAAD,CAAUtJ,QAASmN,IAAnB,uBAC9D,kBAAC,IAAD,CAAMrR,GAAG,uBAAuBnB,UAAWlB,EAAQpD,YAAY,kBAACiT,EAAA,EAAD,CAAUtJ,QAASmN,IAAnB,iC,wBCnWhE,SAASqB,KACpB,IAAM/U,EAAUzG,IADa,EAES0G,oBAAS,GAFlB,mBAEtB+U,EAFsB,KAETC,EAFS,KAI7B,OACI,6BACG,kBAACrB,EAAA,EAAD,CAAQzZ,SAAS,WAAW+a,OAAO,MAAM7T,MAAO,CAACtF,OAAQ,IACpD,kBAAC8X,EAAA,EAAD,KACI,kBAACnS,EAAA,EAAD,CAAMC,WAAS,EAACwD,UAAU,MAAMtL,WAAW,SAAS+H,QAAQ,UACxD,kBAACF,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAInD,GAAI,EAAGR,MAAM,UAE5B,kBAAC,IAAD,CAAMP,UAAWlB,EAAQpD,WAAYyF,GAAG,yBAAxC,yBAEJ,kBAACX,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAInD,GAAI,EAAGR,MAAM,UAE5B,uBAAG2E,KAAK,IAAIlF,UAAWlB,EAAQpD,WAAY2J,QAAS,WAAK0O,GAAgBD,KAAzE,kBAEIA,GAAe,6BACX,uBAAG5O,KAAK,+BAA+BlF,UAAWlB,EAAQpD,YAA1D,yBAA+F,6BAC/F,uBAAGwJ,KAAK,sCAAsClF,UAAWlB,EAAQpD,YAAjE,kCAIZ,kBAAC8E,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAInD,GAAI,EAAGR,MAAM,UAC5B,kBAACH,EAAA,EAAD,uBAGA,uBAAG8E,KAAK,uCAAuCuE,OAAO,SAASzJ,UAAWlB,EAAQpD,YAAY,kBAACuY,GAAA,EAAD,CAAUvS,SAAS,WACjH,uBAAGwD,KAAK,gDAAgDuE,OAAO,SAASzJ,UAAWlB,EAAQpD,YAAY,kBAACwY,GAAA,EAAD,CAAWxS,SAAS,gB,4CC/BxI,SAASyS,GAAT,GAA0I,IAAzHC,EAAwH,EAAxHA,gBAAiBC,EAAuG,EAAvGA,mBAAoB/Q,EAAmF,EAAnFA,UAAW6I,EAAwE,EAAxEA,oBAAqBmI,EAAmD,EAAnDA,gBAAiBC,EAAkC,EAAlCA,cAAeC,EAAmB,EAAnBA,iBAC7H1V,EAAUzG,IADsI,EAE/H0G,oBAAS,GAFsH,mBAE/IpB,EAF+I,KAE1I8W,EAF0I,KAOtJ,OAHApV,qBAAU,WACRgV,GAAoB1W,KACpB,CAACA,IAED,kBAAC+W,GAAA,EAAD,aAAM1U,UAAWlB,EAAQzF,aAAciH,QAAQ,YAA/C,YAAqExB,EAAQvF,iBAC3E,kBAACob,GAAA,EAAD,KACE,kBAACvU,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,MAAnC,mCAIA,kBAACG,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACb,kBAAC2E,GAAA,EAAD,CACE7I,UAAWlB,EAAQ5E,WACnB4O,QAAS,kBAACC,GAAA,EAAD,CAAU6L,QAASjX,EAAMJ,KAAK,OAAOwE,SAAU,SAACyH,GAAKiL,EAAQjL,EAAEC,OAAOmL,YAC/EtL,MAAM,wEAKR8K,GACA,kBAAC5T,EAAA,EAAD,CAAMC,WAAS,EAACT,UAAWlB,EAAQzF,aAAciB,QAAS,EAAGoG,QAAQ,eAAe/H,WAAW,UAE3F2K,EAAU3C,KAAI,SAACkD,EAAShD,GAAV,OACZ,kBAACL,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,EAAGnD,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAIC,IAAKL,GAC3C,kBAAC,GAAD,CAAqBK,IAAKL,EAAGgD,SAAUA,EAAUsI,oBAAqBA,SAOhF,kBAAC5C,GAAA,EAAD,CACEvJ,UAAWlB,EAAQzF,aACnBgF,MAAOkW,EACPnZ,MAAM,YACN2G,SAAU,SAACyH,GAAKgL,EAAiBhL,EAAEC,OAAOpL,QAC1CwW,UAAW,SAACrL,GAAgB,UAARA,EAAEtI,KAAeoT,KACrChL,MAAM,oBAAoBhJ,QAAQ,WAClCuJ,KAAK,SAAS0E,WAAS,IAEzB,kBAAC,IAAD,CAAQlJ,QAASiP,EAAiBtU,UAAWlB,EAAQzF,aAAc+B,MAAM,YAAYkF,QAAQ,aAA7F,YAMR,SAAS4L,GAAT,GAA+D,IAAjCrI,EAAgC,EAAhCA,SAAUsI,EAAsB,EAAtBA,oBAChCrN,EAAUzG,IAD4C,EAElB0G,oBAAS,GAFS,mBAErDqN,EAFqD,KAEtCC,EAFsC,OAG1BtN,oBAAS,GAHiB,mBAGrDwN,EAHqD,KAG1CC,EAH0C,KAgB5D,OACE,yBAAKxM,UAAWlB,EAAQtG,aACtB,kBAACwT,GAAA,EAAD,CAAMU,WAAS,EAACtR,MAAM,UAAUkO,MAAOzF,EAAS1G,OAAQwP,KAAMP,EAAc,kBAAC,KAAD,MAAQ,kBAAC,KAAD,MAAU/G,QAb9E,WAClB8G,EAAoBtI,EAAS5G,KACd,IAAZsP,GACDC,GAAa,GACbH,GAAiB,KAEjBG,GAAa,GACbH,GAAiB,Q,0IChER,SAASnK,GAAT,GAAoD,IAAnCmB,EAAkC,EAAlCA,OAAQyR,EAA0B,EAA1BA,eAAgBzS,EAAU,EAAVA,QAAU,EACxCtD,oBAAS,GAD+B,mBACzD6D,EADyD,KACnDoD,EADmD,OAEhCjH,oBAAS,GAFuB,mBAEzDG,EAFyD,KAE/CC,EAF+C,KAI1DqD,EAAc,SAACuS,GACnB5V,GAAY,GACZ2V,EAAeC,GACf5V,GAAY,GACZ6G,GAAQ,IAGV,OACE,6BACE,kBAACgP,GAAA,EAAD,CACEpS,KAAMA,EACNE,QAAS,WAAKN,GAAY,IAC1BqC,kBAAgB,qBAChBwD,mBAAiB,4BAEjB,kBAAC4M,GAAA,EAAD,CAAahY,GAAG,sBAAsBoG,GACtC,kBAAC6R,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAmBlY,GAAG,4BACnBoF,IAGL,kBAAC+S,GAAA,EAAD,KACE,kBAAC,IAAD,CAAQ/P,QAAS,WAAK7C,GAAY,IAASpH,MAAM,WAAjD,YAGA,kBAAC,IAAD,CAAQiK,QAAS,WAAK7C,GAAY,IAAQpH,MAAM,UAAUia,WAAS,GAAnE,WAGCnW,GAAY,kBAAC,IAAD,SChBR,SAASoW,GAAT,GAA2F,IAAjElB,EAAgE,EAAhEA,gBAAiBtJ,EAA+C,EAA/CA,MAAOyK,EAAwC,EAAxCA,UAAWC,EAA6B,EAA7BA,kBAAmBC,EAAU,EAAVA,QACvF3W,EAAUzG,IADuF,EAErD0G,mBAAS,IAF4C,mBAEhG2W,EAFgG,KAE7EC,EAF6E,OAGrE5W,oBAAS,GAH4D,mBAGhG6W,EAHgG,KAGrFC,EAHqF,OAI3EzW,qBAAWd,GAA/BJ,EAJ+F,EAI/FA,MAJ+F,KAIxFS,SAC6BI,oBAAS,IALkD,mBAKhG+W,EALgG,KAKhFC,EALgF,OAMrDhX,oBAAS,GAN4C,mBAMhGiX,EANgG,KAM7EC,EAN6E,OAOvElX,mBAAS,GAP8D,mBAOhGmX,EAPgG,KAOtFC,EAPsF,OASjEpX,mBAAS,CAC7C9B,GAAI,KACJoG,OAAQ,GACRzG,YAAa,GACb4N,gBAAiB,EACjBR,SAAU,GACVnG,SAAU,GACVuS,UAAU,EACVlO,WAAY,CAACjL,GAAI,KAAME,OAAO,GAAIX,SAAU,GAAI4H,cAAc,MAC9D6K,YAAa,CAAC9R,OAAO,IACrBoG,SAAS,IAnB4F,mBAShGwG,EATgG,KASnFgF,EATmF,KAsBvG1P,qBAAU,WACRS,QAAQC,IAAIgK,KACX,CAACA,IAEJ1K,qBAAU,WAGNsW,EADCvB,EACoB,kBAEA,iBAEvB,IAEF/U,qBAAU,WACR,GAAsB,OAAnByL,EAAM5C,WAAkB,CACzB6G,EAAejE,GACf,IAAIuL,EAAIvL,EAAM5C,WAAWjL,KAAKiB,EAAM3B,YAAYU,GAChD4Y,GAAcQ,MAGhB,CAACvL,IAEHzL,qBAAU,WACR,GAAa,OAAVoW,QAA4Ba,IAAVb,EAAqB,CAExC,IAAIrK,EAAQ,EAAGvK,EAAI,EACnB4U,EAAQA,QAAQ9U,KAAI,SAAC4V,GAChBA,EAAOC,UAAUvZ,KAAK6N,EAAM5C,WAAWjL,KACxCmO,GAAOmL,EAAOjL,cACdzK,QAGJsV,EAAY/K,EAAMvK,MAEpB,CAAC4U,IA8CH,OACE,kBAACf,GAAA,EAAD,CAAM1U,UAAWlB,EAAQvF,iBACvB,kBAACiH,EAAA,EAAD,CAAMC,WAAS,EAACnG,QAAS,EAAGoG,QAAQ,UAE9BqJ,EAAYxG,SAAY,kBAACmB,GAAA,EAAD,CAAQ1E,UAAWlB,EAAQ5E,WAAYiG,MAAO,CAAChH,aAAa,QAASmH,QAAQ,WAAWyC,SAAS,WAAjG,6CAKxBgH,EAAYvG,WAAc,kBAACkB,GAAA,EAAD,CAAQ1E,UAAWlB,EAAQ5E,WAAYiG,MAAO,CAAChH,aAAa,QAASmH,QAAQ,WAAWyC,SAAS,SAAjG,4EAI5B,kBAACvC,EAAA,EAAD,CAAMC,WAAS,EAACnG,QAAS,EAAGoG,QAAQ,SAAS/H,WAAW,UACtD,kBAAC6H,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAIlD,GAAI,EAAGD,GAAI,GAAIR,MAAM,UACtC,yBACEP,UAAWlB,EAAQrF,kBACnB4H,IAAmC,IAA9B0I,EAAYC,SAAS/E,OAAW/G,EAAMhC,SAAS6N,EAAYC,SAAS,GAAGvI,IAAIvD,EAAM5B,sBACtF6H,IAAI,kBAGR,kBAAC3D,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAIlD,GAAI,EAAGD,GAAI,IAC5B,kBAACX,EAAA,EAAD,CAAYG,MAAM,OAAOF,UAAU,KAAKC,QAAQ,MAAhD,UACMyJ,EAAY7B,WAAW/K,OAD7B,YACuC4M,EAAY7B,WAAW1L,UAC5D,kBAAC8H,EAAA,EAAD,CAAQC,QAASwF,EAAY7B,WAAWnK,sBAAsB,kBAACyG,EAAA,EAAD,CAASC,MAAM,sBAC3E,kBAACrD,EAAA,EAAD,CAAYjB,MAAO,CAACtH,QAAS,IAAI,kBAAC,KAAD,CAAYuC,MAAM,gBAIvD,kBAACgF,EAAA,EAAD,CAAYG,MAAM,OAAOF,UAAU,KAAKC,QAAQ,MAC3CyJ,EAAY1G,OACf,kBAACiB,EAAA,EAAD,CAAQC,OAAQqR,GACd,kBAAC,IAAD,CAAMzU,GAAIiT,EAAgB,0BAA0BrK,EAAY9M,GAAG,iCAAiC8M,EAAY9M,IAChH,kBAACuH,EAAA,EAAD,CAASC,MAAM,yBACb,kBAACrD,EAAA,EAAD,KAAa,kBAAC,KAAD,CAAQhG,MAAM,eAG7B,kBAACoJ,EAAA,EAAD,CAASC,MAAM,yBACb,kBAACrD,EAAA,EAAD,CAAYiE,QAAS,WAAK0Q,GAAkB,KAAShM,EAAYxG,QAAQ,kBAAC,KAAD,CAAWnI,MAAM,YAAa,kBAAC,KAAD,CAAOA,MAAM,cAEtH,kBAACoJ,EAAA,EAAD,CAASC,MAAM,2BACb,kBAACrD,EAAA,EAAD,CAAYiE,QAAS,WAAK4Q,GAAqB,KAAQ,kBAAC,KAAD,CAAU7a,MAAM,gBAGvE0a,GACA,kBAAC,GAAD,CACAzT,QAAS0H,EAAYxG,QACrB,sBAAmBwG,EAAY1G,OAAO,2DACrC,sBAAmB0G,EAAY1G,OAAO,yEACvCyR,eAzEQ,SAACC,GACzB,IAAI1N,EAAO,UAAUnJ,EAAM/B,IAC3B,GAAG4Y,EAAM,CACP,IAAI0B,GAAS1M,EAAYxG,QACzBjE,IAAMuI,IACN3J,EAAMhC,SAAS,kBAAkB6N,EAAY9M,GAAG,CAC9CsG,QAASkT,GACT,CACA3O,QAAS,CAAC,cAAiBT,KAE5B7H,MAAK,SAAAC,GACJK,QAAQC,IAAI,oBAAoBN,EAASC,SAE1CC,OAAM,SAAAC,GACLE,QAAQC,IAAI,mDAAiDH,EAAMH,aAErEsP,GAAe,SAAA2H,GAAS,kCACnBA,GADmB,IAEtBnT,QAASkT,OAGbV,GAAkB,IAqDF1S,OAAQ0G,EAAYxG,QACpB,6DACC,4DAGDyS,GACA,kBAAC,GAAD,CACA3T,QAAS,uCAAoC0H,EAAY1G,OAAO,0CAChEyR,eArGU,SAACC,GAC3B,IAAI1N,EAAO,UAAUnJ,EAAM/B,IACxB4Y,GACDzV,IAAMqX,OACJzY,EAAMhC,SAAS,kBAAkB6N,EAAY9M,GAAG,CAC9C6K,QAAS,CAAC,cAAiBT,KAG5B7H,MAAK,SAAAC,GACJK,QAAQC,IAAI,uBAAuBN,EAASC,MAC5C8V,OAED7V,OAAM,SAAAC,GACLE,QAAQC,IAAI,qDAAmDH,EAAMH,aAG3EwW,GAAqB,IAsFL5S,OAAO,gEAIb,yBAAKlD,MAAO,CAACyW,SAAU,OAAQC,aAAc,WAAYC,YAAY,SACnE,kBAAC1W,EAAA,EAAD,KACG2J,EAAYnN,gBAMrB,kBAAC4D,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,EAAGnD,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGV,MAAM,UAC5C,kBAACH,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,MAChCoV,EADH,MACyB3L,EAAYS,kBAKpC4J,GAA6C,OAA1BrK,EAAYkF,aAAwB,kBAACzO,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,EAAGnD,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGV,MAAM,UACrG,kBAACyL,GAAA,EAAD,CAAM1L,QAAQ,WAAWgJ,MAAOS,EAAYkF,YAAY9R,UAKxDiX,GACA,kBAAC5T,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAInD,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGV,MAAM,UAC5C,kBAAC,GAAD,CAAWnC,MAAO8X,EAAUtU,YAAY,EAAOC,aAAc,gBAK/DkI,EAAY7B,WAAWjL,KAAKiB,EAAM3B,YAAYU,IAC9C,kBAACuD,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,EAAGnD,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGV,MAAM,SAAS8D,QAASkR,GAC7D,kBAAC3I,GAAD,CACAC,MAAM,EACN5J,YAAY,EACZ6H,MACC,CAACmD,IAAKlE,EAAY9M,GACnB+Q,IAAKjE,EAAY7B,WAAWjL,GAC5BE,OAAO,GAAD,OAAK4M,EAAY7B,WAAW/K,OAA5B,YAAsC4M,EAAY7B,WAAW1L,UACnE4H,cAAsD,OAAvC2F,EAAY7B,WAAW9D,cAAqB,KAAKlG,EAAMhC,SAAS6N,EAAY7B,WAAW9D,cAAc3C,QAI1H,kBAACjB,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,EAAGjD,GAAI,GAAID,GAAI,GAAID,GAAI,EAAGR,MAAM,UAC7C,kBAAC,IAAD,CAAMY,GAAI,gBAAgB4I,EAAY9M,GAAIkD,MAAO,CAAChF,eAAe,OAAQtC,QAAS,EAAGuC,MAAM,UACzF,kBAAC,IAAD,CAAQkF,QAAQ,WAAWlF,MAAM,WAAjC,mBCvNG,SAASS,KACpB,IAAMiD,EAAUzG,IACV4E,EAAO4R,cAAP5R,GAF0B,EAG4B8B,mBAAS,IAHrC,mBAGzBgY,EAHyB,KAGDC,EAHC,OAIJ5X,qBAAWd,GAA/BJ,EAJwB,EAIxBA,MAJwB,KAIjBS,SACmBI,mBAAS,CAAC5B,OAAO,MALnB,mBAKzB2G,EALyB,KAKdgJ,EALc,OAME/N,mBAAS,IANX,mBAMzBuE,EANyB,KAMd2T,EANc,OAOMlY,mBAAS,IAPf,mBAOzBmY,EAPyB,KAOZC,EAPY,OAQApY,oBAAS,GART,mBAQzBG,EARyB,KAQfC,EARe,OASgBJ,mBAAS,MATzB,mBASzBqY,EATyB,KASPC,EATO,OAWctY,oBAAS,GAXvB,mBAWzBqV,EAXyB,KAWRC,EAXQ,OAYUtV,mBAAS,IAZnB,mBAYzBwV,EAZyB,KAYVC,EAZU,KA8BhC,SAASgB,IACLlW,IAAMC,IAAIrB,EAAMhC,SAAS,+BAA+Be,EAAG,uCAAuCmX,GACjG5U,MAAK,SAAAC,GAGF,GADAN,GAAY,GACRiV,EAAgB,CAChB,IAAIkD,EAAS7X,EAASC,KAAKyJ,QAAO,SAACvC,GAAD,OAA8C,IAAhCA,EAAUsB,WAAWnL,SAAqD,IAAjC6J,EAAUsB,WAAW1E,aAC9G2T,EAAeG,QAEfH,EAAe1X,EAASC,SAG/BC,OAAM,SAAAC,GACHC,MAAM,qDACNC,QAAQC,IAAIH,EAAMH,aA9B1BJ,qBAAU,WACNF,GAAY,GACG,KAAZjB,EAAM/B,MAA4B,IAAhB+B,EAAM9B,SACvBkD,IAAMC,IAAIrB,EAAMhC,SAAS,mBAAmBe,GAC3CuC,MAAK,SAAAC,GACFqN,EAAarN,EAASC,MACtBuX,EAAaxX,EAASC,KAAK4D,cAE9B3D,OAAM,SAAAC,GACHC,MAAM,qDACNC,QAAQC,IAAIH,EAAMH,aAG1B+V,MACF,CAACtX,EAAM/B,IAAK+B,EAAM9B,UAgGpB,OA5BAiD,qBAAU,WACN,GAAsB,IAAnBiE,EAAU2B,OAAW,CACpB,IAAIsS,EAAO,GACXjU,EAAU3C,KAAI,SAAC6W,GACXD,GAAM,aAAaC,EAAUva,GAAG,OAEpCqC,IAAMC,IAAIrB,EAAMhC,SAAS,gBAAgBqb,GACxC/X,MAAK,SAAAC,GACF,IAAIgY,EAAmB,GACvBhY,EAASC,KAAKiB,KAAK,SAAA4V,GACfA,EAAOjT,UAAU3C,KAAI,SAAA+W,GACfD,EAAiBvK,eAAewK,EAAMva,UACxCsa,EAAiBC,EAAMva,QAAU,CAACsY,QAAQ,KAG1CgC,EAAiBC,EAAMva,QAAQsY,QAAQtI,KAAKoJ,SAIpDc,EAAoBI,MAEvB9X,OAAM,SAAAC,GACHC,MAAM,kDACNC,QAAQC,IAAIH,EAAMH,gBAG5B,CAAC6D,IAGC,yBAAKtD,UAAWlB,EAAQhG,OACpB,kBAACmH,EAAA,EAAD,CAAOC,UAAW,EAAGC,MAAO,CAACtG,MAAM,IAAKhB,QAAS,IAAKmH,UAAU,SAC5D,kBAACI,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,UAAUuD,EAAU3G,QAClE,kBAACgX,GAAD,CACIC,gBAAiBA,EACjBC,mBAAoBA,EACpBE,cAAeA,EACfC,iBAAkBA,EAClBlR,UAAWA,EACX6I,oBAtFY,SAACtI,GACzB,IAAI8T,EAAaZ,EAAuB7N,MAAK,SAAC0O,GAAD,OAAcA,IAAW/T,KAKlEmT,EAHAW,EAG0BZ,EAAuB5N,QAAO,SAACyO,GAAD,OAAY/T,IAAW+T,KAFrD,SAACxO,GAAD,6BAAeA,GAAf,CAAwBvF,OAmF1CyQ,gBA7EhB,WACI,IAAIlH,EAAM,IACVjO,GAAY,GAEZ4X,EAAuBpW,KAAI,SAAC1D,GAChB,OAALA,IACCmQ,GAAK,eAAenQ,EAAG,QAIf,IAAbmQ,EAAInI,SACCmP,EACA9Q,EAAU3C,KAAI,SAACkD,GACG,OAAXA,IACCuJ,GAAK,eAAevJ,EAAS5G,GAAG,QAIxCmQ,GAAK,gBAAgBnQ,EAAG,KAIhCqC,IAAMC,IAAIrB,EAAMhC,SAAS,kBAAkBkR,EAAI,sCAAsCgH,EAAgB,oBAAoBG,GACxH/U,MAAK,SAAAC,GACF,GAAI2U,EAAgB,CAChB,IAAIkD,EAAS7X,EAASC,KAAKyJ,QAAO,SAACvC,GAAD,OAA8C,IAAhCA,EAAUsB,WAAWnL,SAAqD,IAAjC6J,EAAUsB,WAAW1E,aAC9G2T,EAAeG,QAEfH,EAAe1X,EAASC,MAE9BP,GAAY,MAEbQ,OAAM,SAAAC,GACHC,MAAM,qDACNC,QAAQC,IAAIH,EAAMH,gBA6Cd,6BACCP,GAAY,kBAAC,IAAD,OAERA,GAAiC,IAArBgY,EAAYjS,QAAe,kBAACP,GAAA,EAAD,CAAQpE,QAAQ,WAAWyC,SAAS,QAApC,sCACJqR,EAAgB,iBAAiB,eAD7B,+DAKxC8C,EAAYvW,KAAI,SAACiG,EAAW/F,GAAZ,OACZ,kBAACyU,GAAD,CACApU,IAAKL,EACL4U,QAAS7O,EAAUjJ,KAAyB,OAAnByZ,EAAwB,KAAKA,EAAiBxQ,EAAUqI,YAAY9R,QAAS,KACtGqY,kBAAmBA,EACnB1K,MAAOlE,EACPwN,gBAAiBA,EACjBmB,WAAW,S,gCC5DlBsC,GAnGY,SAAC,GAAoD,IAAnD1F,EAAkD,EAAlDA,SAAU2F,EAAwC,EAAxCA,iBAAkBC,EAAsB,EAAtBA,IAAK5Y,EAAiB,EAAjBA,YAAiB,EAO7CJ,mBAAS,IAPoC,mBAOtEiZ,EAPsE,KAO5DC,EAP4D,OAQ/BlZ,mBAAS,IARsB,mBAQtEmZ,EARsE,KAQrDC,EARqD,OAUjD/Y,qBAAWd,GAA/BJ,EAVqE,EAUrEA,MAVqE,EAU9DS,SACfU,qBAAU,WAER,GADAS,QAAQC,IAAIgY,GACc,OAAvB7Z,EAAM3B,YAAYU,IAAa8a,EAAI7O,MAAK,SAAAjM,GAAE,OAAQ,OAALA,KAAY,CAC1D,IAAImQ,EAAM,GACV2K,EAAIpX,KAAI,SAAC1D,GACC,OAALA,IACDmQ,GAAK,SAASnQ,EAAG,QAGrBqC,IAAMC,IAAIrB,EAAMhC,SAAS,iBAAiBkR,GACzC5N,MAAK,SAAAC,GACJA,EAASC,KAAKiB,KAAI,SAACyX,IAYzB,SAAsB9W,GACpB,IACI+W,EADAC,EAAYpa,EAAMhC,SAASoF,EAAOG,IAEtC8W,MAAMD,GAAW9Y,MAAK,SAAAgZ,GACpBA,EAAIC,cAAcjZ,MAAK,SAAAkZ,GACrBL,EAAO,IAAIM,KAAK,CAACD,GAAM,GAAGpX,EAAOrE,GAAI,CAAEQ,KAAM,eAC7Cwa,EAAY,GAAD,oBAAKD,GAAL,CAAeK,KAC1BF,GAAmB,SAAAS,GAAI,6BAAQA,GAAR,CAAcP,aAlBnCQ,CAAaT,SAGhBzY,OAAM,SAAAC,GAEHE,QAAQC,IAAI,UAAWH,EAAMH,gBAGnC,CAACsY,IA6CH,OACE,kBAAC,IAAMe,SAAP,KACE,kBAAC,KAAD,CACEC,gBAjCkB,SAAC,GAAoB,IAAlBV,EAAiB,EAAjBA,KAAiB,EAAXW,KAK/B,OAJAlB,EAAiBO,EAAMlG,EAAU,EAAG+F,GAI7B,CAAEzW,IAAK,6BA6BVwX,eA1BqB,SAAC,EAAgBC,GAAW,EAAzBF,KAA0B,IAApBX,EAAmB,EAAnBA,KACnB,YAAXa,GACFpB,EAAiBO,EAAMlG,EAAU,EAAG+F,GAMvB,cAAXgB,GACF/Z,GAAY,GAEC,SAAX+Z,GACF/Z,GAAY,IAeVga,SAAUhH,EACViH,aAA2B,IAAbrB,EAAI9S,OAAW+S,EAAS,KACtCqB,UAAU,EACVC,aAAc,IACdC,WAAW,EACXC,OAAO,UACPC,sBAAuB,oBACvBC,aAAc,kBAAgB,IAAXvH,EAAA,qBAA2BA,EAA3B,sCAAiEA,EAAjE,iBAEnBwH,OAAQ,CACNC,SAAU,CAAE/f,MAAO,OAAQC,OAAQ,OAAQ8c,SAAS,QACpDiD,eAAgB,CAAEC,YAAa,cCjF5B,SAASC,GAAT,GAAgC,IAAZC,EAAW,EAAXA,UACzBlb,EAAUzG,IAD0B,EAGZ0G,mBAAS,IAHG,mBAGnCsD,EAHmC,KAG1B8E,EAH0B,OAIApI,mBAAS,IAJT,mBAInCkb,EAJmC,KAIpBC,EAJoB,KAKtClJ,EAAUC,cAL4B,EAMFlS,mBAAS,IANP,mBAMnCob,EANmC,KAMrBC,EANqB,OAOVrb,oBAAS,GAPC,mBAOnCG,EAPmC,KAOzBC,EAPyB,OAQdC,qBAAWd,GAA/BJ,EARkC,EAQlCA,MAAOS,EAR2B,EAQ3BA,SAR2B,EAWVI,mBAAS,IAXC,mBAWnCiL,EAXmC,KAWzBC,EAXyB,OAYFlL,mBAAS,IAZP,mBAYnCsb,EAZmC,KAYrBC,EAZqB,OAaMvb,mBAAS,IAbf,mBAanCwb,EAbmC,KAajBC,EAbiB,OAcIzb,mBAAS,IAdb,mBAcnC0b,EAdmC,KAclBC,GAdkB,QAehB3b,oBAAS,GAfO,qBAenCwD,GAfmC,MAe5BD,GAf4B,SAgBhBvD,mBAAS,CAC/B5B,OAAO,GACPX,SAAS,GACTM,MAAM,GACN6d,QAAQ,GACRjd,SAAS,GACT+R,WAAW,GACXmL,eAAe,GACf/d,IAAI,GACJD,YAAY,GACZwH,cAAe,OA1BuB,qBAgBnC0G,GAhBmC,MAgB5B4E,GAhB4B,SA6BF3Q,oBAAS,GA7BP,qBA6BnC8b,GA7BmC,MA6BrBC,GA7BqB,MA+B1Czb,qBAAU,WACS,KAAZnB,EAAM/B,MAA4B,IAAhB+B,EAAM9B,SACnB4d,IACAtK,GAAS,CACLvS,OAAQe,EAAM3B,YAAYY,OAC1BX,SAAU0B,EAAM3B,YAAYC,SAC5BM,MAAOoB,EAAM3B,YAAYO,MACzB6d,QAASzc,EAAM3B,YAAYuB,SAC3BJ,SAAUQ,EAAM3B,YAAYmB,SAC5B+R,WAAY,GACZmL,eAAgB,GAChB/d,IAAKqB,EAAM3B,YAAYM,IACvBD,YAAasB,EAAM3B,YAAYK,YAC/Be,KAAMO,EAAM3B,YAAYoB,KACxByG,cAAelG,EAAM3B,YAAY6H,gBAGA,OAAlClG,EAAM3B,YAAY6H,eACjB6F,EAAY,CAAC/L,EAAM3B,YAAY6H,cAAcnH,QAG3D,CAACiB,EAAM/B,IAAK+B,EAAM9B,UAEpB,IAAMuT,GAAe,SAACnG,GACL,KAAVnH,GACC8E,EAAW,IAEf,IAAI/I,EAAQoL,EAAEC,OAAOpL,MACjBuR,EAAQpG,EAAEC,OAAOlM,KACrBmS,GAAS,2BACF5E,IADC,kBAEH8E,EAAQxR,MAgBjB,SAAS2c,GAAYC,GACjB,IAAIC,EAAiB,GAErBZ,EAAa1Z,KAAI,SAACW,GACAmZ,EAAgBvR,MAAK,SAAAoB,GAAG,OAAIA,IAAQhJ,MAE9C2Z,EAAe9N,KAAK7L,MAG5BxB,QAAQC,IAAI,mBAAoBsa,GAChCva,QAAQC,IAAI,UAAWkb,GAGvB,IAAIC,EAAmB,GACvBX,EAAiB5Z,KAAI,SAACW,GACJmZ,EAAgBvR,MAAK,SAAAoB,GAAG,OAAIA,IAAQhJ,MAE9C4Z,EAAiB/N,KAAK7L,MAG9BxB,QAAQC,IAAI,YAAamb,GAEzB,IAAI,IAAIC,EAAO,EAAGA,EAAOZ,EAAiBtV,OAAQkW,IAAO,CACrD,IAAIle,EAAKme,OAAOb,EAAiBY,GAAM5d,MAEnC8J,EAAO,UAAUnJ,EAAM/B,IAC3BmD,IAAMqX,OAAOzY,EAAMhC,SAAS,iBAAiBe,EAC7C,CACI6K,QAAS,CACT,cAAiBT,KAEpB7H,MAAK,SAAAC,GACFK,QAAQC,IAAI,oBAAqBN,MAClCE,OAAM,SAAAC,GACLC,MAAM,gCACNC,QAAQC,IAAIH,EAAMH,aAQ1B,IAHA,IAAM4b,EAAW,IAAIC,SAGbza,EAAI,EAAGA,EAAEoa,EAAehW,OAAQpE,IACpCwa,EAASE,OAAO,QAASN,EAAepa,IAG5C,GAA2B,IAAxBoa,EAAehW,OAAW,CACzBoW,EAASE,OAAO,MAAO,QACvBF,EAASE,OAAO,QAASP,GACzBK,EAASE,OAAO,QAAS,iBACzBF,EAASE,OAAO,SAAU,qBAE1B,IAAIlU,EAAO,UAAUnJ,EAAM/B,IAE3BmD,IAAMyI,KACF7J,EAAMhC,SAAS,UACfmf,EACA,CACIvT,QAAS,CACL,eAAgB,sBAChB,cAAiBT,KAG5B7H,MAAK,SAAAC,GACF,IAAI+b,EAAMtd,EAAM3B,YAChBif,EAAIpX,cAAgB3E,EAASC,KAAK,GAElCf,EAAS,CAAClB,KAAK,WAAYY,MAAOmd,IAClC7c,EAAS,CAAClB,KAAK,SAAUY,MAAOH,EAAM/B,MAEtC8T,aAAaC,QAAQ,aAAcC,KAAKC,UAAU,CAC9CjU,IAAK+B,EAAM/B,IACXI,YAAaif,QAGpB7b,OAAM,SAAAC,GACHC,MAAM,oCACNC,QAAQC,IAAI,UAAWH,EAAMH,cA8IzC,OARAJ,qBAAU,WAIF+a,EAHAJ,EAGgB,oBAFA,yBAItB,IAGE,yBAAKha,UAAWlB,EAAQhG,OACpB,kBAACmH,EAAA,EAAD,CAAOC,UAAW,GACd,0BAAMsN,SA3IE,SAAChE,GACjBA,EAAEiE,kBACyC,IAAxC3C,GAAMhO,MAAM2e,OAAO,mBAAiE,IAAvC3Q,GAAMhO,MAAM2e,OAAO,gBAC/DtU,EAAW,iDAEZ6S,EACIlP,GAAM2E,aAAa3E,GAAM8P,eACxBzT,EAAW,mCACN2D,GAAM2E,WAAWxK,OAAS,EAC/BkC,EAAW,sDAoEnBhI,GAAY,GACZG,IACCyI,KAAK7J,EAAMhC,SAAS,uBAAwB,CACzC4B,SAAUgN,GAAM6P,QAChB7d,MAAOgO,GAAMhO,MACbiT,SAAUjF,GAAM2E,WAChBtS,OAAQ2N,GAAM3N,OACdX,SAAUsO,GAAMtO,SAChBkB,SAAUoN,GAAMpN,SAChBb,IAAKiO,GAAMjO,IACXD,YAAakO,GAAMlO,YACnBe,KAAMkd,GAAa,EAAE,EACrBne,WAAW,EACXK,QAAQ,EACRG,kBAAkB,EAClBa,sBAAsB,EACtB2d,qBAAqB,EACrBlY,WAAW,IAEdhE,MAAK,SAAAC,GAEFsb,GAAYtb,EAASC,KAAKsQ,KAAK/S,IAC/B0B,EAAS,CAAClB,KAAK,WAAYY,MAAOoB,EAASC,KAAKsQ,OAChDrR,EAAS,CAAClB,KAAK,SAAUY,MAAOoB,EAASC,KAAKvD,MAE9C8T,aAAaC,QAAQ,aAAcC,KAAKC,UAAU,CAC9CjU,IAAKsD,EAASC,KAAKvD,IACnBI,YAAakD,EAASC,KAAKsQ,QAG/B7Q,GAAY,GACZ+a,EAAiB,4CACjB5X,IAAS,GACTqZ,YAAW,WAAS3K,EAAQ7D,KAAK,OAAS,QAE7CxN,OAAM,SAAAC,GAEH,IAAIyQ,EAAMF,KAAKG,MAAM1Q,EAAMH,SAAS8Q,QAAQ9Q,UAAU+Q,QAAQ,GAAGC,SAAS,GAAGxT,GAEzEkK,EADK,gCAANkJ,EACY,8BACD,mCAANA,EACO,gCAEAA,GAEflR,GAAY,QA3G+B,IAAxC2L,GAAMhO,MAAM2e,OAAO,mBAAiE,IAAvC3Q,GAAMhO,MAAM2e,OAAO,gBAC/DtU,EAAW,iDASvB,WACI,IAAIE,EAAO,UAAUnJ,EAAM/B,IAC3BgD,GAAY,GACZG,IAAMuI,IACF3J,EAAMhC,SAAS,UAAUgC,EAAM3B,YAAYU,GAC1C,CACGa,SAAUgN,GAAM6P,QAChB7d,MAAOgO,GAAMhO,MACbK,OAAQ2N,GAAM3N,OACdX,SAAUsO,GAAMtO,SAChBkB,SAAUoN,GAAMpN,SAChBb,IAAKiO,GAAMjO,IACXD,YAAakO,GAAMlO,YACnBe,KAAmB,IAAbmN,GAAMnN,MAAWkd,GAAF,EAAiB,GAE1C,CACI/S,QAAS,CACL,cAAiBT,KAI5B7H,MAAK,SAAAC,GACFd,EAAS,CAAClB,KAAK,WAAYY,MAAOoB,EAASC,OAC3Cf,EAAS,CAAClB,KAAK,SAAUY,MAAOH,EAAM/B,MAEtC4e,GAAY7c,EAAM3B,YAAYU,IAE9BgT,aAAaC,QAAQ,aAAcC,KAAKC,UAAU,CAC9CjU,IAAK+B,EAAM/B,IACXI,YAAakD,EAASC,QAG1BP,GAAY,GACZ+a,EAAiB,0BACjB5X,IAAS,GACTqZ,YAAW,WAAS3K,EAAQ7D,KAAK,OAAS,QAE7CxN,OAAM,SAAAC,GACH,IAAIyQ,EAAMF,KAAKG,MAAM1Q,EAAMH,SAAS8Q,QAAQ9Q,UAAU+Q,QAAQ,GAAGC,SAAS,GAAGxT,GAC7E6C,QAAQC,IAAI,UAAUH,EAAMH,UAExB0H,EADK,gCAANkJ,EACY,8BACD,mCAANA,EACO,gCAEAA,GAEflR,GAAY,MArDRyc,KAyHI,kBAACpb,EAAA,EAAD,CAAMR,UAAWlB,EAAQ9E,aAAcM,QAAS,EAAGmG,WAAS,EAACC,QAAQ,gBAAgB/H,WAAW,UAC5F,kBAAC6H,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,SAASP,UAAWlB,EAAQ5E,YACrEigB,IAIT,kBAAC3Z,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GACX,kBAACqF,GAAA,EAAD,CACAvJ,UAAWlB,EAAQ5E,WACnBuD,KAAK,OACLF,KAAK,SACLc,MAAOyM,GAAM3N,OACb4E,SAAU4N,GACV1S,GAAG,eACHqM,MAAM,SACNhJ,QAAQ,SACRsI,UAAQ,KAGZ,kBAACpI,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GACX,kBAACqF,GAAA,EAAD,CACAvJ,UAAWlB,EAAQ5E,WACnBuD,KAAK,OACLF,KAAK,WACLc,MAAOyM,GAAMtO,SACbuF,SAAU4N,GACV1S,GAAG,eACHqM,MAAM,WACNhJ,QAAQ,SACRsI,UAAQ,KAGZ,kBAACpI,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC2X,GAAD,CAAa1J,SAAU,EAAGhT,YAAaA,EAAa2Y,iBA9QnD,SAACO,EAAMlG,EAAUxU,EAAMme,GAG5C,GAFApB,GAAmBoB,GAET,IAAPne,EACC2c,EAAgB,GAAD,oBAAKD,GAAL,CAAmBhC,SACjC,CACDmC,GAAoB,SAAAlQ,GAAG,6BAAQiQ,GAAR,CAA0BlC,OACjD,IAAI/S,EAAM+U,EAAalR,QAAO,SAAA4S,GAAC,OAAIA,IAAM1D,KACzCiC,EAAgBhV,KAsQwFyS,IAAK/N,KAGjG,kBAACxJ,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAACqF,GAAA,EAAD,CACAvJ,UAAWlB,EAAQ5E,WACnBqD,KAAK,QACLc,MAAOyM,GAAMhO,MACbiF,SAAU4N,GACV1S,GAAG,eACHqM,MAAM,wBACNhJ,QAAQ,SACR7C,KAAK,QACLmL,UAAQ,KAGZ,kBAACpI,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GACX,kBAACqF,GAAA,EAAD,CACAvJ,UAAWlB,EAAQ5E,WACnBqD,KAAK,UACLc,MAAOyM,GAAM6P,QACb5Y,SAAU4N,GACV1S,GAAG,eACHqM,MAAM,UACNhJ,QAAQ,SACRsI,UAAQ,KAGZ,kBAACpI,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GACX,kBAACqF,GAAA,EAAD,CACAvJ,UAAWlB,EAAQ5E,WACnBuD,KAAK,SACLF,KAAK,WACLc,MAAOyM,GAAMpN,SACbqE,SAAU4N,GACV1S,GAAG,eACHqM,MAAM,WACNhJ,QAAQ,YAEZ,kBAACqE,EAAA,EAAD,MACA,kBAACL,EAAA,EAAD,CAAQC,QAASyV,GACb,kBAACxZ,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GACX,kBAACqF,GAAA,EAAD,CACIX,SAAUoR,EACVzc,KAAK,aACLc,MAAOyM,GAAM2E,WACb1N,SAAU4N,GACVlS,KAAK,WACL6L,MAAM,gBACNhJ,QAAQ,SACRN,UAAWlB,EAAQ5E,cAI3B,kBAACsG,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GACX,kBAACqF,GAAA,EAAD,CACIX,SAAUoR,EACVzc,KAAK,iBACLc,MAAOyM,GAAM8P,eACb7Y,SAAU4N,GACVlS,KAAK,WACL6L,MAAM,wBACNhJ,QAAQ,SACRN,UAAWlB,EAAQ5E,eAK/B,kBAACoK,EAAA,EAAD,CAAQC,OAAkB,KAAVlC,GACZ,kBAAC7B,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC9D,EAAA,EAAD,CAAYhF,MAAM,SACbiH,KAKb,kBAAC7B,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAACI,EAAA,EAAD,CAAQC,OAAiC,IAAzBrG,EAAM3B,YAAYoB,MAC9B,kBAACqe,GAAD,CAAanB,aAAcA,GAAcC,gBAAiBA,OAIlE,yBAAK9a,UAAWlB,EAAQ5E,WAAYmK,QAASnF,GACzC,kBAACyK,EAAA,EAAD,OAEJ,kBAACnJ,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC,IAAD,CACAzG,KAAK,SACLuC,UAAWlB,EAAQ5E,WACnB2P,KAAK,QACLvJ,QAAQ,YACRlF,MAAM,UACNwO,SAAU1K,GACT8a,EAAU,oBAAoB,oBAInC,kBAACxZ,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAIG,QAAS2V,GACxB,kBAAC,GAAD,CAAc3X,QAAS,mCAInC,kBAACD,GAAD,CAAeC,QAAS4X,EAAe1X,MAAOA,GAAOD,SAAUA,OAM/E,SAAS0Z,GAAT,GAAuD,IAAjClB,EAAgC,EAAhCA,gBAAiBD,EAAe,EAAfA,aAKnC,OACI,kBAAChS,GAAA,EAAD,CACIC,QAAS,kBAACC,GAAA,EAAD,CAAU6L,QAASiG,EAAc9Y,SAN5B,SAACU,GACnBqY,GAAiBD,IAKsDtd,KAAK,WAAWnC,MAAM,YACzFkO,MAAM,+BCpcH,SAASyQ,KACpB,IAAMjb,EAAUzG,IACZ2Y,EAAUC,cAFkB,EAGJ7R,qBAAWd,GAA/BJ,EAHwB,EAGxBA,MAAOS,EAHiB,EAGjBA,SAHiB,EAIAI,oBAAS,GAJT,mBAIzBG,EAJyB,KAIfC,EAJe,OAKYJ,oBAAS,GALrB,mBAKzBkd,EALyB,KAKTC,EALS,OAMInd,mBAAS,IANb,mBAMzBC,EANyB,KAMbC,EANa,OAO4BF,mBAAS,IAPrC,mBAOzBgY,EAPyB,KAODoF,EAPC,OAQFpd,oBAAS,GARP,mBAQzBsD,EARyB,KAQhB8E,EARgB,OASNpI,oBAAS,GATH,mBASzBwD,EATyB,KASlBD,EATkB,OAWNvD,mBAAS,CAC/BnC,YAAa,GACbG,QAAQ,EACRG,kBAAkB,EAClBkf,cAAe,KAfa,mBAWzBtR,EAXyB,KAWlB4E,EAXkB,OAkBA3Q,mBAAS,IAlBT,mBAkBzBiL,EAlByB,KAkBfC,EAlBe,OAmBgBlL,mBAAS,IAnBzB,mBAmBzBwb,GAnByB,KAmBPC,GAnBO,QAoBczb,mBAAS,IApBvB,qBAoBzB0b,GApByB,MAoBRC,GApBQ,MAkChCrb,qBAAU,WACN,GAAe,KAAZnB,EAAM/B,MAA4B,IAAhB+B,EAAM9B,QAAe,CAEtC,IAAIigB,EAAQne,EAAM3B,YAAY+f,mBAAmB3b,KAAI,SAACG,GAAD,OAASA,EAAK7D,MACnEyS,EAAS,CACL9S,YAAasB,EAAM3B,YAAYK,YAC/BG,OAAQmB,EAAM3B,YAAYQ,OAC1BG,iBAAkBgB,EAAM3B,YAAYW,iBACpCkf,cAAeC,IAInB/c,IAAMC,IACFrB,EAAMhC,SAAS,mBAElBsD,MAAK,SAAAC,GACFA,EAASC,KAAKiB,KAAI,SAACG,GACfA,EAAI,cAAmB,EAEvBA,EAAKwC,UAAU3C,KAAI,SAAC4b,GAChBA,EAAQ,cAAmB,KAGS,IAArCre,EAAM3B,YAAY+G,UAAU2B,QAC3BxF,EAASC,KAAKiB,KAAI,SAACmD,GACfA,EAAUR,UAAU3C,KAAI,SAACkD,GAErB3F,EAAM3B,YAAY+G,UAAU3C,KAAI,SAAC6b,GAC1BA,EAAe1Y,YAAcA,EAAU7G,KACtC6G,EAAUwI,cAAe,GAG1BkQ,EAAevf,KAAK4G,EAAS5G,KAC5B4G,EAASyI,cAAe,eAQhDrN,EAAcQ,EAASC,SAE1BC,OAAM,SAAAC,GACHC,MAAM,qDACNC,QAAQC,IAAIH,EAAMH,gBAG5B,CAACvB,EAAM/B,IAAK+B,EAAM9B,UAEpB,IAAMqgB,GAAkB,SAACjT,GACjByS,GACAC,GAAkB,GAEtB,IAAI9d,EAAQoL,EAAEC,OAAOmL,QACjBhF,EAAQpG,EAAEC,OAAOlM,KACrBmS,EAAS,2BACF5E,GADC,kBAEH8E,EAAQxR,MAIjBiB,qBAAU,WACNS,QAAQC,IAAI,cAAe0a,MAC5B,CAACA,KA+JJ,OA/CApb,qBAAU,WACN,GAAmC,IAAhC0X,EAAuB9R,OAAW,CACjC,IAAIoC,EAAO,UAAUnJ,EAAM/B,IAE3BgD,GAAY,GAzFpB,SAAuB6b,GACnB,IAAIC,EAAiB,GAErBjR,EAASrJ,KAAI,SAACW,GACImZ,GAAgBvR,MAAK,SAAAoB,GAAG,OAAIA,IAAQhJ,MAE9C2Z,EAAe9N,KAAK7L,MAG5BxB,QAAQC,IAAI,mBAAoBiK,GAChClK,QAAQC,IAAI,UAAWkb,GAGvB,IAAIC,EAAmB,GACvBX,GAAiB5Z,KAAI,SAACW,GACJmZ,GAAgBvR,MAAK,SAAAoB,GAAG,OAAIA,IAAQhJ,MAE9C4Z,EAAiB/N,KAAK7L,MAG9BxB,QAAQC,IAAI,YAAamb,GAGzB,IAAI,IAAIC,EAAO,EAAGA,EAAOZ,GAAiBtV,OAAQkW,IAAO,CACrD,IAAIle,EAAKme,OAAOb,GAAiBY,GAAM5d,MAEnC8J,EAAO,UAAUnJ,EAAM/B,IAC3BmD,IAAMqX,OAAOzY,EAAMhC,SAAS,iBAAiBe,EAC7C,CACI6K,QAAS,CACT,cAAiBT,KAEpB7H,MAAK,SAAAC,GACFK,QAAQC,IAAI,oBAAqBN,MAClCE,OAAM,SAAAC,GACLC,MAAM,gCACNC,QAAQC,IAAIH,EAAMH,aAQ1B,IAHA,IAAM4b,EAAW,IAAIC,SAGbza,EAAI,EAAGA,EAAEoa,EAAehW,OAAQpE,IACpCwa,EAASE,OAAO,QAASN,EAAepa,IAG5C,GAA2B,IAAxBoa,EAAehW,OAAW,CACzBoW,EAASE,OAAO,MAAO,QACvBF,EAASE,OAAO,QAASP,GACzBK,EAASE,OAAO,QAAS,sBACzBF,EAASE,OAAO,SAAU,qBAE1B,IAAIlU,EAAO,UAAUnJ,EAAM/B,IAE3BmD,IAAMyI,KACF7J,EAAMhC,SAAS,UACfmf,EACA,CACIvT,QAAS,CACL,eAAgB,sBAChB,cAAiBT,KAG5B7H,MAAK,SAAAC,GACFK,QAAQC,IAAI,qBAAqBN,EAASC,MAC1C,IAAI8b,EAAMtd,EAAM3B,YAChBif,EAAIc,mBAAqB7c,EAASC,KAElCf,EAAS,CAAClB,KAAK,WAAYY,MAAOmd,IAClC7c,EAAS,CAAClB,KAAK,SAAUY,MAAOH,EAAM/B,MAEtC8T,aAAaC,QAAQ,aAAcC,KAAKC,UAAU,CAC9CjU,IAAK+B,EAAM/B,IACXI,YAAaif,QAGpB7b,OAAM,SAAAC,GACHC,MAAM,oCACNC,QAAQC,IAAI,UAAWH,EAAMH,cAUjCid,CAAcxe,EAAM3B,YAAYU,IAEhC6C,QAAQC,IAAI,uBACZT,IAAMuI,IACF3J,EAAMhC,SAAS,UAAUgC,EAAM3B,YAAYU,GAC1C,CACGL,YAAakO,EAAMlO,YACnBG,OAAQ+N,EAAM/N,OACdG,iBAAkB4N,EAAM5N,iBACxBoG,UAAYyT,GAEhB,CACIjP,QAAS,CACL,cAAiBT,KAI5B7H,MAAK,SAAAC,GACFK,QAAQC,IAAI,qBAAqBN,EAASC,MAE1C,IAAIid,EAAcld,EAASC,KAE3Bf,EAAS,CAAClB,KAAK,WAAYY,MAAOoB,EAASC,OAC3CuQ,aAAaC,QAAQ,aAAcC,KAAKC,UAAU,CAC9CjU,IAAK+B,EAAM/B,IACXI,YAAaogB,KAGjB7c,QAAQC,IAAI,8CACZuC,GAAS,GACTnD,GAAY,MAGfQ,OAAM,SAAAC,GACHE,QAAQC,IAAIH,EAAMH,UAClBI,MAAM,6CACNV,GAAY,SAGtB,CAAC4X,IAIC,yBAAK/W,UAAYlB,EAAQhG,OACrB,kBAACmH,EAAA,EAAD,CAAOC,UAAW,EAAGF,UAAYlB,EAAQtE,eACrC,kBAAC8T,GAAA,EAAD,CAAalT,MAAM,UAAUmT,WAAS,GAClC,kBAAC/N,EAAA,EAAD,CAAMR,UAAWlB,EAAQvF,gBAAiBkH,WAAS,EAACwD,UAAU,MAAMvD,QAAQ,eAAe/H,WAAW,SAAS2B,QAAS,GACpH,kBAACkG,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,UAA9C,qCAKJ,kBAACC,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC2E,GAAA,EAAD,CACI7I,UAAWlB,EAAQ5E,WACnB4O,QAAS,kBAACC,GAAA,EAAD,CAAU6L,QAAS9J,EAAM/N,OAAQQ,KAAK,SAASwE,SAAU0a,KAClEnT,MAAM,0BAId,kBAAC9I,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC2E,GAAA,EAAD,CACI7I,UAAWlB,EAAQ5E,WACnB4O,QAAS,kBAACC,GAAA,EAAD,CAAUxL,KAAK,mBAAmBqX,QAAS9J,EAAM5N,iBAAkB6E,SAAU0a,KACtFnT,MAAM,yCAId,kBAAC9I,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAACqF,GAAA,EAAD,CACAvJ,UAAWlB,EAAQ5E,WACnB6H,SAAU,SAACyH,GACPkG,EAAS,2BACN5E,GADK,IAERlO,YAAa4M,EAAEC,OAAOpL,SAElB4d,GACAC,GAAkB,IAE1B3e,KAAK,cACLc,MAAOyM,EAAMlO,YACbK,GAAG,eACHqM,MAAM,iBACNI,WAAS,EACTpJ,QAAQ,YAGZ,kBAACE,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAIlE,UAAWlB,EAAQ5E,YAClC,kBAAC2hB,GAAD,CAAe1c,YAAaA,EAAagT,SAAU,GAAI2F,iBA1RtD,SAACO,EAAMlG,EAAUxU,EAAMme,GAG5C,GAFApB,GAAmBoB,GAET,IAAPne,EACCsM,EAAY,GAAD,oBAAKD,GAAL,CAAeqO,SACzB,CACDmC,IAAoB,SAAAlQ,GAAG,6BAAQiQ,IAAR,CAA0BlC,OACjD,IAAI/S,EAAM0E,EAASb,QAAO,SAAA4S,GAAC,OAAIA,EAAE1D,OAASA,KAC1CpO,EAAY3E,KAkR+FyS,IAAKjN,EAAMsR,iBAG1G,kBAACha,GAAD,CAAeC,QAAQ,+CAA4CE,MAAOA,EAAOD,SAAUA,IAE3F,kBAAC9B,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,OAAOP,UAAWlB,EAAQ8d,eAAxE,yCAOA5d,EAAW2B,KAAI,SAACmD,EAAWjD,GAAZ,OACX,kBAACL,EAAA,EAAD,CAAMU,IAAKL,EAAGC,MAAI,EAACoD,GAAI,IACnB,kBAAC1D,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,cACpB,kBAACmI,GAAA,EAAD,CACIC,QACI,kBAACC,GAAA,EAAD,CACI6L,QAAS9Q,EAAUwI,aACnBvK,SAAU,SAACyH,GAAKvK,EAAcD,EAAW2B,KAAI,SAACC,EAAKic,GAI/C,OAHGhc,IAAIgc,IACHjc,EAAI0L,aAAe9C,EAAEC,OAAOmL,SAEzBhU,SAGnB0I,MAAOxF,EAAU3G,UAGzB,kBAACmH,EAAA,EAAD,CAAQC,QAAST,EAAUwI,cACvB,kBAAC9L,EAAA,EAAD,CAAMC,WAAS,EAACnG,QAAS,EAAGoG,QAAQ,gBAE5BoD,EAAUR,UAAU3C,KAAI,SAACkD,EAASiZ,GAAV,OACxB,kBAACtc,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,EAAGnD,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,IAAK4b,GACxC,kBAAC5Q,GAAD,CACArI,SAAUA,EACVsI,oBAAqB,SAAC/N,GAClByF,EAASyI,aAAelO,EAExBa,EAAcD,EAAW2B,KAAI,SAACC,EAAKic,GAI/B,OAHGhc,IAAIgc,IACHjc,EAAI0C,UAAUwZ,GAAKjZ,GAEhBjD,mBAY3C,kBAAC0D,EAAA,EAAD,CAAQC,QAASlC,GAAWnD,GACxB,kBAACsB,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAI3D,MAAM,UACrB,kBAACH,EAAA,EAAD,CAAYhF,MAAM,SAAlB,4CAMR,yBAAK4E,UAAWlB,EAAQ5E,WAAYmK,QAASnF,GACzC,kBAAC,IAAD,OAGJ,kBAACsB,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,EAAG3D,MAAM,UACpB,kBAAC,IAAD,CAAQ8E,QAjRX,WACjB,IAAIC,EAAM,GACVtG,EAAW2B,KAAI,SAACmD,GACTA,EAAUwI,cACTxI,EAAUR,UAAU3C,KAAI,SAACkD,GAClBA,EAASyI,eACRhH,EAAI6H,KAAKtJ,EAAS5G,IACdgf,GACAC,GAAkB,GAEtBpc,QAAQC,IAAI,UAAWkc,UAMvB,IAAb3W,EAAIL,OACHkC,GAAW,GAEXA,GAAW,GAGfgV,EAA0B7W,IA2PyBsE,SAAU1K,EAAU2K,KAAK,QAAQvJ,QAAQ,YAAYlF,MAAM,WAA1F,YAEJ,kBAACoF,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,EAAG3D,MAAM,UACpB,kBAAC,IAAD,CAAQ8E,QAAS,WAAK2L,EAAQ7D,KAAK,MAAOtD,KAAK,QAAQvJ,QAAQ,YAAYlF,MAAM,aAAjF,iBC/Xb,SAAS2hB,KAAY,IAAD,EACOhe,mBAAS,CAC3CnC,YAAY,GACZyG,OAAO,GACPtF,sBAAsB,EACtBL,SAAU,GACVR,kBAAkB,EAClBoG,UAAW,GACX0G,SAAU,GACVxG,WAAW,EACXY,cAAe,GAEfoG,gBAAiB,SACjBjH,SAAS,EACT5F,MAAM,EACNmG,UAAU,GACVD,SAAS,GACTsG,SAAU,IAjBiB,mBACxBJ,EADwB,KACXgF,EADW,OAmBH3P,qBAAWd,GAA/BJ,EAnBuB,EAmBvBA,MACFjB,GApByB,EAmBhB0B,SACFkQ,cAAP5R,IAmCN,OAjCAoC,qBAAU,WACN,GAAgB,KAAZnB,EAAM/B,MAA4B,IAAhB+B,EAAM9B,QAAe,CACvC,IAAIiL,EAAmB,KAAZnJ,EAAM/B,IAAS,UAAU+B,EAAM/B,IAAI,GAC9CmD,IAAMC,IACNrB,EAAMhC,SAAS,UAAUe,EAAG,CACxB6K,QAAS,CACT,cAAiBT,KAGpB7H,MAAK,SAAAC,GACFsP,EAAe,CACX9R,GAAIwC,EAASC,KAAKzC,GAClBL,YAAa6C,EAASC,KAAK9C,YAC3ByG,OAAO,GAAD,OAAK5D,EAASC,KAAKvC,OAAnB,YAA6BsC,EAASC,KAAKlD,UACjDuB,qBAAsB0B,EAASC,KAAK3B,qBACpCL,SAAU+B,EAASC,KAAKhC,SACxBR,iBAAkBuC,EAASC,KAAKxC,iBAChCoG,UAAW7D,EAASC,KAAK4D,UACzB0G,SAAUvK,EAASC,KAAK4c,mBACxB9Y,UAAW/D,EAASC,KAAK8D,UACzBD,QAAU9D,EAASC,KAAK3C,OACxByN,gBAAiB,SACjBpG,cAA6C,OAA9B3E,EAASC,KAAK0E,cAAqB,KAAK3E,EAASC,KAAK0E,cAAc3C,MAEvF3B,QAAQC,IAAIN,EAASC,SAExBC,OAAM,SAAAC,GACHC,MAAM,8CACNC,QAAQC,IAAIH,EAAMH,gBAG5B,CAACvB,EAAM/B,IAAK+B,EAAM9B,UAGhB,kBAAC+S,GAAA,EAAD,KACI,kBAAC3O,EAAA,EAAD,CAAMC,WAAS,EAACwD,UAAU,MAAMvD,QAAQ,SAAS/H,WAAW,WACxD,kBAAC6H,EAAA,EAAD,CAAMM,MAAI,EAACE,GAAI,EAAGkD,GAAI,IAClB,kBAAC4F,GAAD,CAAiB7G,YAAY,EAAM8G,YAAaA,KAEpD,kBAACvJ,EAAA,EAAD,CAAMM,MAAI,EAACE,GAAI,EAAGkD,GAAI,IAClB,kBAAClB,GAAD,CAAeC,YAAY,EAAMC,YAAa6G,KAI9CA,EAAY9M,KAAKiB,EAAM3B,YAAYU,IACJ,IAA/B8M,EAAYzG,UAAU2B,SACrB8E,EAAYxG,UACZwG,EAAYvG,WACb,kBAACoJ,GAAD,CACAC,MAAM,EACN5J,YAAY,EACZ6H,MAAO,CAACmD,IAAK,KAAMD,IAAKjE,EAAY9M,GAAIE,OAAQ4M,EAAY1G,OAAQC,UAAWyG,EAAYzG,eCtEhG,SAAS0Z,GAAT,GAAyD,IAA9B5I,EAA6B,EAA7BA,gBAAiB6I,EAAY,EAAZA,UACjDne,EAAUzG,IADmD,EAEvC+G,qBAAWd,GAA/BJ,EAF2D,EAE3DA,MACFjB,GAH6D,EAEpD0B,SACFkQ,cAAP5R,IACF+T,EAAUC,cAJqD,EAKjBlS,mBAAS,IALQ,mBAK5D2W,EAL4D,KAKzCC,EALyC,OAMvC5W,mBAAS,IAN8B,mBAM5DsE,EAN4D,KAMpD6Z,EANoD,OAO/Bne,mBAAS,IAPsB,mBAO5DC,EAP4D,KAOhDC,EAPgD,OAQjCF,mBAAS,IARwB,mBAQ5DuE,EAR4D,KAQjD2T,EARiD,OASnClY,oBAAS,GAT0B,mBAS5DG,EAT4D,KASlDC,EATkD,OAUnCJ,mBAAS,IAV0B,mBAU5DiL,EAV4D,KAUlDC,EAVkD,OAWzClL,oBAAS,GAXgC,mBAW5DwD,EAX4D,KAWrDD,EAXqD,OAYrCvD,mBAAS,IAZ4B,mBAY5DsD,EAZ4D,KAYnD8E,GAZmD,QAcrBpI,mBAAS,IAdY,qBAc5D0b,GAd4D,MAc3CC,GAd2C,SAenB3b,mBAAS,IAfU,qBAe5Dwb,GAf4D,MAe1CC,GAf0C,SAkB7Bzb,mBAAS,CAC3CsE,OAAO,GACPmH,gBAAiB,GACjBwE,aAAc,CAAC7R,OAAQ,IACvB8R,YAAa,CAAC9R,OAAO,IACrBP,YAAY,GACZoN,SAAS,GACTzG,SAAS,EACTC,WAAW,IA1BoD,qBAkB5DuG,GAlB4D,MAkB/CgF,GAlB+C,MA+EnE,SAASoO,GAAe3T,GACpBuF,GAAe,2BACRhF,IADO,kBAETP,EAAEC,OAAOlM,KAAOiM,EAAEC,OAAOpL,SArDlCgB,qBAAU,WAEH+U,GACC8I,EAAUD,EAAU,2BAAwB,wBAC5CtH,EAAqB,qBAErBuH,EAAUD,EAAU,kCAAkC,sBACtDtH,EAAqB,gBAET,KAAZzX,EAAM/B,MAA4B,IAAhB+B,EAAM9B,UACxB+C,GAAY,GACZG,IAAMC,IAAIrB,EAAMhC,SAAS,mBACxBsD,MAAK,SAAAC,GACFR,EAAcQ,EAASC,MACvBP,GAAY,MAEfQ,OAAM,SAAAC,GACHC,MAAM,qDACNC,QAAQC,IAAIH,EAAMH,gBAG5B,CAACvB,EAAM/B,IAAK+B,EAAM9B,QAASgY,EAAiB6I,IAE9C5d,qBAAU,WACH4d,GAAiC,IAApBje,EAAWiG,SACvB9F,GAAY,GACZG,IAAMC,IAAIrB,EAAMhC,SAAS,kBAAkBe,GAC1CuC,MAAK,SAAAC,GACEvB,EAAM3B,YAAYU,KAAKwC,EAASC,KAAKwI,WAAWjL,IAChDwC,EAASC,KAAT,SAA4BD,EAASC,KAAKsK,SAASrJ,KAAI,SAACW,GAAD,OAAWA,EAAOrE,MACzE8R,GAAetP,EAASC,MACpB0U,GACApV,EAAW2B,KAAI,SAAAC,GACRA,EAAI3D,KAAKwC,EAASC,KAAKuP,YAAYnL,WAClCmT,EAAarW,EAAI0C,eAI7B0N,EAAQ7D,KAAK,KAEjBhO,GAAY,MAEfQ,OAAM,SAAAC,GACHC,MAAM,gDACNC,QAAQC,IAAIH,EAAMH,gBAG5B,CAACT,IAwNH,OACA,yBAAKgB,UAAWlB,EAAQhG,OACpB,kBAACmH,EAAA,EAAD,CAAOC,UAAW,EAAGF,UAAU,SAC3B,0BAAMwN,SAnMO,SAAChE,GAClBA,EAAEiE,iBACFtO,GAAY,GACZ,IAAMkc,EAAW,IAAIC,SAEjBL,EAAiB,GAGrBjR,EAASrJ,KAAI,SAACW,GACImZ,GAAgBvR,MAAK,SAAAoB,GAAG,OAAIA,IAAQhJ,MAE9C2Z,EAAe9N,KAAK7L,MAK5B,IAAI4Z,EAAmB,GACvBX,GAAiB5Z,KAAI,SAACW,GACJmZ,GAAgBvR,MAAK,SAAAoB,GAAG,OAAIA,IAAQhJ,MAG9C4Z,EAAiB/N,KAAK7L,MAK9B,IAAI,IAAI6Z,EAAO,EAAGA,EAAOZ,GAAiBtV,OAAQkW,IAAO,CACrD,IAAIle,EAAKme,OAAOb,GAAiBY,GAAM5d,MAEnC8J,EAAO,UAAUnJ,EAAM/B,IAC3BmD,IAAMqX,OAAOzY,EAAMhC,SAAS,iBAAiBe,EAC7C,CACI6K,QAAS,CACT,cAAiBT,KAEpB7H,MAAK,SAAAC,GACFK,QAAQC,IAAI,oBAAqBN,MAClCE,OAAM,SAAAC,GACLC,MAAM,gCACNC,QAAQC,IAAIH,EAAMH,aAK1B,IAAI,IAAIoB,EAAI,EAAGA,EAAEoa,EAAehW,OAAQpE,IACpCwa,EAASE,OAAO,iBAAkBN,EAAepa,IAErDwa,EAASE,OAAO,OAAQpL,KAAKC,UAAU,CACnC/M,OAAQ0G,GAAY1G,OACpBmH,gBAA+C,KAA9BT,GAAYS,gBAAqB,EAAET,GAAYS,gBAChE5N,YAAamN,GAAYnN,YACzBoS,aAAcjF,GAAYiF,aAAa/R,GACvCgS,YAAamF,EAAgBrK,GAAYkF,YAAYhS,GAAG,KACxDiL,WAAYhK,EAAM3B,YAAYU,GAC9BsG,SAAS,EACT5F,KAAMyW,KAIV,IAAI/M,EAAO,UAAUnJ,EAAM/B,IAEtB8gB,EA2CD3d,IAAMuI,IACF3J,EAAMhC,SAAS,kBAAkBe,EACjCoe,EACA,CACIvT,QAAS,CACL,eAAgB,sBAChB,cAAiBT,KAG5B7H,MAAK,SAAAC,GACFK,QAAQC,IAAI,kCAAkCN,EAASC,MACnDD,EAASC,KAAK8D,WAY9B,WACI,IAAI6D,EAAO,UAAUnJ,EAAM/B,IAE3BmD,IAAMC,IACFrB,EAAMhC,SAAS,8BAA8B6N,GAAY9M,GACzD,CACI6K,QAAS,CACL,cAAiBT,KAG5B7H,MAAK,SAAAC,GACFK,QAAQC,IAAI,wBAAwBN,EAASC,MAC7BD,EAASC,KAAKyJ,QAAO,SAAClO,GAAD,OAA8B,IAAnBA,EAAQ8B,UAE9C4D,KAAI,SAAAyc,GACV9d,IAAMuI,IACF3J,EAAMhC,SAAS,iBAAiBkhB,EAAOngB,GAAG,CACtCF,QAAS,GACX,CACE+K,QAAS,CACL,cAAiBT,KAG5B7H,MAAK,SAAAC,GACFK,QAAQC,IAAI,cAAcN,EAASC,SAEtCC,OAAM,SAAAC,GACHE,QAAQC,IAAI,KAAMH,EAAMH,mBAInCE,OAAM,SAAAC,GACHE,QAAQC,IAAI,KAAMH,EAAMH,aA3ChB4d,GACJle,GAAY,GACZgI,GAAW,kCACX7E,GAAS,MAEZ3C,OAAM,SAAAC,GACHE,QAAQC,IAAI,iDAAkDH,EAAMH,aA5DxEH,IAAMyI,KACF7J,EAAMhC,SAAS,iBACfmf,EACA,CACIvT,QAAS,CACL,eAAgB,sBAChB,cAAiBT,KAG5B7H,MAAK,SAAAC,GACFK,QAAQC,IAAI,8BAA8BN,EAASC,MACnD,IAAI4d,EAAepf,EAAM3B,YAAY+G,UAAU4F,MAAK,SAAArF,GAAQ,OAAGA,EAAS5G,KAAK8M,GAAYkF,YAAYhS,MAErG,GAAImX,IAAoBkJ,EAAa,CACjC,IAAIC,EAAerf,EAAM3B,YAAY+G,UAAU3C,KAAI,SAAA6W,GAAS,OAAGA,EAAUva,MACzEsgB,EAAapQ,KAAKpD,GAAYkF,YAAYhS,IAE1CqC,IAAMuI,IACF3J,EAAMhC,SAAS,UAAUgC,EAAM3B,YAAYU,GAAG,CAC1CqG,UAAWia,GAEf,CAACzV,QAAS,CAAC,cAAiBT,KAE/B7H,MAAK,SAAAC,GACFK,QAAQC,IAAI,qBAAqBN,EAASC,MAC1CP,GAAY,MAEfQ,OAAM,SAAAC,GACHE,QAAQC,IAAIH,EAAMH,UAClBI,MAAM,6CACNV,GAAY,MAGpBA,GAAY,GACZgI,GAAW,8BACX7E,GAAS,MAEZ3C,OAAM,SAAAC,GACHE,QAAQC,IAAI,6CAA8CH,EAAMH,eAgGhE,kBAAC6O,GAAA,EAAD,CAAatO,UAAWlB,EAAQxF,SAAU8B,MAAM,UAAUmT,WAAS,GAC/D,kBAAC/N,EAAA,EAAD,CAAMR,UAAWlB,EAAQtE,cAAeiG,WAAS,EAACwD,UAAU,MAAMvD,QAAQ,SAAS/H,WAAW,SAAS2B,QAAS,GAC5G,kBAACkG,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,UACzC8C,IAIT,kBAAC7C,EAAA,EAAD,CAAMM,MAAI,EAACC,GAAI,EAAGmD,GAAI,IAClB,kBAACqF,GAAA,EAAD,CACAxH,SAAUob,GACV9e,MAAO0L,GAAY1G,OACnB9F,KAAK,SACLyC,UAAWlB,EAAQ5E,WACnB+C,GAAG,eACHqM,MAAM,iCACNhJ,QAAQ,SACRkd,UAAW,GACX5U,UAAQ,KAGZ,kBAACpI,EAAA,EAAD,CAAMM,MAAI,EAACC,GAAI,EAAGmD,GAAI,IAClB,kBAACqF,GAAA,EAAD,CACAxH,SAAUob,GACV9e,MAAO0L,GAAYS,gBACnBjN,KAAK,kBACLE,KAAK,SACLuC,UAAWlB,EAAQ5E,WACnB+C,GAAG,+BACHqM,MAAOoM,EACPpV,QAAQ,YAGZ,kBAACE,EAAA,EAAD,CAAMM,MAAI,EAACC,GAAI,EAAGmD,GAAI,IAClB,kBAACoK,GAAA,EAAD,CAAatO,UAAWlB,EAAQ5E,YAC5B,kBAACsU,GAAA,EAAD,CAAYvR,GAAG,eAAeqD,QAAQ,UAAtC,gBACA,kBAACmO,GAAA,EAAD,CACIpQ,MAAO0L,GAAYiF,aAAa7R,OAChCI,KAAK,eACLwE,SAvEhC,SAA8ByH,GAC1B,IAAIiU,EAAwBze,EAAWmK,QAAO,SAACvI,GAAD,OAASA,EAAIzD,SAAWqM,EAAEC,OAAOpL,SAC/E4Y,EAAawG,EAAsB,GAAGna,WACtCyL,GAAe,2BACRhF,IADO,IAEViF,aAAcyO,EAAsB,GACpCxO,YAAa,CAAC9R,OAAO,QAkEGF,GAAG,eACHyR,QAAQ,eACRpO,QAAQ,SACRgJ,MAAM,eACNV,UAAQ,GAEJ5J,EAAW2B,KAAI,SAACmD,EAAWjD,GAAZ,OACX,kBAAC8N,EAAA,EAAD,CAAUzN,IAAKL,EAAGxC,MAAOyF,EAAU3G,QAAS2G,EAAU3G,cAQtEiX,GACC,kBAAC5T,EAAA,EAAD,CAAMM,MAAI,EAACC,GAAI,EAAGmD,GAAI,IACnB,kBAACoK,GAAA,EAAD,CAAatO,UAAWlB,EAAQ5E,YAC5B,kBAACsU,GAAA,EAAD,CAAYvR,GAAG,cAAcqD,QAAQ,UAArC,YACA,kBAACmO,GAAA,EAAD,CACIpQ,MAAO0L,GAAYkF,YAAY9R,OAC/BI,KAAK,cACLN,GAAG,cACHyR,QAAQ,cACR3M,SAtFpC,SAA6ByH,GACzB,IAAIkU,EACJ1e,EAAW2B,KAAI,SAACC,GACTA,EAAIzD,SAAS4M,GAAYiF,aAAa7R,SACrCugB,EAAuB9c,EAAI0C,UAAU6F,QAAO,SAACwU,GAAD,OAAUA,EAAKxgB,SAAWqM,EAAEC,OAAOpL,aAGvFyB,QAAQC,IAAI2d,EAAqB,IACjC3O,GAAe,2BACRhF,IADO,IAEVkF,YAAayO,EAAqB,OA6ENpU,MAAM,WACNhJ,QAAQ,SACRsI,UAAQ,GAEJtF,EAAU3C,KAAI,SAACkD,EAAUhD,GAAX,OACV,kBAAC8N,EAAA,EAAD,CAAUzN,IAAKL,EAAGxC,MAAOwF,EAAS1G,QAAS0G,EAAS1G,cAQ5E,kBAACqD,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAACqF,GAAA,EAAD,CACAxH,SAAUob,GACV9e,MAAO0L,GAAYnN,YACnBW,KAAK,cACLyC,UAAWlB,EAAQ5E,WACnB+C,GAAG,eACHqM,MAAM,iBACNkU,UAAW,IACX9T,WAAS,EACTpJ,QAAQ,YAGZ,kBAACE,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAIlE,UAAWlB,EAAQ5E,YAClC,kBAAC2hB,GAAD,CAAe1J,SAAU,GAAI2F,iBA9S5B,SAACO,EAAMlG,EAAUxU,EAAMme,GAG5C,GAFApB,GAAmBoB,GAET,IAAPne,EACCsM,EAAY,GAAD,oBAAKD,GAAL,CAAeqO,SACzB,CACDmC,IAAoB,SAAAlQ,GAAG,6BAAQiQ,IAAR,CAA0BlC,OACjD,IAAI/S,EAAM0E,EAASb,QAAO,SAAA4S,GAAC,OAAIA,IAAM1D,KACrCpO,EAAY3E,GAGhBoV,GAAmBoB,IAmSkE3c,YAAaA,EAAa4Y,IAAKhO,GAAYC,YAGhH,kBAACxJ,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAIlE,UAAWlB,EAAQ5E,YACjCgF,GAAY,kBAAC,IAAD,OAGjB,kBAACsB,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,EAAG3D,MAAM,UACpB,kBAAC,IAAD,CAAQP,UAAWlB,EAAQ8e,QAAShU,SAAU1K,EAAUzB,KAAK,SAASoM,KAAK,QAAQvJ,QAAQ,YAAYlF,MAAM,WAA7G,YAEJ,kBAACoF,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,EAAG3D,MAAM,UACpB,kBAAC,IAAD,CAAQP,UAAWlB,EAAQ8e,QAASvY,QA/G5D,WACI2L,EAAQ7D,KAAK,MA8G8DtD,KAAK,QAAQvJ,QAAQ,YAAYlF,MAAM,aAA9F,aAEJ,kBAACgH,GAAD,CAAeC,QAASA,EAASE,MAAOA,EAAOD,SAAUA,S,iGC9YlE,SAASub,GAAT,GAAmF,IAAvDC,EAAsD,EAAtDA,cAAeC,EAAuC,EAAvCA,SAAUC,EAA6B,EAA7BA,iBAAkB9e,EAAW,EAAXA,SAC5EJ,EAAUzG,IAD6E,EAEjE0G,mBAAS,IAFwD,mBAEtFsE,EAFsF,KAE9E6Z,EAF8E,KAc/F,OAVE7d,qBAAU,WAGF6d,EADe,IAAhBY,EACW,uCACU,IAAhBA,EACM,qBAEA,2BAChB,IAGF,qCAAK9d,UAAWlB,EAAQhG,OAAxB,YAAyC,SACvC,kBAACmH,EAAA,EAAD,CAAOC,UAAW,GAChB,kBAACM,EAAA,EAAD,CAAMR,UAAWlB,EAAQvF,gBAAkBkH,WAAS,EAACC,QAAQ,UACzD,kBAACF,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,UACzC8C,IAGT,kBAAC7C,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,8BAEKhF,GAA8B,IAAlB6e,EAAS9Y,QAAe,kBAACP,GAAA,EAAD,CAAQpE,QAAQ,WAAWyC,SAAS,QAApC,iCAKrCgb,EAASpd,KAAI,SAACmK,EAAOjK,GAAR,OACT,kBAACod,GAAD,CAAS/c,IAAKL,EAAGiK,MAAOA,EAAOkT,iBAAkBA,WAWzE,SAASC,GAAT,GAA6C,IAAD,EAA1BnT,EAA0B,EAA1BA,MAAOkT,EAAmB,EAAnBA,iBACflf,EAAUzG,IAEhB,OAAQyS,EAAM/N,QACV,KAAM,EACM,UACR,MACJ,KAAK,EACO,OACR,MACJ,KAAK,EACO,SACR,MACJ,KAAK,EACO,UACR,MACJ,KAAK,EACO,UAGhB,OACI,kBAACkD,EAAA,GAAD,GAAOD,UAAWlB,EAAQvF,iBAA1B,0BAAqD,SAArD,wBAAqE,YAArE,8BACI,kBAACiH,EAAA,EAAD,CAAMC,WAAS,EAACwD,UAAU,MAAMvD,QAAQ,SAASP,MAAO,CAACtH,QAAQ,SAC7D,kBAAC2H,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAIjD,GAAI,EAAGD,GAAI,EAAGD,GAAI,IACjC,kBAAC,IAAD,CAAQ6I,UAAQ,GACZ,kBAACxJ,EAAA,EAAD,CAAYhF,MAAM,YAAYkF,QAAQ,KAAKD,UAAU,KAAKE,MAAM,QACtC,OAArBuK,EAAM7C,aAAoB,sBAAsB6C,EAAM7C,aAAa5E,SAKnD,OAArByH,EAAM7C,cACN,kBAAC,IAAD,CAAM9G,GAAI,gBAAgB2J,EAAM7C,aAAahL,GAAI+C,UAAWlB,EAAQpD,YAChE,kBAAC8I,EAAA,EAAD,CAASC,MAAM,gBACX,kBAAC,IAAD,KAAQ,kBAAC,KAAD,CAAKrJ,MAAM,eAK/B,kBAAC,IAAD,CAAQwO,UAAQ,GACZ,kBAAC,KAAD,OAGJ,kBAAC,IAAD,CAAMzI,GAAI,qBAAqB2J,EAAM5C,WAAWjL,GAAI+C,UAAWlB,EAAQpD,YACnE,kBAAC,IAAD,CAAQsE,UAAWlB,EAAQhE,QACvB,kBAACsF,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,QAA9C,UACQuK,EAAM5C,WAAW/K,OADzB,YACmC2N,EAAM5C,WAAW1L,cAMhE,kBAACgE,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAIjD,GAAI,EAAGD,GAAI,EAAGD,GAAI,IACjC,kBAACX,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,SACzCuK,EAAMnO,WAAWuhB,MAAM,KAAK,KAKrC,kBAAC1d,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,QAA9C,yBAKJ,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAACwD,UAAU,MAAMvD,QAAQ,UAEhCoK,EAAMhE,QAAQnG,KAAI,SAAC8G,EAAQ5G,GAAT,OACd,kBAACL,EAAA,EAAD,CAAMU,IAAKL,EAAGC,MAAI,EAACoD,GAAI,EAAGnD,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACxC,kBAACb,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,UAEtCkH,EAAOtK,aAQ/B,kBAACqD,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAACia,GAAD,CAAsBrT,MAAOA,EAAOkT,iBAAkBA,OAQ1E,SAASG,GAAT,GAA0D,IAA3BrT,EAA0B,EAA1BA,MAAOkT,EAAmB,EAAnBA,iBAAmB,EACzB5e,qBAAWd,GAA/BJ,EAD6C,EAC7CA,MAD6C,KACtCS,SACSI,oBAAS,IAFoB,mBAE9C6D,EAF8C,KAExCoD,EAFwC,OAGzBjH,oBAAS,GAHgB,mBAG9CoJ,EAH8C,KAGtCiW,EAHsC,OAIrBrf,oBAAS,GAJY,mBAI9CG,EAJ8C,KAIpCC,EAJoC,KAMrC9G,IAyEhB,SAASgmB,EAAkBC,EAAcvhB,GACrC,IAAIsK,EAAO,UAAUnJ,EAAM/B,IAC3BmD,IAAMuI,IACF3J,EAAMhC,SAAS,iBAAiB4O,EAAM7N,GAAG,CACrCkL,OAAQA,EACRpL,OAAQA,EACRuhB,aAAcA,EACdC,iBAAkBrgB,EAAM3B,YAAYU,IACtC,CAAC6K,QAAS,CAAC,cAAiBT,KAEjC7H,MAAK,SAAAC,GACFK,QAAQC,IAAI,kCAAkCN,EAASC,MACvDP,GAAY,GAIZ6e,EAAiBve,EAASC,SAE7BC,OAAM,SAAAC,GACHE,QAAQC,IAAI,2CAA4CH,EAAMH,UAC9DI,MAAM,+CAId,SAAS2e,EAAyB1T,EAAO2T,GACrC,IAAIpX,EAAO,UAAUnJ,EAAM/B,IACvBuiB,EAA4B,OAArB5T,EAAM7C,aAAoB,SAAS,iBAC1C0W,EAA2B,OAArB7T,EAAM7C,aAAoB6C,EAAM5C,WAAWjL,GAAG6N,EAAM7C,aAAahL,GAC3E6C,QAAQC,IAAI7B,EAAMhC,SAAS,IAAIwiB,EAAKC,GACpCrf,IAAMuI,IACF3J,EAAMhC,SAAS,IAAIwiB,EAAKC,EAAI,CACxBnb,UAAWib,GACb,CAAC3W,QAAS,CAAC,cAAiBT,KACjC7H,MAAK,SAAAC,GACFK,QAAQC,IAAI,wBAAwBN,EAASC,SAEhDC,OAAM,SAAAC,GACHE,QAAQC,IAAI,mCAAoCH,EAAMH,UACtDI,MAAM,wCAId,OACI,6BACI,kBAACoG,EAAA,EAAD,CAAUnL,QAAM,EAACuK,QAnHL,WAChBW,GAASpD,KAmHD,kBAACsD,EAAA,EAAD,CAAcC,QAAQ,6BACrBvD,EAAO,kBAACwD,GAAA,EAAD,MAAiB,kBAACC,GAAA,EAAD,OAE7B,kBAACC,EAAA,EAAD,CAAUC,GAAI3D,EAAM4D,QAAQ,OAAOC,eAAa,GAC5C,kBAAC7B,EAAA,EAAD,CAAMvE,UAAU,MAAMqG,gBAAc,GAChC,6BACA,kBAAClG,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IAEP4G,EAAMlO,YAAYshB,MAAM,MAAMvd,KAAI,SAAC0B,EAASxB,GAAV,OAC9B,kBAACT,EAAA,EAAD,CAAYc,IAAKL,EAAGN,MAAM,WACrB8B,OAMjB,6BAGIyI,EAAM/N,QAAQ,GAAK,kBAACuR,GAAA,EAAD,CAAajO,UAAU,WAAWE,MAAM,QACvD,kBAACqe,GAAA,EAAD,CAAWhW,UAAQ,EAACvI,UAAU,UAA9B,aACI,kBAACwe,GAAA,EAAD,CAAYjV,SAAUkB,EAAM/N,OAAO,EAAG+hB,KAAG,EAACnU,aAAW,SAAStM,MAAO8J,EAAQpG,SAAU,SAACyH,GAAK4U,GAAWjW,KACpG,kBAACU,GAAA,EAAD,CACAxK,MAAM,OACNuW,QAASzM,EACTW,QAAS,kBAACiW,GAAA,EAAD,MACTzV,OAAuB,IAAhBwB,EAAM/N,OAAY,0CAAuC,0BAChE,kBAAC8L,GAAA,EAAD,CACAxK,MAAM,QACNuW,SAAUzM,EACVW,QAAS,kBAACiW,GAAA,EAAD,MACTzV,OAAuB,IAAhBwB,EAAM/N,OAAY,2BAAwB,oBAK7D+N,EAAM/N,OAAO,GAAK,kBAACqD,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,QAC3DuK,EAAM3C,OAAO,gCAA6B,oCAI/CjJ,GAAY,kBAACyK,EAAA,EAAD,MAEhB,yBAAKtF,OAAQyG,EAAM/N,OAAO,IAEF,IAAhB+N,EAAM/N,QAAe,kBAAC,GAAD,CAAuB+N,MAAOA,EAAMwT,eAE7D,kBAAC,GAAD,CAAaU,YA/JjC,SAAqBpiB,EAAaqiB,GAC9B9f,GAAY,GACZ,IAAIkI,EAAO,UAAUnJ,EAAM/B,IACvBY,EAAS,EACTmiB,EAAY,OAA4B,OAArBpU,EAAM7C,aAAoB,iBAAc,UAAU,gFAA0ErL,EAWhJqiB,IAEI9W,GAECpL,EAAS,EACTmiB,EAAiC,OAArBpU,EAAM7C,aAClB,sKAA0JrL,EAC1J,+JAAsJA,GAEnI,IAAhBkO,EAAM/N,QACLyhB,EAAyB1T,GAAO,KAIpC/N,EAAS,GAEU,IAAhB+N,EAAM/N,SACLyhB,EAAyB1T,GAAO,GAChCmU,GAAW,EACXC,EAAiC,OAArBpU,EAAM7C,aAAoB,4DAAsD,wDAM1F,IAAXgX,EACC3f,IAAMyI,KACF7J,EAAMhC,SAAS,uBAAuB,CAClCyB,KAAM,EACNmQ,OAAQ5P,EAAM3B,YAAYU,GAC1B8Q,SAAUjD,EAAM5C,WAAWjL,GAC3B2J,UAAgC,OAArBkE,EAAM7C,aAAoB6C,EAAM7C,aAAahL,GAAG,KAC3D6T,mBAAoBoO,EACpBC,OAAO,GACT,CACErX,QAAS,CAAC,cAAiBT,KAElC7H,MAAK,SAAAC,GACFK,QAAQC,IAAI,uCAAuCN,EAASC,OACxC,IAAhBoL,EAAM/N,QACNshB,EAAkB5e,EAASC,KAAKzC,GAAIF,MAE3C4C,OAAM,SAAAC,GACHE,QAAQC,IAAI,gDAAiDH,EAAMH,UACnEI,MAAM,oDAIVwe,EAAkB,KAAMthB,IAgG2BmC,SAAUA,EAAUkgB,aAA6B,IAAhBtU,EAAM/N,UAGlF,yBAAKsH,OAAQyG,EAAM/N,QAAQ,GACvB,kBAAC,GAAD,CAAuB+N,MAAOA,EAAMwT,mBAQ5D,IAAMe,GAAc,SAAC,GAAyC,IAAxCL,EAAuC,EAAvCA,YAAa9f,EAA0B,EAA1BA,SAAUkgB,EAAgB,EAAhBA,YAAgB,EACnBrgB,mBAAS,IADU,mBAClDnC,EADkD,KACrCsK,EADqC,KAEzD,OACI,6BACI,kBAAC1G,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAACqF,GAAA,EAAD,CACAxH,SAAU,SAACyH,GAAKtC,EAAesC,EAAEC,OAAOpL,QACxCA,MAAOzB,EACPK,GAAG,iBACHqM,MAAM,kBACNI,WAAS,EAACpJ,QAAQ,WAClBuJ,KAAK,SACL0E,WAAS,KAGb,yBAAKhO,MAAM,UACP,kBAAC,IAAD,CAAQqJ,SAAU1K,EAAUiG,UAAW,kBAAC,KAAD,MAAYE,QAAS,WAAK2Z,EAAYpiB,GAAa,KACrFwiB,EAAY,sBAAmB,mBAEpC,kBAAC,IAAD,CAAQxV,SAAU1K,EAAU9D,MAAM,YAAY+J,UAAW,kBAAC,KAAD,MAAaE,QAAS,WAAK2Z,EAAYpiB,GAAa,KAA7G,wBAQV0iB,GAAwB,SAAC,GAC3B,OADsC,EAAVxU,MAElBnK,KAAI,SAAC4e,EAAO1e,GAAR,OACN,yBAAKK,IAAKL,GACN,6BACA,kBAACL,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,UACpB,kBAACF,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GACX,kBAAC9D,EAAA,EAAD,CAAYhF,MAAM,YAAYkF,QAAQ,KAAKD,UAAU,KAAKE,MAAM,QAAhE,8BAIJ,kBAACC,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GACX,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,SACzCgf,EAAM5iB,WAAWuhB,MAAM,KAAK,KAGrC,kBAAC1d,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACVqb,EAAMzO,0B,sCCxWhB,SAAS0O,KAAsB,IAAD,EACbpgB,qBAAWd,GAA/BJ,EADiC,EACjCA,MADiC,KAC1BS,SACmCI,mBAAS,KAFlB,mBAElC0gB,EAFkC,KAEfC,EAFe,KAsBzC,SAASC,EAAkBC,GACvBF,EAAqBD,EAAkBtW,QAAO,SAAA6G,GAAI,OAAIA,EAAK/S,KAAK2iB,MApBpEvgB,qBAAU,WACNF,GAAY,GACZ,IAAIkI,EAAO,UAAUnJ,EAAM/B,IACX,KAAZ+B,EAAM/B,KACNmD,IAAMC,IAAIrB,EAAMhC,SAAS,kCAAkC,CACvD4L,QAAS,CAAC,cAAiBT,KAE9B7H,MAAK,SAAAC,GACFK,QAAQC,IAAIN,EAASC,MACrBggB,EAAqBjgB,EAASC,MAC9BP,GAAY,MAEfQ,OAAM,SAAAC,GACHC,MAAM,4DACNC,QAAQC,IAAIH,EAAMH,eAG5B,CAACvB,EAAM/B,MAMT,IAAM2C,EAAUzG,IA1ByB,EA2BT0G,oBAAS,GA3BA,mBA2BlCG,EA3BkC,KA2BxBC,EA3BwB,KA4BzC,OACA,yBAAKa,UAAWlB,EAAQhG,OACpB,kBAACmH,EAAA,EAAD,CAAOC,UAAW,EAAIC,MAAO,CAACpG,OAAO,WAAYlB,QAAQ,OAAQgB,MAAM,OAAQmG,UAAU,SACrF,kBAACQ,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,SAASpG,QAAS,GACtC,kBAACkG,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,UAA9C,0BAIJ,kBAACC,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IAEPhF,GAAY,kBAACyK,EAAA,EAAD,MAEhB,8BAEKzK,GAAwC,IAA3BugB,EAAkBxa,QAAe,kBAACP,GAAA,EAAD,CAAQpE,QAAQ,WAAWyC,SAAS,QAApC,uDAMnD0c,EAAkB9e,KAAI,SAACga,EAAS9Z,GAAV,OAClB,kBAACL,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAIhD,IAAKL,GACpB,kBAACgf,GAAD,CAAWlF,QAASA,EAASgF,kBAAmBA,WAU5E,SAASE,GAAT,GAAkD,IAA9BlF,EAA6B,EAA7BA,QAASgF,EAAoB,EAApBA,kBACnB7gB,EAAUzG,IAChB,OACI,kBAAC4H,EAAA,EAAD,CAAOD,UAAWlB,EAAQvF,gBAAiB+G,QAAQ,WAAWuL,QAAM,GAChE,kBAACrL,EAAA,EAAD,CAAMC,WAAS,EAACwD,UAAU,MAAMtL,WAAW,UACvC,kBAAC6H,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC,IAAD,CAAQlE,UAAWlB,EAAQhE,QACvB,kBAACsF,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,QAA9C,UACQoa,EAAQxd,OADhB,YAC0Bwd,EAAQne,YAGtC,kBAAC,IAAD,CAAQoN,UAAQ,GACZ,kBAACxJ,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,QAA9C,QACUoa,EAAQ9d,OAI1B,kBAAC2D,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC,GAAD,CAAsByW,QAASA,EAASgF,kBAAmBA,OAQ/E,SAASxB,GAAT,GAA6D,IAA9BxD,EAA6B,EAA7BA,QAASgF,EAAoB,EAApBA,kBAC9B7gB,EAAUzG,IADwC,EAE5B+G,qBAAWd,GAA/BJ,EAFgD,EAEhDA,MAFgD,KAEzCS,SACSI,oBAAS,IAHuB,mBAGjD6D,EAHiD,KAG3CoD,EAH2C,OAIxBjH,mBAAS,IAJe,mBAIjDiL,EAJiD,KAIvCC,EAJuC,OAKxBlL,oBAAS,GALe,mBAKjDG,EALiD,KAKvCC,EALuC,OAMlBJ,mBAAS,IANS,mBAMjDnC,EANiD,KAMpCsK,EANoC,OAO1BnI,mBAAS,IAPiB,mBAOjDsD,EAPiD,KAOxC8E,EAPwC,KAaxD,SAAS6X,EAAYC,GACjB9f,GAAY,GACZ,IAAIkI,EAAO,UAAUnJ,EAAM/B,IAE3BmD,IAAMyI,KACF7J,EAAMhC,SAAS,uBAAuB,CAClCyB,KAAM,EACNmQ,OAAQ5P,EAAM3B,YAAYU,GAC1B8Q,SAAU4M,EAAQ1d,GAClB2J,UAAW,KACXkK,mBAAoBmO,EAAS,GAAGriB,EAChCuiB,OAAO,GAEX,CAACrX,QAAS,CAAC,cAAiBT,KAC/B7H,MAAK,SAAAC,GACFK,QAAQC,IAAI,uCAAuCN,EAASC,MAG5DJ,IAAMuI,IACF3J,EAAMhC,SAAS,UAAUye,EAAQ1d,GAAG,CAChCye,qBAAqB,EACrB3d,qBAAsBkhB,GACxB,CAACnX,QAAS,CAAC,cAAiBT,KACjC7H,MAAK,SAAAC,GACFK,QAAQC,IAAI,qCAAqCN,EAASC,MAC1DigB,EAAkBlgB,EAASC,KAAKzC,IAChCkC,GAAY,MAEfQ,OAAM,SAAAC,GACHE,QAAQC,IAAI,gDAAiDH,EAAMH,UACnEI,MAAM,uDAGbF,OAAM,SAAAC,GACHE,QAAQC,IAAI,gDAAiDH,EAAMH,UACnEI,MAAM,oDAkBd,OAbAR,qBAAU,WACN,GAAGsb,EAAQ3c,aAAa,CACpB,IAAIsM,EAAMqQ,EAAQ3c,aAAa2C,KAAI,SAACW,GAAD,MAC/B,CACID,IAAKnD,EAAMhC,SAASoF,EAAOG,IAC3BgD,MAAOnD,EAAO/D,KACdC,YAAa,yBAGrByM,EAAYK,MAElB,CAACqQ,IAGC,6BACI,kBAAC1U,EAAA,EAAD,CAAUnL,QAAM,EAACuK,QA3DL,WAChBW,GAASpD,KA2DD,kBAACsD,EAAA,EAAD,CAAcC,QAAQ,6BACrBvD,EAAO,kBAACwD,GAAA,EAAD,MAAiB,kBAACC,GAAA,EAAD,OAE7B,kBAACC,EAAA,EAAD,CAAUC,GAAI3D,EAAM4D,QAAQ,OAAOC,eAAa,GAC5C,kBAAC7B,EAAA,EAAD,CAAMvE,UAAU,MAAMqG,gBAAc,GAChC,kBAAClG,EAAA,EAAD,CAAMC,WAAS,EAACwD,UAAU,MAAMtL,WAAW,SAAS+H,QAAQ,UACxD,kBAACF,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,EAAGnD,GAAI,IAClB,yBAAKR,MAAM,UACP,kBAAC,KAAD,CAAUuf,OAAQ9V,EACd+V,eAAe,QACfC,gBAAgB,YAK5B,kBAACxf,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAACqF,GAAA,EAAD,CACItM,GAAG,iBACHM,KAAK,cACL+L,MAAM,kBACNI,WAAS,EAACpJ,QAAQ,WAClBuJ,KAAK,SACL0E,WAAS,EACTvO,UAAWlB,EAAQ5E,WACnB6H,SAAU,SAACyH,GAAKtC,EAAesC,EAAEC,OAAOpL,WAKhD,kBAACiG,EAAA,EAAD,CAAQC,OAAkB,KAAVlC,GAA8B,KAAdzF,GAC5B,kBAAC4D,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC9D,EAAA,EAAD,CAAYhF,MAAM,SACbiH,KAKTnD,GAAY,kBAACyK,EAAA,EAAD,MAEhB,yBAAKpJ,MAAM,UACP,kBAAC,IAAD,CACAqJ,SAAU1K,EACVmG,QAAS,WAAK2Z,GAAY,IAC1B5jB,MAAM,YACN+J,UAAW,kBAAC,KAAD,OAJX,qBAOA,kBAAC,IAAD,CACAyE,SAAU1K,EACVmG,QAAS,WAAmB,KAAdzI,EAAiBuK,EAAW,wDAAwD6X,GAAY,IAC9G5jB,MAAM,UACN+J,UAAW,kBAAC,KAAD,OAJX,2B,qHC1M5B,SAAS8a,GAAS9d,GAAQ,IAChB1D,EAAqC0D,EAArC1D,SAAUJ,EAA2B8D,EAA3B9D,MAAOoN,EAAoBtJ,EAApBsJ,MAAUyU,EADZ,aACsB/d,EADtB,8BAGvB,OACE,uCACE7E,KAAK,WACL+G,OAAQhG,IAAUoN,EAClBxO,GAAE,oCAA+BwO,GACjC5G,kBAAA,+BAAyC4G,IACrCyU,GAEH7hB,IAAUoN,GACT,kBAAC0U,GAAA,EAAD,CAAKC,EAAG,GACL3hB,IAaX,SAAS4hB,GAAU5U,GACjB,MAAO,CACLxO,GAAG,wBAAD,OAA0BwO,GAC5B,gBAAgB,6BAAhB,OAA8CA,IAIlD,IAAM6U,GAAYhoB,aAAW,SAACC,GAAD,MAAY,CACvCgoB,KAAM,CACJ9N,SAAU,EACV5Y,MAAO,OACPU,gBAAiBhC,EAAM8C,QAAQ7B,WAAWgnB,MAC1C/nB,QAAS,OACTE,WAAY,SACZC,SAAU,OACVC,QAAS,GACTE,UAAU,uBAEZ0nB,SAAU,CACR5lB,OAAQtC,EAAMsC,OAAO6lB,OAAS,EAC9BtlB,MAAO,YAII,SAASulB,KAAmB,IAAD,EACR5hB,oBAAS,GADD,mBACjCG,EADiC,KACvBC,EADuB,KAElCL,EAAUwhB,KAFwB,EAGdvhB,mBAAS,GAHK,mBAGjCV,EAHiC,KAG1BuiB,EAH0B,OAIR7hB,mBAAS,IAJD,mBAIjCgf,EAJiC,KAIvB8C,EAJuB,OAMZzhB,qBAAWd,GAA/BJ,EANgC,EAMhCA,MANgC,EAMzBS,SAmCf,OA7BAU,qBAAU,WACR,GAAgB,KAAZnB,EAAM/B,MAA4B,IAAhB+B,EAAM9B,QAAe,CACvC+C,GAAY,GACZ,IAAIkI,EAAO,UAAUnJ,EAAM/B,IAE3BmD,IAAMC,IAAIrB,EAAMhC,SAAS,gBAAgB,CACvC4L,QAAS,CAAC,cAAiBT,KAC5B7H,MAAK,SAAAC,GACJohB,EAAYphB,EAASC,MACrBP,GAAY,MAEbQ,OAAM,SAAAC,GACHC,MAAM,qDACNC,QAAQC,IAAIH,EAAMH,gBAG1B,CAACvB,EAAM/B,IAAK+B,EAAM9B,UAclB,qCAAK4D,UAAWlB,EAAQyhB,KAAMpgB,MAAO,CAACtH,QAAQ,SAA9C,YAAiE,SAC/D,kBAACsW,GAAA,EAAD,KACE,kBAACuD,EAAA,EAAD,CAAQzZ,SAAS,SAASmC,MAAM,WAC9B,kBAAC0lB,GAAA,EAAD,CACEziB,MAAOA,EACP0D,SAvCW,SAACU,EAAOse,GAC3BH,EAASG,IAuCDzgB,QAAQ,YACR0gB,cAAc,OACdC,eAAe,UACfC,UAAU,UACVvW,aAAW,iCAEX,kBAACwW,GAAA,EAAD,eAAK7X,MAAM,4BAA4BqD,KAAM,kBAAC,KAAD,OAAe0T,GAAU,KACtE,kBAACc,GAAA,EAAD,eAAK7X,MAAM,qBAAqBqD,KAAM,kBAAC,KAAD,OAAe0T,GAAU,KAC/D,kBAACc,GAAA,EAAD,eAAK7X,MAAM,wBAAwBqD,KAAM,kBAAC,KAAD,OAAe0T,GAAU,OAGtE,kBAAC7X,GAAA,EAAD,CAAUxI,UAAWlB,EAAQ2hB,SAAU7d,KAAM1D,GAC3C,kBAACkiB,GAAA,EAAD,OAEF,kBAACnB,GAAD,CAAU5hB,MAAOA,EAAOoN,MAAO,GAC7B,kBAACoS,GAAD,CAAmBC,cAAe,EAAG5e,SAAUA,EAAU8e,iBAjCjE,SAA0BZ,GACxByD,EACE9C,EAASpd,KAAI,SAAC1F,GACZ,OAAGmiB,EAAOngB,KAAKhC,EAAQgC,GACdmgB,EAEAniB,OA2BsF8iB,SAAUA,EAAS5U,QAAO,SAAClO,GAAD,OAAYA,EAAQ8B,QAAQ,QAGrJ,kBAACkjB,GAAD,CAAU5hB,MAAOA,EAAOoN,MAAO,GAC7B,kBAACoS,GAAD,CAAmBC,cAAe,EAAG5e,SAAUA,EAAU8e,iBAAkB,aAAQD,SAAUA,EAAS5U,QAAO,SAAClO,GAAD,OAA6B,IAAjBA,EAAQ8B,aAGnI,kBAACkjB,GAAD,CAAU5hB,MAAOA,EAAOoN,MAAO,GAC7B,kBAACoS,GAAD,CAAmBC,cAAe,EAAG5e,SAAUA,EAAU8e,iBAAkB,aAAQD,SAAUA,EAAS5U,QAAO,SAAClO,GAAD,OAAYA,EAAQ8B,QAAQ,UC9HpI,SAASskB,GAAT,GAA8C,IAAnBjN,EAAkB,EAAlBA,gBAClCtV,EAAUzG,IAD0C,EAE9B+G,qBAAWd,GAA/BJ,EAFkD,EAElDA,MAFkD,KAE3CS,SACyBI,mBAAS,KAHS,mBAGnDob,EAHmD,KAGrCmH,EAHqC,OAI1BviB,oBAAS,GAJiB,mBAInDG,EAJmD,KAIzCC,EAJyC,OAKpBJ,mBAAS,IALW,mBAKnDmY,EALmD,KAKtCC,EALsC,OAMVpY,mBAAS,MANC,mBAMnDqY,EANmD,KAMjCC,EANiC,KAqB1D,SAAS7B,IACPlW,IAAMC,IAAIrB,EAAMhC,SAAS,6BAA6BgC,EAAM3B,YAAYU,GAAG,SAASmX,GACnF5U,MAAK,SAAAC,GACJ0X,EAAe1X,EAASC,MACxBP,GAAY,MAEbQ,OAAM,SAAAC,GACLC,MAAM,mDACNC,QAAQC,IAAIH,EAAMH,aAGjB2U,GACD9U,IAAMC,IAAIrB,EAAMhC,SAAS,0BAA0BgC,EAAM3B,YAAYU,IACpEuC,MAAK,SAAAC,GACJ,IAAIgY,EAAmB,GACvBhY,EAASC,KAAKiB,KAAK,SAAA4V,GACjBA,EAAOjT,UAAU3C,KAAI,SAAA+W,GACfD,EAAiBvK,eAAewK,EAAMva,UACxCsa,EAAiBC,EAAMva,QAAU,CAACsY,QAAQ,KAG1CgC,EAAiBC,EAAMva,QAAQsY,QAAQtI,KAAKoJ,SAKlDc,EAAoBI,MAErB9X,OAAM,SAAAC,GACLC,MAAM,iDACNC,QAAQC,IAAIH,EAAMH,aAKxB,OAhDAJ,qBAAU,WACRF,GAAY,GAGVmiB,EADClN,EACe,oBAEA,6BAEH,KAAZlW,EAAM/B,MAA4B,IAAhB+B,EAAM9B,SACzBoZ,MAEF,CAACtX,EAAM/B,IAAK+B,EAAM9B,QAASgY,IAuC3B,kBAACjF,GAAA,EAAD,CAAWnP,UAAWlB,EAAQhG,OAC1B,kBAACmH,EAAA,EAAD,CAAOC,UAAW,EAAGF,UAAU,QAAQG,MAAO,CAACtG,MAAM,IAAKhB,QAAS,KAC/D,kBAACuH,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,UAAU4Z,GACxD,6BAIEjb,GAAY,kBAAC,IAAD,OAGXA,GAAiC,IAArBgY,EAAYjS,QAAe,kBAACP,GAAA,EAAD,CAAQpE,QAAQ,WAAWyC,SAAS,QAApC,aAC3BqR,EAAgB,iBAAiB,eADN,gBAKxC8C,EAAYvW,KAAI,SAACiG,EAAW/F,GAAZ,OACd,kBAACyU,GAAD,CAAiBG,QAA4B,OAAnB2B,EAAwB,KAAKA,EAAiBxQ,EAAUqI,YAAY9R,QAASqY,kBAAmBA,EAAmBtU,IAAKL,EAAGiK,MAAOlE,EAAWwN,gBAAiBA,EAAiBmB,WAAW,S,uDC/ErN,SAASgM,KACtB,IAAMziB,EAAUzG,IAD4B,EAENoU,IAAM1N,SAAS,CACnD,CACEyiB,SAAU,wBACVC,UAAW,kJAEb,CACED,SAAU,iCACVC,UAAW,gRAEb,CACED,SAAU,gDACVC,UAAW,kJAEb,CACED,SAAU,iFACVC,UAAW,mOAEb,CACED,SAAU,sCACVC,UAAW,uKAEb,CACED,SAAU,oCACVC,UAAW,iNAEb,CACED,SAAU,qEACVC,UAAW,6MAEb,CACED,SAAU,oDACVC,UAAW,sPAEb,CACED,SAAU,qEACVC,UAAW,wPArC6B,mBAErCC,EAFqC,UAyC5C,OACE,yBAAK1hB,UAAWlB,EAAQhG,OACtB,kBAACmH,EAAA,EAAD,CAAOC,UAAW,EAAGC,MAAO,CAACpG,OAAO,OAAOF,MAAM,IAAKhB,QAAQ,QAASmH,UAAU,SAC/E,kBAACI,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,KAAKC,MAAM,UAA9C,wBAGA,6BACA,oCAEImhB,EAAY/gB,KAAI,SAACghB,EAAM9gB,GAAP,OACd,kBAAC+gB,GAAA,EAAD,CAAW1gB,IAAKL,GACd,kBAACghB,GAAA,EAAD,CAAkBC,WAAY,kBAAC,KAAD,MAAoBC,gBAAc,kBAAkB9kB,GAAG,kBACnF,kBAACmD,EAAA,EAAD,CAAaC,UAAU,KAAKC,QAAQ,MAAMqhB,EAAKH,WAEjD,kBAACQ,GAAA,EAAD,KACE,kBAAC5hB,EAAA,EAAD,KACGuhB,EAAKF,mBCzDX,SAASQ,KACtB,IAAMnjB,EAAUzG,IAChB,OACE,yBAAK2H,UAAWlB,EAAQhG,OACtB,kBAACmH,EAAA,EAAD,CAAOC,UAAW,EAAGC,MAAO,CAACtG,MAAM,IAAKd,UAAU,IAAKF,QAAS,KAC9D,kBAACuH,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,KAAKC,MAAM,UAA9C,sBAGA,kBAACH,EAAA,EAAD,CAAYE,QAAQ,QAAQC,MAAM,QAAlC,c,2FCXF2hB,GAAe,CACjBC,eAAe,GAcG5jB,wBAAc2jB,ICArB,SAASE,KACpB,IAAMtjB,EAAUzG,IAD0B,EAEd+G,qBAAWd,GAA/BJ,EAFkC,EAElCA,MAAOS,EAF2B,EAE3BA,SACXqS,EAAUC,cAH4B,EAKVlS,oBAAS,GALC,mBAKnCG,EALmC,KAKzBC,EALyB,OAMhBJ,oBAAS,GANO,mBAMnCwD,EANmC,KAM5BD,EAN4B,OAUpBvD,mBAAS,IAVW,mBAUnCsjB,EAVmC,KAU9BC,EAV8B,OAWVvjB,mBAAS,IAXC,mBAWnCiL,EAXmC,KAWzBC,EAXyB,OAYRlL,mBAAS,IAZD,mBAYnCwjB,EAZmC,KAYxBC,EAZwB,OAaIzjB,mBAAS,IAbb,mBAanC0b,EAbmC,KAalBC,EAbkB,OAcM3b,mBAAS,IAdf,mBAcnCwb,EAdmC,KAcjBC,EAdiB,KA6B1Cnb,qBAAU,WACN,GAAe,KAAZnB,EAAM/B,IAAS,CACdmmB,EAAOpkB,EAAM3B,YAAYM,KACzB,IAAI4lB,EAAOvkB,EAAM3B,YAAYyB,aAAa2C,KAAI,SAAA+hB,GAAK,OAAIA,EAAMzlB,MAC7DgN,EAAYwY,MAElB,CAACvkB,EAAM/B,MAyFT,SAASwmB,IACL,IAAItb,EAAO,UAAUnJ,EAAM/B,IAE3BmD,IAAMuI,IACF3J,EAAMhC,SAAS,UAAUgC,EAAM3B,YAAYU,GAAG,CAC1CJ,IAAKwlB,EACL3G,qBAAqB,GACvB,CACE5T,QAAS,CACL,cAAiBT,KAE5B7H,MAAK,SAAAC,GACFd,EAAS,CAAClB,KAAK,WAAYY,MAAOoB,EAASC,OAC3CuQ,aAAaC,QAAQ,aAAcC,KAAKC,UAAU,CAC9CjU,IAAK+B,EAAM/B,IACXI,YAAakD,EAASC,QAE1BI,QAAQC,IAAI,UAAUN,EAASC,MAE/BP,GAAY,GACZmD,GAAS,GACTqZ,YAAW,WAAS3K,EAAQ7D,KAAK,OAAS,QAE7CxN,OAAM,SAAAC,GACHE,QAAQC,IAAI,4CAA6CH,EAAMH,aAIvE,OACI,yBAAKO,UAAWlB,EAAQhG,OACpB,kBAACmH,EAAA,EAAD,CAAOC,UAAW,GACd,0BAAMsN,SAtHE,SAAChE,GACjBA,EAAEiE,iBACFtO,GAAY,GAEZmjB,EAAOM,OAAOP,IAEd,IAAIpH,EAAiB,GAGrBsH,EAAU5hB,KAAI,SAACW,GACGmZ,EAAgBvR,MAAK,SAAAoB,GAAG,OAAIA,IAAQhJ,MAE9C2Z,EAAe9N,KAAK7L,MAG5BxB,QAAQC,IAAI,gBAAiBwiB,GAC7BziB,QAAQC,IAAI,UAAWkb,GAGvB,IAAIC,EAAmB,GACvBX,EAAiB5Z,KAAI,SAACW,GACJmZ,EAAgBvR,MAAK,SAAAoB,GAAG,OAAIA,IAAQhJ,MAE9C4Z,EAAiB/N,KAAK7L,MAG9BxB,QAAQC,IAAI,YAAamb,GAGzB,IAAI,IAAIC,EAAO,EAAGA,EAAOZ,EAAiBtV,OAAQkW,IAAO,CACrD,IAAIle,EAAKme,OAAOb,EAAiBY,GAAM5d,MAEnC8J,EAAO,UAAUnJ,EAAM/B,IAC3BmD,IAAMqX,OAAOzY,EAAMhC,SAAS,iBAAiBe,EAC7C,CACI6K,QAAS,CACT,cAAiBT,KAEpB7H,MAAK,SAAAC,GACFK,QAAQC,IAAI,oBAAqBN,MAClCE,OAAM,SAAAC,GACLC,MAAM,gCACNC,QAAQC,IAAIH,EAAMH,aAQ1B,IAHA,IAAM4b,EAAW,IAAIC,SAGbza,EAAI,EAAGA,EAAEoa,EAAehW,OAAQpE,IACpCwa,EAASE,OAAO,QAASN,EAAepa,IAI5C,GAA2B,IAAxBoa,EAAehW,OAAW,CACzBoW,EAASE,OAAO,MAAO,QACvBF,EAASE,OAAO,QAASrd,EAAM3B,YAAYU,IAC3Coe,EAASE,OAAO,QAAS,gBACzBF,EAASE,OAAO,SAAU,qBAE1B,IAAIlU,EAAO,UAAUnJ,EAAM/B,IAE3BmD,IAAMyI,KACF7J,EAAMhC,SAAS,UACfmf,EACA,CACIvT,QAAS,CACL,eAAgB,sBAChB,cAAiBT,KAG5B7H,MAAK,SAAAC,GACFK,QAAQC,IAAI,qBAAqBN,EAASC,MAC1CijB,OAEHhjB,OAAM,SAAAC,GACHC,MAAM,oCACNC,QAAQC,IAAI,UAAWH,EAAMH,kBAGjCkjB,MAsCQ,kBAACniB,EAAA,EAAD,CAAMR,UAAWlB,EAAQ9E,aAAcM,QAAS,EAAGmG,WAAS,EAACC,QAAQ,gBAAgB/H,WAAW,UAC5F,kBAAC6H,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,SAASP,UAAWlB,EAAQ5E,YAA1E,2BAKJ,kBAACsG,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAI3D,MAAM,UACrB,kBAACgJ,GAAA,EAAD,CACAvJ,UAAWlB,EAAQ5E,WACnBuD,KAAK,SACLF,KAAK,MACLc,MAAOgkB,EACPliB,MAAO,CAACtG,MAAM,OACdkI,SAAU,SAACyH,GAAK8Y,EAAO9Y,EAAEC,OAAOpL,QAChCpB,GAAG,eACHqM,MAAM,yBACNhJ,QAAQ,SACRsI,UAAQ,KAGZ,kBAACpI,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,YAAYD,UAAU,KAAKE,MAAM,UAAUP,UAAWlB,EAAQ5E,YAAlF,+NAKJ,kBAACsG,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC2X,GAAD,CAAa1J,SAAU,EAAG2F,iBAxKzB,SAACO,EAAMlG,EAAUxU,EAAMme,GAG5C,GAFApB,EAAmBoB,GAET,IAAPne,EACC6kB,EAAa,GAAD,oBAAKD,GAAL,CAAgBlK,SAC3B,CACDmC,GAAoB,SAAAlQ,GAAG,6BAAQiQ,GAAR,CAA0BlC,OACjD,IAAI/S,EAAMid,EAAUpZ,QAAO,SAAA4S,GAAC,OAAIA,IAAM1D,KACtCmK,EAAald,GAEjBoV,EAAmBoB,IA8J+D3c,YAAaA,EAAa4Y,IAAK/N,KAGjG,kBAACxJ,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAIlE,UAAWlB,EAAQ5E,YACjCgF,GAAY,kBAAC,IAAD,QAIZhB,EAAM3B,YAAYwB,sBAAwBG,EAAM3B,YAAYmf,sBAC7D,kBAAClb,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,YAAYD,UAAU,KAAKE,MAAM,UAAUnF,MAAM,QAAQ4E,UAAWlB,EAAQ5E,YAC3FgE,EAAM3B,YAAYmf,oBAAoB,wDAAqD,yCAKxG,kBAAClb,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC,IAAD,CACIzG,KAAK,SACLuC,UAAWlB,EAAQ5E,WACnB2P,KAAK,QACLvJ,QAAQ,YACRlF,MAAM,UACNwO,SAAU1K,GAAYhB,EAAM3B,YAAYwB,sBAAwBG,EAAM3B,YAAYmf,qBANtF,uBAaZ,kBAACtZ,GAAD,CAAeC,QAAS,gFAA2EE,MAAOA,EAAOD,SAAUA,M,sDC3N5H,SAASugB,GAAT,GAAyD,IAA/BC,EAA8B,EAA9BA,qBAAsBhY,EAAQ,EAARA,MACvDhM,EAAUzG,IADqD,EAEzC+G,qBAAWd,GAA/BJ,EAF6D,EAE7DA,MAF6D,KAEtDS,SACS8N,IAAM1N,UAAS,IAH8B,mBAG9D6D,EAH8D,KAGxDoD,EAHwD,OAI3CyG,IAAM1N,UAAS,GAJ4B,mBAI9DwD,EAJ8D,KAIvDD,EAJuD,OAK3BvD,mBAAS,GALkB,mBAK9DgkB,EAL8D,KAK/CC,EAL+C,OAMzCjkB,mBAAS,IANgC,mBAM9DsE,EAN8D,KAMtD4f,EANsD,OAO/BlkB,mBAAS,IAPsB,mBAO9DnC,EAP8D,KAOjDsK,EAPiD,OAQnCnI,mBAAS,IAR0B,mBAQ9DuE,EAR8D,KAQnD2T,EARmD,OASTlY,mBAAS,IATA,mBAS9DgY,EAT8D,KAStCoF,EATsC,OAUrCpd,oBAAS,GAV4B,mBAU9DG,EAV8D,KAUpDC,EAVoD,OAWvCJ,oBAAS,GAX8B,mBAW9DsD,EAX8D,KAWrD8E,GAXqD,KAgGrE,OAvEA9H,qBAAU,WACR,IAAIsf,EAAwB,OAAlB7T,EAAMlE,UAAiBkE,EAAMlE,UAAUoI,aAAaoM,OAAOtQ,EAAMgG,mBAAmBoN,MAAM,KAAK,IACrG7W,EAAO,UAAUnJ,EAAM/B,IAEvB+mB,EAA+B,OAAlBpY,EAAMlE,UAAiB,CAACkE,EAAMlE,UAAUqI,aAAa,GACtEkN,EAA0B+G,GAE1B5jB,IAAMC,IAAIrB,EAAMhC,SAAS,4BAA4ByiB,EAAI,CACvD7W,QAAS,CAAC,cAAiBT,KAE5B7H,MAAK,SAAAC,GACJ,IAAI0jB,EAAa1jB,EAASC,KAAKiB,KAAI,SAAAgd,GAEjC,OADAA,EAAI,cAAmB,EAChBA,KAET7d,QAAQC,IAAI,YAAYojB,GAExBlM,EAAakM,MAEdxjB,OAAM,SAAAC,GACLC,MAAM,iDACNC,QAAQC,IAAIH,EAAMH,eAEpB,CAACqL,IAiDD,6BACI,kBAAC,IAAD,CACIxK,QAAQ,YACRlF,MAAM,UACNiK,QAxFS,WACjBW,GAAQ,KAoFJ,sBAQF,kBAAC5D,GAAD,CAAeC,QAAQ,yBAAmBC,SAAUA,EAAUC,MAAOA,IAErE,kBAAC6F,GAAA,EAAD,CACEvD,kBAAgB,yBAChBwD,mBAAiB,+BACjBrI,UAAWlB,EAAQtG,YACnBoK,KAAMA,EACNE,QAhGc,WAClBkD,GAAQ,IAgGJsC,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACbjC,QAAS,MAIX,kBAACkC,GAAA,EAAD,CAAMnC,GAAI3D,GACR,6BACE,kBAACpC,EAAA,EAAD,CAAMR,UAAWlB,EAAQ3E,WAAYgG,MAAO,CAAClG,SAAU,SAAUwG,WAAS,EAACwD,UAAU,MAAMvD,QAAQ,gBAAgB/H,WAAW,UAC5H,0BAAM6U,SAzElB,SAAuBhE,GACrBA,EAAEiE,iBACF,IAAIpG,EAAO,UAAUnJ,EAAM/B,IAC3B2D,QAAQC,IAAIgX,GAEuB,IAAhCA,EAAuB9R,QACxB9F,GAAY,GACZG,IAAMyI,KACJ7J,EAAMhC,SAAS,gBAAgB,CAC/BmH,OAAQA,EACRzG,YAAaA,EACb0O,cAAe8P,OAAO2H,GACtBjX,gBAAiB,EACjBC,gBAAiB,EACjByK,UAAW1L,EAAMgD,OAAO7Q,GACxBqG,UAA2C,IAAhCyT,EAAuB9R,OAAW8R,EAAuB,MAEpE,CAACjP,QAAS,CAAC,cAAiBT,KAC7B7H,MAAK,SAAAC,GACJK,QAAQC,IAAI,oCAAiCN,EAASC,MACtDojB,EAAqBhY,EAAM7N,IAC3BkC,GAAY,GACZmD,GAAS,GACT0D,GAAQ,MAETrG,OAAM,SAAAC,GACLE,QAAQC,IAAI,6CAA2CH,EAAMH,UAC7DI,MAAM,kDAGRsH,IAAW,KA4CD,kBAACmH,GAAA,EAAD,KACE,kBAAC9N,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACb,yBAAK3D,MAAM,UACP,kBAAC,IAAD,CACA4D,IAAI,mBACJ9C,IAA8C,IAAzCyJ,EAAMgD,OAAOwO,mBAAmBrX,OAAW/G,EAAMhC,SAAS4O,EAAMgD,OAAOwO,mBAAmB,GAAG7a,IAAI,GACtGzB,UAAWlB,EAAQrF,sBAGzB,kBAAC+G,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACb,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,SAASP,UAAWlB,EAAQyO,MAA1E,UACMzC,EAAMgD,OAAO3Q,OADnB,YAC6B2N,EAAMgD,OAAOtR,YAI1C,kBAAC4D,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,SAASP,UAAWlB,EAAQyO,MACrD,OAAlBzC,EAAMlE,UAAiB,mBAAgB,iBACrB,OAAlBkE,EAAMlE,UAAiBkE,EAAMlE,UAAUvD,OAAOyH,EAAMgG,mBAAmBoN,MAAM,KAAK,IAGrF,kBAAC3U,GAAA,EAAD,CACExH,SAAU,SAACyH,GAAKyZ,EAAUzZ,EAAEC,OAAOpL,QACnC2B,UAAWlB,EAAQ5E,WACnB+C,GAAG,eACHqM,MAAM,4BACNhJ,QAAQ,SACRsI,UAAQ,IACV,kBAACjE,EAAA,EAAD,MACA,6BACA,kBAAC4E,GAAA,EAAD,CACExH,SAAU,SAACyH,GAAKtC,EAAesC,EAAEC,OAAOpL,QACxC2B,UAAWlB,EAAQ5E,WACnB+C,GAAG,eACHqM,MAAM,4BACNhJ,QAAQ,SACRoJ,WAAS,IACX,6BAEA,kBAAClJ,EAAA,EAAD,CAAMC,WAAS,EAACnG,QAAS,EAAGoG,QAAQ,gBAClC,kBAACF,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACb,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,YAAYD,UAAU,KAAKE,MAAM,SAASP,UAAWlB,EAAQyO,MAC5D,OAAlBzC,EAAMlE,UAAiB,kFAA+E,+CAIzGtD,EAAU3C,KAAI,SAACkD,EAASiZ,GAAV,OACM,OAAlBhS,EAAMlE,UAAkBkE,EAAMlE,UAAUqI,cAAcpL,EAAS5G,GAC/D,kBAACuD,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,EAAGnD,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,IAAK4b,GAC1C,kBAAC5Q,GAAD,CACErI,SAAUA,EACVsI,oBAAqB,SAAC/N,IA1FlD,SAA6BoZ,GACvBnV,GACF8E,IAAW,GACb,IAAIic,EAASrM,EAAuB7N,MAAK,SAAAyU,GAAI,OAAGA,IAASnG,EAAUva,MAIjEkf,EAHEiH,EAGwBrM,EAAuB5N,QAAO,SAAAka,GAAI,OAAIA,IAAO7L,EAAUva,MAFvD,GAAD,oBAAK8Z,GAAL,CAA6BS,EAAUva,MAsFtCqmB,CAAoBzf,GACpBA,EAASyI,aAAelO,UAQpC,kBAACgC,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,SAASP,UAAWlB,EAAQyO,MAA1E,oCAGA,kBAAC,GAAD,CAAWnP,MAAO2kB,EAAelhB,aAvK9B,SAAC2H,GACpBwZ,EAAiB5H,OAAO5R,EAAEC,OAAOpL,SAsK4CuD,YAAY,IAEzE,kBAAC0C,EAAA,EAAD,CAAQC,QAASlC,GAAWnD,GAC1B,kBAACkB,EAAA,EAAD,CAAYhF,MAAM,SAAlB,4CAKD8D,GAAY,kBAACyK,EAAA,EAAD,MAEb,kBAAC,IAAD,CACElM,KAAK,SACLmM,SAAkC,IAAxBwR,OAAO2H,IAAsB7jB,EACvCoB,QAAQ,YACRlF,MAAM,WAJR,2BCrML,SAASokB,KACpB,IAAM1gB,EAAUzG,IADyB,EAEb+G,qBAAWd,GAA/BJ,EAFiC,EAEjCA,MAFiC,KAE1BS,SAC6BI,mBAAS,KAHZ,mBAGlC6R,EAHkC,KAGlBgB,EAHkB,OAIT7S,oBAAS,GAJA,mBAIlCG,EAJkC,KAIxBC,EAJwB,OAMbJ,mBAAS,CAAC,kBAAC,KAAD,CAASoB,MAAO,CAAEuB,SAAU,UAAa,kBAAC,KAAD,CAAWvB,MAAO,CAAEuB,SAAU,UAAa,kBAAC,KAAD,CAAQvB,MAAO,CAAEuB,SAAU,YAN5G,mBAMlC6hB,EANkC,UAyDzC,SAAST,EAAqBU,GAC1B5R,EAAkBhB,EAAezH,QAAO,SAAAmV,GAAY,OAAEA,EAAarhB,KAAKumB,MACxE,IAAInc,EAAO,UAAUnJ,EAAM/B,IAC3BmD,IAAMqX,OAAOzY,EAAMhC,SAAS,uBAAuBsnB,EAAI,CACnD1b,QAAS,CAAC,cAAiBT,KAE9B7H,MAAK,SAAAC,GACFK,QAAQC,IAAIN,EAASC,SAExBC,OAAM,SAAAC,GACHC,MAAM,wDACNC,QAAQC,IAAIH,EAAMH,aAoB1B,OA3DA8L,aAAS,WArBU,SAACC,EAAQC,EAAOC,GAI/B,MAAO,CACL,CAAC,cAAe,eAChB,CAAC,mBAAoB,kBACrB,CAAC,gBAAiB,eAClB,CAAC,kBAAmB,iBACpB,CAAC,cAAe,aAChB,CAAC,gBAAiB,eAClB,CAAC,gBAAc,eACf,CAAC,kBAAgB,iBACjB,CAAC,gBAAiB,eAClB,CAAC,kBAAmB,iBACpB,CAAC,aAAc,YACf,CAAC,gBAAiB,eAClB,CAAC,gBAAc,eACf,CAAC,kBAAgB,kBACjBD,MAINpM,qBAAU,WACNF,GAAY,GACZ,IAAIkI,EAAO,UAAUnJ,EAAM/B,IACX,KAAZ+B,EAAM/B,MAA4B,IAAhB+B,EAAM9B,SACxBkD,IAAMC,IAAIrB,EAAMhC,SAAS,gCAAgCgC,EAAM3B,YAAYU,GAAG,CAC1E6K,QAAS,CAAC,cAAiBT,KAE9B7H,MAAK,SAAAC,GACFK,QAAQC,IAAIN,EAASC,MACrBkS,EAAkBnS,EAASC,KAAK4S,WAEhC7S,EAASC,KAAKiB,KAAI,SAAA4e,IACG,IAAdA,EAAMJ,OA6BzB,SAAsBqE,GAClB,IAAInc,EAAO,UAAUnJ,EAAM/B,IAC3BmD,IAAMuI,IAAI3J,EAAMhC,SAAS,uBAAuBsnB,EAAI,CAChDrE,OAAO,GACT,CACErX,QAAS,CAAC,cAAiBT,KAE9B7H,MAAK,SAAAC,GACFK,QAAQC,IAAIN,EAASC,SAExBC,OAAM,SAAAC,GACHC,MAAM,qDACNC,QAAQC,IAAIH,EAAMH,aAxCNgkB,CAAalE,EAAMtiB,OAI3BkC,GAAY,MAEfQ,OAAM,SAAAC,GACHC,MAAM,sDACNC,QAAQC,IAAIH,EAAMH,eAG5B,CAACvB,EAAM/B,IAAK+B,EAAM9B,UAkChB,kBAAC+S,GAAA,EAAD,CAAWnP,UAAWlB,EAAQhG,OAC1B,kBAACmH,EAAA,EAAD,CAAOE,MAAO,CAACtH,QAAQ,OAAQgB,MAAM,QAASmG,UAAU,QAAQM,QAAQ,WAAWuL,QAAM,GACrF,kBAACrL,EAAA,EAAD,CAAMC,WAAS,EAACwD,UAAU,MAAMtL,WAAW,UACvC,kBAAC6H,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IACX,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,UAA9C,kBAGA,8BAGArB,GAAY,kBAACsB,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IAAI,kBAACyF,EAAA,EAAD,QAG9BzK,GAAoC,IAAxB0R,EAAe3L,QAAe,kBAACzE,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,IAAI,kBAACQ,GAAA,EAAD,CAAQpE,QAAQ,WAAWyC,SAAS,QAApC,qCAK9D6N,EAAejQ,KAAI,SAACkQ,EAAMhQ,GAAP,OACf,kBAACZ,EAAA,EAAD,CAAOiB,IAAKL,EAAGb,UAAWlB,EAAQvF,gBAAiB4G,MAAO,CAACpG,OAAO,OAAQF,MAAM,OAAQyG,QAAQ,WAAWuL,QAAM,GAC7G,kBAACrL,EAAA,EAAD,CAAMC,WAAS,EAACK,MAAI,EAACoD,GAAI,GAAIvL,WAAW,UACpC,kBAAC6H,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAInD,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGV,MAAM,UAEtCgjB,EAAO1S,EAAKlT,OAGpB,kBAAC6C,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,GAAInD,GAAI,EAAGC,GAAI,GAAIC,GAAI,IAClC,kBAACb,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAU,KAAKE,MAAM,QAC7B,IAAZsQ,EAAKlT,OAA8B,OAAjBkT,EAAKjK,UACpB,gCAA6BiK,EAAKjK,UAAUvD,OAAO,IACnD,uBACS,IAAZwN,EAAKlT,MAAY,2DACL,IAAZkT,EAAKlT,OAAuC,KAA1BkT,EAAKC,mBACnB,qDAA+CD,EAAKjK,UAAUvD,OAAO,IACrE,mDAA6CwN,EAAKC,mBAAmBoN,MAAM,KAAK,GAAG,KACvF,MAAMjS,aAAO,IAAI1E,KAAKsJ,EAAKlU,YAAY,YACtCkU,EAAKsO,OAAS,kBAAC,KAAD,CAAOhf,MAAO,CAAE/E,MAAOsoB,KAAI,SAE/C,kBAACtjB,EAAA,EAAD,CAAYG,MAAM,WACbsQ,EAAKlT,KAAK,EAA6B,KAA1BkT,EAAKC,mBAAwBD,EAAKC,mBAAmB,0DACxC,KAA1BD,EAAKC,mBACLD,EAAKjK,UAAUjJ,KAAM,0DAAoDkT,EAAKjK,UAAUvD,OACxF,mFAA6E,GAA7E,OACEwN,EAAK/C,OAAO3Q,OADd,YACwB0T,EAAK/C,OAAOtR,UAAW,sBAAsBqU,EAAKjK,UAAUvD,OAAO,oEAC3F,gEAAuDwN,EAAKC,mBAAmBoN,MAAM,KAAK,GAC9E,IAAZrN,EAAKlT,MAAYkT,EAAKjK,UAAUjJ,MAAQ,gCAAgC,GAAhC,OAAmCkT,EAAK/C,OAAO3Q,OAA/C,YAAyD0T,EAAK/C,OAAOtR,UAAW,oEAG7G,IAAZqU,EAAKlT,MAAY,yBAAK4C,MAAM,UAAS,kBAACsiB,GAAD,CAAiB/X,MAAO+F,EAAMiS,qBAAsBA,MAIjG,kBAACtiB,EAAA,EAAD,CAAMM,MAAI,EAACoD,GAAI,EAAGnD,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGV,MAAM,UAErC,kBAACa,EAAA,EAAD,CAAYiE,QAAS,WAAKyd,EAAqBjS,EAAK5T,MAAM,kBAAC,KAAD,CAAU7B,MAAM,oB,yGCpJhHuoB,GADcC,EAAQ,KACDD,OAEdE,GAAb,2KAEQ,IAAIC,EAAkB,CAClBC,YAAa,IACb3oB,MAAO,OACP4oB,WAAY,OACZC,WAAY,EACZC,KAAM,SAAChmB,EAAOimB,GACVA,EAAOC,KAAK3e,aAAa,QAASvH,EAAM9C,OACxC+oB,EAAOC,KAAK3e,aAAa,mBAAoBvH,EAAMrE,OAEnD,IAAIwE,EAAQgmB,KAAKC,MAAuB,IAAjBH,EAAO9lB,SAChB,IAAVA,EACA8lB,EAAOI,QAAQ,IAEfJ,EAAOI,QAAQlmB,KAIrBuB,EAAQ4kB,KAAKriB,MAAMzC,KAAKwZ,SAA2C,IAAjCsL,KAAKriB,MAAMzC,KAAKwZ,OAAOtZ,MAE/D,OACI,yBAAKI,UAAU,kBACX,yBACIA,UAAU,sBACVG,MAAOqkB,KAAKriB,MAAMzC,KAAK7F,OAAS2qB,KAAKriB,MAAMzC,KAAK5F,QAAU,CACtDD,MAAO2qB,KAAKriB,MAAMzC,KAAK7F,MACvBC,OAAQ0qB,KAAKriB,MAAMzC,KAAK5F,SAE5B,yBACIuH,IAAKmjB,KAAKriB,MAAMzC,KAAK+kB,IACrBtgB,IAAKqgB,KAAKriB,MAAMzC,KAAKyE,IACrBkB,QAASmf,KAAKriB,MAAMuiB,OACpBC,OAAQH,KAAKriB,MAAMwiB,OACnBC,QAASJ,KAAKriB,MAAM0iB,eAEpBjlB,GACA,yBAAKI,UAAU,8BACX,0BACIA,UAAU,yDACV,kBAAC,KAAD,SAKPJ,GACD4kB,KAAKriB,MAAMzC,KAAKwZ,SACfsL,KAAKriB,MAAMzC,KAAKwZ,OAAO4L,UACxB,yBAAK9kB,UAAU,+BAENwkB,KAAKriB,MAAMzC,KAAKwZ,OAAO6L,OACxB,4BACI1f,QAASmf,KAAKriB,MAAM6iB,WACpBhlB,UAAU,4DACV,kBAAC,KAAD,OAIsC,kBAAnCwkB,KAAKriB,MAAMzC,KAAKwZ,OAAO+L,SACK,IAAnCT,KAAKriB,MAAMzC,KAAKwZ,OAAO+L,SACvB,kBAACtB,GAAD,CACIuB,SAAUV,KAAKriB,MAAMzC,KAAKwZ,OAAO+L,QACjCE,QAASrB,EACTsB,gBAAgB,EAChBC,mBAAoB,sCAMpCb,KAAKriB,MAAMmjB,MACX,yBAAKtlB,UAAU,iBACVwkB,KAAKriB,MAAMmjB,WAxEpC,GAAkCC,aAgFlC1B,GAAa2B,aAAe,CACxBF,KAAM,GACN5lB,KAAM,GACNslB,WAAY,KACZN,OAAQ,KACRC,OAAQ,KACRE,aAAc,MAIHhB,U,8BC5FTF,GADcC,EAAQ,KACDD,OAEd8B,GAAb,0KAEYjc,GACCgb,KAAKriB,MAAMzC,KAAKwZ,UAGhBsL,KAAKriB,MAAMzC,KAAKwZ,OAAO4L,UAAYN,KAAKriB,MAAM6iB,sBAAsBU,SACrElB,KAAKriB,MAAM6iB,WAAWxb,GACjBgb,KAAKriB,MAAMzC,KAAKwZ,OAAO4L,UAAYN,KAAKriB,MAAMuiB,kBAAkBgB,UACrElB,KAAKriB,MAAMuiB,OAAOlb,MAT9B,+BAaQ,IAAIsa,EAAkB,CAClBC,YAAa,EACb3oB,MAAO,OACP4oB,WAAY,OACZC,WAAY,EACZC,KAAM,SAAChmB,EAAOimB,GACVA,EAAOC,KAAK3e,aAAa,QAASvH,EAAM9C,OACxC+oB,EAAOC,KAAK3e,aAAa,mBAAoBvH,EAAMrE,OAEnD,IAAIwE,EAAQgmB,KAAKC,MAAuB,IAAjBH,EAAO9lB,SAChB,IAAVA,EACA8lB,EAAOI,QAAQ,IAEfJ,EAAOI,QAAQlmB,KAIrBuB,EAAQ4kB,KAAKriB,MAAMzC,KAAKwZ,SAA2C,IAAjCsL,KAAKriB,MAAMzC,KAAKwZ,OAAOtZ,MAE/D,OACI,yBAAKI,UAAU,iBACX,4BAAQqF,QAASmf,KAAKnf,QAAQsgB,KAAKnB,OAC/B,yBAAKxkB,UAAU,uBACX,kBAAC,KAAD,CACI5E,MAAM,SACV,yBAAK4E,UAAU,uBACVwkB,KAAKriB,MAAMzC,KAAKmK,OAGzB,yBAAK7J,UAAU,uBACVwkB,KAAKriB,MAAMmjB,MAEhB,yBAAKtlB,UAAU,0BAEPJ,GACA,0BAAMI,UAAU,oBACZ,kBAAC,KAAD,CACI5E,MAAM,cAIbwE,GACD4kB,KAAKriB,MAAMzC,KAAKwZ,SACfsL,KAAKriB,MAAMzC,KAAKwZ,OAAO4L,WACvBN,KAAKriB,MAAMzC,KAAKwZ,OAAO6L,OACxB,kBAAC,KAAD,CACI3pB,MAAM,UAGTwE,GACD4kB,KAAKriB,MAAMzC,KAAKwZ,QAC0B,kBAAnCsL,KAAKriB,MAAMzC,KAAKwZ,OAAO+L,SACK,IAAnCT,KAAKriB,MAAMzC,KAAKwZ,OAAO+L,SACvB,kBAAC,GAAD,CACIC,SAAUV,KAAKriB,MAAMzC,KAAKwZ,OAAO+L,QACjCE,QAASrB,EACTsB,gBAAgB,EAChBC,mBAAoB,kCAtEpD,GAAiCE,aA+EjCE,GAAYD,aAAe,CACvBF,KAAM,GACN5lB,KAAM,GACN2F,QAAS,KACT2f,WAAY,KACZN,OAAQ,MAIGe,UC/FTG,I,OAAahC,EAAQ,KAiBZiC,GAff,2KAEQ,OACI,yBAAK7lB,UAAW4lB,GAAW,qBAAsBpB,KAAKriB,MAAMnC,YACxD,yBACIA,UAAU,YACV,yBAAKA,UAAU,iBACVwkB,KAAKriB,MAAMmjB,YAPpC,GAAmCC,a,SCF7BK,I,OAAahC,EAAQ,KAKdkC,GAAb,oDACI,WAAY3jB,GAAQ,IAAD,+BACf,cAAMA,IAEDnC,UAAY,EAAKA,UAAU2lB,KAAf,iBAHF,EADvB,sDAOalkB,GACL,IAAIskB,EAASvB,KAAKriB,MAAMzC,MAAQ,GAEhC,OAAO+B,EAAIukB,QAAQ,YAAaD,EAAOE,UAC5BD,QAAQ,aAAcD,EAAOG,WAC7BF,QAAQ,eAAgBxB,KAAKriB,MAAMgkB,aACnCH,QAAQ,OAAQxB,KAAKriB,MAAMikB,MAC3BJ,QAAQ,MAAOxB,KAAKriB,MAAMkkB,UAd7C,kCAkBQ,IAAIrmB,EAAY4lB,GAAW,oBAAqBpB,KAAKriB,MAAMnC,WAM3D,OAJIwkB,KAAKriB,MAAMmjB,OACXtlB,EAAY4lB,GAAW5lB,EAAW,+BAG/BA,IAxBf,+BA4BQ,IAAMN,EAAO8kB,KAAKriB,MAAMzC,MAAQ,GAEhC,OACI,yBAAKM,UAAU,sBACX,uBACIqF,QAASmf,KAAKriB,MAAMuiB,OACpBjb,OAAQ+a,KAAKriB,MAAMsH,OACnBvE,KAAMsf,KAAKriB,MAAM+C,MAAQsf,KAAKriB,MAAMd,KAAOmjB,KAAK8B,SAAS5mB,EAAK6mB,QArClE,gFAsCIvmB,UAAWwkB,KAAKxkB,aAChB,yBACI4kB,QAASJ,KAAKriB,MAAMyiB,QACpB5kB,UAAU,wBACVqB,IACImjB,KAAKriB,MAAMd,KACXmjB,KAAK8B,SAAS5mB,EAAK8mB,WA7C5B,0IAiDChC,KAAKriB,MAAMmjB,MACX,yBAAKtlB,UAAU,wCACVwkB,KAAKriB,MAAMmjB,WAhDpC,GAAqCC,aAwDrCO,GAAgBN,aAAe,CAC3B/b,OAAQ,SACR4c,OAAQ,GACRD,KAAM,GACND,YAAa,MACbvB,QAAS,cAGEkB,UCnEFW,I,OAFM7C,EAAQ,IAE3B,0KAEQ,IAAI8C,EAAW,GACXhnB,EAAO,CACP+kB,IAAKD,KAAKriB,MAAMsiB,IAChBlsB,MAAOisB,KAAKriB,MAAM5J,MAClBouB,KAAMnC,KAAKriB,MAAMwkB,MAErB,IAAK,IAAIC,KAAYlnB,EAAM,CACvB,IAAImnB,EAAaC,mBAAmBF,GAChCG,EAAeD,mBAAmBpnB,EAAKknB,IAC3CF,EAASvZ,KAAK0Z,EAAa,IAAME,GAGrC,OADAL,EAAWA,EAASM,KAAK,OAbjC,+BAkBQ,OAAKxC,KAAKriB,MAAMsiB,IAGZ,yBAAKzkB,UAAU,oBACX,4BACIqB,IAAK,kCAAoCmjB,KAAKyC,QAC9CptB,MAAO2qB,KAAKriB,MAAMtI,MAClBC,OAAQ0qB,KAAKriB,MAAMrI,OACnBotB,YAAY,IACZC,kBAAkB,UARnB,SAnBnB,GAAoC5B,cAiCpCkB,GAAejB,aAAe,CAC1Bf,IAAK,GACLlsB,MAAO,QACPouB,KAAM,OACN9sB,MAAO,IACPC,OAAQ,KAGG2sB,UC3CTb,I,OAAahC,EAAQ,KAEdwD,GAAb,oDACI,WAAYjlB,GAAQ,wCACVA,GAFd,sDAKc,IAAD,EAODqiB,KAAKriB,MALLklB,EAFC,EAEDA,SACA5iB,EAHC,EAGDA,MACA6iB,EAJC,EAIDA,WACA9W,EALC,EAKDA,QACAnL,EANC,EAMDA,QAGJ,OACI,yBACIrF,UAAW4lB,GAAW,iBAAkB,CACpC,0BAA2B0B,IAE/BnnB,MAAOmnB,GAAc,CAAExN,YAAawN,GACpCjiB,QAASA,GACT,yBAAKrF,UAAU,uBACX,yBACIG,MAAOmnB,GAAc,CAAElsB,MAAOksB,GAC9BtnB,UAAU,wBACTyE,GAAS,WAEd,yBAAKzE,UAAU,0BACVwQ,GAAW,QAIhB6W,GACA,yBAAKrnB,UAAU,wBACX,yBAAKqB,IAAKgmB,EAAUljB,IAAI,WAlChD,GAAkCohB,aA0ClC6B,GAAa5B,aAAe,CACxB6B,SAAU,KACV5iB,MAAO,KACP6iB,WAAY,KACZ9W,QAAS,KACTnL,QAAS,cAGE+hB,U,uICpDTxB,I,OAAahC,EAAQ,KAErB2D,GAAgB,GAETC,GAAb,oDACI,WAAYrlB,GAAQ,IAAD,+BACf,cAAMA,IAEDslB,aAAe,EAAKA,aAAa9B,KAAlB,iBAHL,EADvB,iEAQQnB,KAAKkD,YAAa,IAR1B,6CAYQlD,KAAKkD,YAAa,IAZ1B,+BAearmB,GACL,OAAuC,IAAhCkmB,GAAcI,QAAQtmB,KAhBrC,mCAmBiBA,GAAM,IAAD,OACVumB,EAAOpD,KACXA,KAAKS,SAAU,EAEf,IAAI4C,EAAS,WACTN,GAAcpa,KAAK9L,UACZumB,EAAK3C,SACY,IAApB,EAAKyC,YACLE,EAAKE,SAAS,KAIlBxd,EAAM/E,SAASC,cAAc,OACjC8E,EAAIjJ,IAAMA,EACViJ,EAAIyd,OAASF,EACbvd,EAAI0d,QAAUH,IAlCtB,qCAqCoBI,GAEZ,IADA,IAAIC,EAAO,EACFrnB,EAAI,EAAGA,EAAIonB,EAAIhjB,OAAQpE,IAC5BqnB,EAAOD,EAAIE,WAAWtnB,KAAOqnB,GAAQ,GAAKA,GAG9C,IADA,IAAIE,EAAS,IACJvnB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxB,IAAIxC,EAAS6pB,GAAa,EAAJrnB,EAAU,IAEhCunB,IAAW,MADX/pB,EAASA,EAAQ,IAAO,IACAgqB,SAAS,KAAKC,QAAQ,GAElD,OAAOF,IAhDf,+BAoDQ,IAAI/mB,EAAMmjB,KAAKriB,MAAMd,IACjBknB,GAAc,EAiBlB,OAfI/D,KAAKriB,MAAMqmB,mBACXD,GAAc,EAET/D,KAAKiE,SAASpnB,GAQfknB,GAAc,GAPdlnB,EAAMmjB,KAAKriB,MAAMqmB,iBAEZhE,KAAKS,SACNT,KAAKiD,aAAajD,KAAKriB,MAAMd,OASrC,yBAAKrB,UAAW4lB,GAAW,uBAAwBpB,KAAKriB,MAAM1E,KAAM+mB,KAAKriB,MAAM0H,KAAM2a,KAAKriB,MAAMnC,YAExFwkB,KAAKriB,MAAMumB,WACX,yBACI1oB,UAAU,+BACVG,MAAO,CAAE5F,gBAAiBiqB,KAAKmE,eAAenE,KAAKriB,MAAMumB,WAAWzrB,MACpE,0BAAM+C,UAAU,qBACXwkB,KAAKriB,MAAMumB,WAAWE,SAI/B,yBACIzkB,IAAKqgB,KAAKriB,MAAMgC,IAChB9C,IAAKA,EACLujB,QAASJ,KAAKriB,MAAMyiB,QACpB5kB,UAAW4lB,GACP,aACA,CAAC,kBAAmB2C,MAG/B/D,KAAKriB,MAAM0mB,iBA3F5B,GAA4BtD,aAiG5BiC,GAAOhC,aAAe,CAClB/nB,KAAM,UACNoM,KAAM,UACNxI,IAAK,GACL8C,IAAK,GACL0kB,YAAa,KACbL,sBAAkBlS,EAClBsO,QAAS,cAGE4C,U,oBChGFsB,GAAb,oDACI,WAAY3mB,GAAQ,IAAD,+BACf,cAAMA,IAEDjE,MAAQ,CACT6qB,QAAQ,GAJG,EADvB,2DAUQvE,KAAKsD,SAAS,CACViB,QAASvE,KAAKtmB,MAAM6qB,WAXhC,+BAec,IAAD,SAYDvE,KAAKriB,MAVL6mB,EAFC,EAEDA,KACAC,EAHC,EAGDA,WACAxkB,EAJC,EAIDA,MACAykB,EALC,EAKDA,QACA7jB,EANC,EAMDA,QACA8jB,EAPC,EAODA,cACAC,EARC,EAQDA,WACAC,EATC,EASDA,aACAC,EAVC,EAUDA,oBACAC,EAXC,EAWDA,wBAGEC,EAAoBhF,KAAKriB,MAAMsnB,kBAE/BC,EAAWT,GAA2BD,IAASW,MAAMX,IAAU/c,aAAO+c,GAE5E,OACI,yBAAKhpB,UAAU,iBACX,yBAAKA,UAAU,YACX,yBACIA,UAAU,oBACTkpB,GAAW,mBAEhB,yBACIlpB,UAAU,gBACVqF,QAASA,GACT,yBAAKrF,UAAU,iBACX,kBAAC,KAAD,MACA,yBAAKA,UAAU,oBACX,0BAAMA,UAAU,kBACXyE,GAEL,0BAAMzE,UAAU,iBACX0pB,KAIb,yBAAK1pB,UAAU,uBACX,kBAAC,KAAD,QAGR,yBACIA,UAAU,uBACVqF,QAAS,kBAAM,EAAKukB,iBAEM,IAAtBpF,KAAKtmB,MAAM6qB,OACX,yBAAK/oB,UAAU,4BACX,kBAAC,KAAD,MACA,8BAAOmpB,IAGX,yBAAKnpB,UAAU,iCACX,kBAAC,KAAD,MACA,8BAEQqpB,EAAaQ,MAAM,EAAGL,GAAmB7oB,KAAI,SAAA0V,GAAC,OAAIA,EAAE5R,OAAS,YAAUuiB,KAAK,MAG5EqC,EAAapkB,OAASukB,GAAtB,aACWH,EAAapkB,OAASukB,MAMrD,yBACIxpB,UAAW4lB,KACP,yBACA,CAAC,iCAAuD,IAAtBpB,KAAKtmB,MAAM6qB,UAG7CK,GACAA,EAAWzoB,KAAI,SAAC0V,EAAGxV,GACf,OACI,yBAAKK,IAAKL,IAEDwV,EAAE5T,OACH,yBAAKzC,UAAU,aACX,yBACIA,UAAW4lB,KACP,mBACA,CAAC,uBAAwBvP,EAAEyT,UAG3BzT,EAAEyT,OACE,kBAAC,GAAD,CAAQzoB,IAAKgV,EAAEyT,SACb,kBAAC,KAAD,OAGd,yBAAK9pB,UAAU,kBACX,yBAAKA,UAAU,uBACX,yBACIA,UAAU,4BACVqF,QAAS,SAACmE,GAAD,OAAO8f,EAAoBjT,EAAGxV,EAAG2I,KACzC6M,EAAE5R,OAEP,yBAAKzE,UAAU,4BAEPqW,EAAE4S,WAAa5S,EAAE4S,WAAc5S,EAAE2S,OAChCW,MAAMtT,EAAE2S,OACR/c,aAAOoK,EAAE2S,QAItB,yBAAKhpB,UAAU,0BACX,yBACIA,UAAU,gCACTqW,EAAE7F,YAQnB6F,EAAE5T,OACF,yBAAKzC,UAAU,mBACX,yBAAKA,UAAU,yBACX,yBAAKA,UAAU,yBACX,kBAAC,KAAD,OAEJ,yBAAKA,UAAU,6BACVqW,EAAE5T,MAAMgC,MACT,yBAAKzE,UAAU,4BAEPqW,EAAE4S,WAAa5S,EAAE4S,WAAc5S,EAAE2S,OAChCW,MAAMtT,EAAE2S,OACR/c,aAAOoK,EAAE2S,OAGlB,yBAAKhpB,UAAU,4BAEPqW,EAAE5T,MAAMsnB,SACR1T,EAAE5T,MAAMsnB,QAAQppB,KAAI,SAAC0V,EAAGxV,GAAJ,OAAUwV,aAAamR,GAASnR,EAChD,yBAAKnV,IAAKL,EAAGb,UAAU,oBACnB,kBAAC,GAAD,CACIqB,IAAKgV,EAAEhV,WAMvBgV,EAAE2T,QACF,yBAAKhqB,UAAU,wBACX,yBAAKA,UAAU,sBACX,yBACIqF,QAAS,SAACmE,GAAD,OAAO+f,EAAwBlT,EAAGxV,EAAG2I,IAC9CxJ,UAAU,yBACV,kBAAC,GAAD,CACIA,UAAW,wBACXqB,IAAKgV,EAAE2T,OAAOF,SAClB,yBAAK9pB,UAAW,wBACXqW,EAAE2T,OAAOC,OAGlB,yBAAKjqB,UAAU,4BACX,8BACKqW,EAAE2T,OAAOvlB,OAEd,yBAAKzE,UAAU,6BACVqW,EAAE2T,OAAOE,0BAjLtF,GAAoC3E,aAsMpCuD,GAAetD,aAAe,CAC1BwD,KAAM,IAAIzhB,KACV0hB,WAAY,GACZxkB,MAAO,GACPykB,QAAS,GACTC,cAAe,GACfM,kBAAmB,EACnBU,gBAAgB,EAChBf,WAAY,GACZC,aAAc,GACdhkB,QAAS,aACTikB,oBAAqB,aACrBC,wBAAyB,aACzBa,cAAe,cAGJtB,U,yGC9MFuB,GAAb,4LAC8BC,GAClBA,EAAUC,QAAU/F,KAAKriB,MAAMooB,QAA6B,IAApBD,EAAUC,OAC9C/F,KAAKgG,KAAL,UACAhG,KAAKgG,KAAL,QAAqBC,eAAe,CAChCC,MAAO,SACPC,SAAU,WAGdnG,KAAKriB,MAAMyoB,iBAAiBN,MAT5C,+BAeQ,IAAIO,EAAcjF,KAAW,WAAY,CAAE,iBAA0C,UAAxBpB,KAAKriB,MAAMlJ,WACpE6xB,GAAoB,uBAAuBC,KAAKvG,KAAKriB,MAAM1E,SAA+B,aAApB+mB,KAAKriB,MAAM1E,MAAuB+mB,KAAKriB,MAAMmjB,MAEjHoE,EAAWlF,KAAKriB,MAAM6mB,OAASW,MAAMnF,KAAKriB,MAAM6mB,QAClDxE,KAAKriB,MAAM8mB,YACXhd,aAAOuY,KAAKriB,MAAM6mB,OAGtB,OACI,yBACIgC,IAAI,UACJhrB,UAAW4lB,KAAW,qBAAsBpB,KAAKriB,MAAMnC,WACvDqF,QAASmf,KAAKriB,MAAMkD,SAEhBmf,KAAKriB,MAAM8oB,wBAAwBvF,UACnClB,KAAKriB,MAAM8oB,eAGS,WAApBzG,KAAKriB,MAAM1E,KACP,kBAAC,GAAD,CACI6nB,KAAMd,KAAKriB,MAAMmjB,OAErB,yBACItlB,UAAW4lB,KACPiF,EACA,CAAC,0BAA2BC,GAC5B,CAAC,yBAA0BtG,KAAKriB,MAAM+oB,OACtC,CAAE,gBAAiB1G,KAAKriB,MAAMooB,SAElC,yBACIvqB,UAAU,gBACVmrB,cAAe3G,KAAKriB,MAAMgpB,gBAEG,IAAzB3G,KAAKriB,MAAMipB,WACX,yBACIprB,UAAW4lB,KACP,mBACA,CAAE,yBAAkD,SAAxBpB,KAAKriB,MAAMlJ,UACvC,CAAE,wBAAiD,UAAxBurB,KAAKriB,MAAMlJ,WAE1CoM,QAASmf,KAAKriB,MAAMkpB,gBAChB,kBAAC,KAAD,QAKmB,IAA3B7G,KAAKriB,MAAMmpB,aACX,yBACItrB,WAAoC,IAAzBwkB,KAAKriB,MAAMipB,UAAqBxF,KACvC,mBACA,CAAE,yBAAkD,SAAxBpB,KAAKriB,MAAMlJ,UACvC,CAAE,wBAAiD,UAAxBurB,KAAKriB,MAAMlJ,WACtC2sB,KACA,mBACA,CAAE,2BAAoD,SAAxBpB,KAAKriB,MAAMlJ,UACzC,CAAE,0BAAmD,UAAxBurB,KAAKriB,MAAMlJ,WAE5CoM,QAASmf,KAAKriB,MAAMopB,cAChB,kBAAC,KAAD,QAKP/G,KAAKriB,MAAMsC,OAAS+f,KAAKriB,MAAM2nB,SAChC,yBACI3pB,MAAOqkB,KAAKriB,MAAMmlB,YAAc,CAAElsB,MAAOopB,KAAKriB,MAAMmlB,YACpDjiB,QAASmf,KAAKriB,MAAMqpB,aACpBxrB,UAAW4lB,KAAW,iBAAkB,CACpC,wBAA6C,SAApBpB,KAAKriB,MAAM1E,QAGpC+mB,KAAKriB,MAAM2nB,QACX,kBAAC,GAAD,CACIpB,WAAYlE,KAAKriB,MAAMumB,WACvBrnB,IAAKmjB,KAAKriB,MAAM2nB,SAGpBtF,KAAKriB,MAAMsC,OACX,8BAAO+f,KAAKriB,MAAMsC,QAM1B+f,KAAKriB,MAAMspB,OACX,kBAAC,GAAD,CACIpE,SAAU7C,KAAKriB,MAAMspB,MAAMpE,SAC3B5iB,MAAO+f,KAAKriB,MAAMspB,MAAMhnB,MACxB6iB,WAAY9C,KAAKriB,MAAMspB,MAAMnE,WAC7B9W,QAASgU,KAAKriB,MAAMspB,MAAMjb,QAC1BnL,QAASmf,KAAKriB,MAAMupB,sBAIJ,SAApBlH,KAAKriB,MAAM1E,MACX,yBAAKuC,UAAU,iBACVwkB,KAAKriB,MAAMmjB,MAKI,aAApBd,KAAKriB,MAAM1E,MACX,kBAAC,GAAD,CACIinB,OAAQF,KAAKriB,MAAMuiB,OACnBhlB,KAAM8kB,KAAKriB,MAAMzC,KACjB+J,OAAQ+a,KAAKriB,MAAMsH,OACnBvE,KAAMsf,KAAKriB,MAAM+C,KACjBmhB,OAAQ7B,KAAKriB,MAAMkkB,OACnBhlB,IAAKmjB,KAAKriB,MAAMd,IAChB+kB,KAAM5B,KAAKriB,MAAMikB,KACjBD,YAAa3B,KAAKriB,MAAMgkB,YACxBb,KAAMd,KAAKriB,MAAMmjB,OAID,UAApBd,KAAKriB,MAAM1E,MACX,kBAAC,GAAD,CACIinB,OAAQF,KAAKriB,MAAMuiB,OACnBM,WAAYR,KAAKriB,MAAM6iB,WACvBL,OAAQH,KAAKriB,MAAMwiB,OACnBE,aAAcL,KAAKriB,MAAM0iB,aACzBnlB,KAAM8kB,KAAKriB,MAAMzC,KACjB7F,MAAO2qB,KAAKriB,MAAMtI,MAClBC,OAAQ0qB,KAAKriB,MAAMrI,OACnBwrB,KAAMd,KAAKriB,MAAMmjB,OAID,SAApBd,KAAKriB,MAAM1E,MACX,kBAAC,GAAD,CACIinB,OAAQF,KAAKriB,MAAMuiB,OACnBM,WAAYR,KAAKriB,MAAM6iB,WACvBtlB,KAAM8kB,KAAKriB,MAAMzC,KACjB4lB,KAAMd,KAAKriB,MAAMmjB,OAID,YAApBd,KAAKriB,MAAM1E,MACX,kBAAC,GAAD,CACI5D,MAAO2qB,KAAKriB,MAAMtI,MAClBC,OAAQ0qB,KAAKriB,MAAMrI,OACnBvB,MAAOisB,KAAKriB,MAAM5J,MAClBouB,KAAMnC,KAAKriB,MAAMwkB,KACjBjnB,KAAM8kB,KAAKriB,MAAMzC,KACjB+kB,IAAKD,KAAKriB,MAAMsiB,KAAOD,KAAKriB,MAAMmjB,OAIlB,YAApBd,KAAKriB,MAAM1E,MACX+mB,KAAKriB,MAAMwpB,SACX,kBAAC,GAAD,CACIzC,QAAS1E,KAAKriB,MAAMwpB,QAAQzC,QAC5BzkB,MAAO+f,KAAKriB,MAAMwpB,QAAQlnB,MAC1BukB,KAAMxE,KAAKriB,MAAMwpB,QAAQ3C,KACzBC,WAAYzE,KAAKriB,MAAMwpB,QAAQ1C,WAC/BE,cAAe3E,KAAKriB,MAAMwpB,QAAQxC,cAClCE,aAAc7E,KAAKriB,MAAMwpB,QAAQtC,aACjCD,WAAY5E,KAAKriB,MAAMwpB,QAAQvC,WAC/BwC,sBAAuBpH,KAAKriB,MAAMypB,sBAClCrC,wBAAyB/E,KAAKriB,MAAMonB,wBACpCD,oBAAqB9E,KAAKriB,MAAMmnB,sBAGxC,yBACItpB,UAAW4lB,KACP,gBACA,CAAE,sBAAuBkF,GACzB,CAAE,gBAAiBtG,KAAKriB,MAAM0pB,eAElCC,YAAWtH,KAAKriB,MAAM0pB,kBAAevV,EAAYoT,GAE7ClF,KAAKriB,MAAM0pB,cACXrH,KAAKriB,MAAM6mB,OACVW,MAAMnF,KAAKriB,MAAM6mB,QAEdxE,KAAKriB,MAAM8mB,YACXhd,aAAOuY,KAAKriB,MAAM6mB,OAItBxE,KAAKriB,MAAM+W,QACX,0BAAMlZ,UAAU,mBAEc,YAAtBwkB,KAAKriB,MAAM+W,QACX,kBAAC,KAAD,MAIsB,SAAtBsL,KAAKriB,MAAM+W,QACX,kBAAC,KAAD,MAIsB,aAAtBsL,KAAKriB,MAAM+W,QACX,kBAAC,KAAD,MAIsB,SAAtBsL,KAAKriB,MAAM+W,QACX,kBAAC,KAAD,CAAW9d,MAAM,eAQjCopB,KAAKriB,MAAM+oB,QACc,UAAxB1G,KAAKriB,MAAMlJ,SACR,yBAAK+G,UAAW4lB,KACZ,uBACA,CAAE,gBAAiBpB,KAAKriB,MAAMooB,QAC/BwB,MAAM,6BAA6BC,QAAQ,aAC1C,0BAAMC,EAAE,kBAGZ,6BACI,yBAAKjsB,UAAW4lB,KACR,sBACA,CAAE,gBAAiBpB,KAAKriB,MAAMooB,QAC/BwB,MAAM,6BAA6BC,QAAQ,aAC9C,8BACI,4BAAQ/uB,GAAG,UAAUoZ,EAAE,IAAI6V,EAAE,KACzB,8BAAUC,OAAO,SAAS5lB,GAAG,cAAc6lB,GAAG,KAAKC,GAAG,OACtD,oCAAgBF,OAAO,UAAU5lB,GAAG,SAAS+lB,aAAa,MAC1D,6BAAS/lB,GAAG,gBAAgBgmB,IAAI,UAAUC,KAAK,aAGvD,0BAAMP,EAAE,eAAe9iB,OAAO,2BAnP1E,GAAgCoc,aA+PhC8E,GAAW7E,aAAe,CACtBvsB,SAAU,OACVwE,KAAM,OACN6nB,KAAM,GACN7gB,MAAO,KACP6iB,WAAY,KACZkE,aAAc,KACdH,eAAgB,KAChBE,aAAc,KACdG,oBAAqB,KACrB1C,KAAM,IAAIzhB,KACV7H,KAAM,GACN2F,QAAS,KACTqf,OAAQ,KACRM,WAAY,KACZL,OAAQ,KACRE,aAAc,KACduG,WAAW,EACXK,OAAO,EACPvS,OAAQ,KACR+P,WAAY,KACZiC,OAAO,EACPpB,OAAQ,KACRmB,aAAc,KACdY,cAAc,EACdV,cAAe,KACfZ,OAAO,EACPK,iBAAkB,MAIPP,UC7SFoC,I,OAAb,2KAGQ,IAAMC,EAAkBlI,KAAKriB,MAAMuqB,gBAEnC,OACI,yBACI1sB,UAAW4lB,KAAW,sBAAuBpB,KAAKriB,MAAMnC,WACxDqF,QAASmf,KAAKriB,MAAMkD,QACpB8lB,cAAe3G,KAAKriB,MAAMgpB,eAC1B,yBAAKnrB,UAAU,aACX,yBAAKA,UAAW4lB,KACR,mBACA,CACI,4BAAiD,aAApB8G,KAGrC,kBAAC,GAAD,CACIrrB,IAAKmjB,KAAKriB,MAAM2nB,OAChB3lB,IAAKqgB,KAAKriB,MAAMgC,IAChBnE,UAA+B,aAApB0sB,EAAiC,mCAAqC,GACjF7iB,KAAK,QACL6e,WAAYlE,KAAKriB,MAAMumB,WACvBG,YACIrE,KAAKriB,MAAMwqB,aACX,0BACI3sB,UAAU,mBACVG,MAA2B,aAApBusB,EAAiC,CACpCtyB,UAAU,mBAAD,OAAqBoqB,KAAKriB,MAAMwqB,YAAhC,8BACT,CACApyB,gBAAiBiqB,KAAKriB,MAAMwqB,cAE/BnI,KAAKriB,MAAMyqB,YAGpBhI,QAASJ,KAAKriB,MAAMioB,cACpB5B,iBAAkBhE,KAAKriB,MAAMqmB,iBAC7B/qB,KAAMmoB,KAAW,SAAU,CAAC,SAAYpB,KAAKriB,MAAMgoB,oBAG3D,yBAAKnqB,UAAU,kBACX,yBAAKA,UAAU,uBACX,yBAAKA,UAAU,6BACVwkB,KAAKriB,MAAMsC,OAEhB,yBAAKzE,UAAU,4BAEPwkB,KAAKriB,MAAM6mB,OACVW,MAAMnF,KAAKriB,MAAM6mB,QAEdxE,KAAKriB,MAAM8mB,YACXhd,aAAOuY,KAAKriB,MAAM6mB,SAMlC,yBAAKhpB,UAAU,0BACX,yBAAKA,UAAU,gCACVwkB,KAAKriB,MAAM0qB,UAEhB,yBAAK7sB,UAAU,iCAEPwkB,KAAKriB,MAAM2qB,OAAS,GACpB,8BAAOtI,KAAKriB,MAAM2qB,iBAhEtD,GAA8BvH,cA2E9BkH,GAASjH,aAAe,CACpBvoB,GAAI,GACJoI,QAAS,KACTykB,OAAQ,GACRK,gBAAgB,EAChBhmB,IAAK,GACLM,MAAO,GACPooB,SAAU,GACV7D,KAAM,IAAIzhB,KACVulB,OAAQ,EACRH,YAAa,KACbD,gBAAiB,QACjBE,WAAY,KACZ3D,WAAY,KACZT,sBAAkBlS,EAClB8T,cAAe,cAGJqC,UCnGT7G,I,OAAahC,EAAQ,KAEdmJ,GAAb,0KAEYjsB,EAAMD,EAAG2I,GACTgb,KAAKriB,MAAMkD,mBAAmBqgB,UAC9BlB,KAAKriB,MAAMkD,QAAQvE,EAAMD,EAAG2I,KAJxC,oCAOkB1I,EAAMD,EAAG2I,GACnBA,EAAEiE,iBACE+W,KAAKriB,MAAMgpB,yBAAyBzF,UACpClB,KAAKriB,MAAMgpB,cAAcrqB,EAAMD,EAAG2I,KAV9C,oCAakB1I,EAAMD,EAAG2I,GACfgb,KAAKriB,MAAMioB,yBAAyB1E,UACpClB,KAAKriB,MAAMioB,cAActpB,EAAMD,EAAG2I,KAf9C,+BAkBc,IAAD,OACL,OACI,yBACIwhB,IAAKxG,KAAKriB,MAAM6qB,OAChBhtB,UAAW4lB,GAAW,sBAAuBpB,KAAKriB,MAAMnC,YAEpDwkB,KAAKriB,MAAMinB,WAAWzoB,KAAI,SAAC0V,EAAGxV,GAAJ,OACtB,kBAAC,GAAD,eACI5D,GAAIoZ,EAAEpZ,IAAM4D,EACZK,IAAKL,EACL2nB,iBAAkB,EAAKrmB,MAAMqmB,kBACzBnS,EAJR,CAKI+T,cAAe,SAAC5gB,GAAD,OAAO,EAAK4gB,cAAc/T,EAAGxV,EAAG2I,IAC/C2hB,cAAe,SAAC3hB,GAAD,OAAO,EAAK2hB,cAAc9U,EAAGxV,EAAG2I,IAC/CnE,QAAS,SAACmE,GAAD,OAAO,EAAKnE,QAAQgR,EAAGxV,EAAG2I,eAhC/D,GAA8B+b,aAwC9BwH,GAASvH,aAAe,CACpB4D,WAAY,GACZ/jB,QAAS,KACTmjB,sBAAkBlS,GAGPyW,U,8BC9CTnH,GAAahC,EAAQ,IAEdqJ,GAAb,oDAEI,WAAY9qB,GAAQ,IAAD,+BACf,cAAMA,IACDjE,MAAQ,CACTgvB,aAAc,EACdC,YAAY,GAGhB,EAAKC,QAAU,EAAKA,QAAQzH,KAAb,iBACf,EAAK0H,SAAW,EAAKA,SAAS1H,KAAd,iBARD,EAFvB,2DAcQ,IAAInc,EAAIgb,KAAK8I,SACR9jB,IAG6B,SAA9Bgb,KAAKriB,MAAMorB,gBAA6B/I,KAAKtmB,MAAMgvB,aAAe1I,KAAKriB,MAAMorB,eAE7E/jB,EAAEgkB,UAAYhkB,EAAEikB,cAEY,IAAxBjJ,KAAKriB,MAAMurB,WACXlkB,EAAEgkB,UAAYhkB,EAAEikB,aAAejkB,EAAEmkB,aAAenJ,KAAKtmB,MAAMgvB,iBAvB3E,gDA4B8B5C,GACjB9F,KAAK8I,UAENhD,EAAUlB,WAAWnkB,SAAWuf,KAAKriB,MAAMinB,WAAWnkB,QACtDuf,KAAKsD,SAAS,CACVoF,aAAc1I,KAAKoJ,UAAUpJ,KAAK8I,WACnC9I,KAAKqJ,YAAYlI,KAAKnB,SAlCrC,gCAsCchb,GACN,OAAOA,EAAEikB,aAAejkB,EAAEgkB,UAAYhkB,EAAEmkB,eAvChD,6BA0CW7sB,EAAMD,EAAG2I,GACRgb,KAAKriB,MAAMuiB,kBAAkBgB,UAC7BlB,KAAKriB,MAAMuiB,OAAO5jB,EAAMD,EAAG2I,KA5CvC,iCA+Ce1I,EAAMD,EAAG2I,GACZgb,KAAKriB,MAAM6iB,sBAAsBU,UACjClB,KAAKriB,MAAM6iB,WAAWlkB,EAAMD,EAAG2I,KAjD3C,mCAoDiB1I,EAAMD,EAAG2I,GAChBgb,KAAKriB,MAAM0iB,wBAAwBa,UACrClB,KAAKriB,MAAM0iB,aAAa/jB,EAAMD,EAAG2I,KAtDzC,8BAyDY1I,EAAMD,EAAG2I,GACTgb,KAAKriB,MAAMkD,mBAAmBqgB,UAC9BlB,KAAKriB,MAAMkD,QAAQvE,EAAMD,EAAG2I,KA3DxC,mCA8DiB1I,EAAMD,EAAG2I,GACdgb,KAAKriB,MAAMqpB,wBAAwB9F,UACnClB,KAAKriB,MAAMqpB,aAAa1qB,EAAMD,EAAG2I,KAhE7C,qCAmEmB1I,EAAMD,EAAG2I,GAChBgb,KAAKriB,MAAMkpB,0BAA0B3F,UACrClB,KAAKriB,MAAMkpB,eAAevqB,EAAMD,EAAG2I,KArE/C,mCAwEiB1I,EAAMD,EAAG2I,GACdgb,KAAKriB,MAAMopB,wBAAwB7F,UACnClB,KAAKriB,MAAMopB,aAAazqB,EAAMD,EAAG2I,KA1E7C,0CA6EwB1I,EAAMD,EAAG2I,GACrBgb,KAAKriB,MAAMupB,+BAA+BhG,UAC1ClB,KAAKriB,MAAMupB,oBAAoB5qB,EAAMD,EAAG2I,KA/EpD,oCAkFkB1I,EAAMD,EAAG2I,GACfgb,KAAKriB,MAAMgpB,yBAAyBzF,UACpClB,KAAKriB,MAAMgpB,cAAcrqB,EAAMD,EAAG2I,KApF9C,uCAuFqB1I,EAAMD,EAAG2I,GAClBgb,KAAKriB,MAAMyoB,4BAA4BlF,UACvClB,KAAKriB,MAAMyoB,iBAAiB9pB,EAAMD,EAAG2I,KAzFjD,4CA4F0B1I,EAAMD,EAAG2I,GACvBgb,KAAKriB,MAAMypB,iCAAiClG,UAC5ClB,KAAKriB,MAAMypB,sBAAsB9qB,EAAMD,EAAG2I,KA9FtD,8BAiGYwhB,GACJxG,KAAK8I,SAAWtC,EACZxG,KAAKriB,MAAM6qB,kBAAkBtH,UAC7BlB,KAAKriB,MAAM6qB,OAAOhC,KApG9B,+BAuGaxhB,GACL,IAAIwK,EAASwQ,KAAKoJ,UAAUpkB,EAAEC,QAC9B+a,KAAKtmB,MAAMgvB,aAAelZ,EACQ,SAA9BwQ,KAAKriB,MAAMorB,gBAA6BvZ,EAASwQ,KAAKriB,MAAMorB,gBAC9B,IAA1B/I,KAAKtmB,MAAMivB,aACX3I,KAAKtmB,MAAMivB,YAAa,EACxB3I,KAAKsD,SAAS,CACVqF,YAAY,EACZD,aAAclZ,MAIQ,IAA1BwQ,KAAKtmB,MAAMivB,aACX3I,KAAKtmB,MAAMivB,YAAa,EACxB3I,KAAKsD,SAAS,CACVqF,YAAY,EACZD,aAAclZ,KAKtBwQ,KAAKriB,MAAMkrB,oBAAoB3H,UAC/BlB,KAAKriB,MAAMkrB,SAAS7jB,KA7HhC,+BAiIaA,GACDgb,KAAK8I,WAET9I,KAAK8I,SAASE,UAAYhJ,KAAK8I,SAASG,aACpCjJ,KAAKriB,MAAM2rB,6BAA6BpI,UACxClB,KAAKriB,MAAM2rB,kBAAkBtkB,MAtIzC,+BA0Ic,IAAD,OACL,OACI,yBACIxJ,UAAW4lB,GAAW,CAAC,sBAAuBpB,KAAKriB,MAAMnC,aACzD,yBACIgrB,IAAKxG,KAAK4I,QACVC,SAAU7I,KAAK6I,SACfrtB,UAAU,aAENwkB,KAAKriB,MAAMinB,WAAWzoB,KAAI,SAAC0V,EAAGxV,GAAJ,OACtB,kBAAC,GAAD,eACIK,IAAKL,GACDwV,EAFR,CAGIqO,OAAQ,EAAKviB,MAAMuiB,QAAW,SAAClb,GAAD,OAAO,EAAKkb,OAAOrO,EAAGxV,EAAG2I,IACvDqb,aAAc,EAAK1iB,MAAM0iB,cAAiB,SAACrb,GAAD,OAAO,EAAKqb,aAAaxO,EAAGxV,EAAG2I,IACzEwb,WAAY,EAAK7iB,MAAM6iB,YAAe,SAACxb,GAAD,OAAO,EAAKwb,WAAW3O,EAAGxV,EAAG2I,IACnEgiB,aAAc,EAAKrpB,MAAMqpB,cAAiB,SAAChiB,GAAD,OAAO,EAAKgiB,aAAanV,EAAGxV,EAAG2I,IACzE6hB,eAAgB,EAAKlpB,MAAMkpB,gBAAmB,SAAC7hB,GAAD,OAAO,EAAK6hB,eAAehV,EAAGxV,EAAG2I,IAC/E+hB,aAAc,EAAKppB,MAAMopB,cAAiB,SAAC/hB,GAAD,OAAO,EAAK+hB,aAAalV,EAAGxV,EAAG2I,IACzEkiB,oBAAqB,EAAKvpB,MAAMupB,qBAAwB,SAACliB,GAAD,OAAO,EAAKkiB,oBAAoBrV,EAAGxV,EAAG2I,IAC9FnE,QAAS,EAAKlD,MAAMkD,SAAY,SAACmE,GAAD,OAAO,EAAKnE,QAAQgR,EAAGxV,EAAG2I,IAC1D2hB,cAAe,EAAKhpB,MAAMgpB,eAAkB,SAAC3hB,GAAD,OAAO,EAAK2hB,cAAc9U,EAAGxV,EAAG2I,IAC5EohB,iBAAkB,EAAKzoB,MAAMyoB,kBAAqB,SAACphB,GAAD,OAAO,EAAKohB,iBAAiBvU,EAAGxV,EAAG2I,IACrFoiB,sBAAuB,EAAKzpB,MAAMypB,uBAA0B,SAACpiB,GAAD,OAAO,EAAKoiB,sBAAsBvV,EAAGxV,EAAG2I,IACpG8f,oBAAqB,EAAKnnB,MAAMmnB,oBAChCC,wBAAyB,EAAKpnB,MAAMonB,gCAMtB,IAA1B/E,KAAKriB,MAAMgrB,YACX3I,KAAKtmB,MAAMivB,YACmB,SAA9B3I,KAAKriB,MAAMorB,gBACX,yBACIvtB,UAAU,wBACVqF,QAASmf,KAAKuJ,SAASpI,KAAKnB,OAC5B,kBAAC,KAAD,MAEIA,KAAKriB,MAAM6rB,iBACX,0BACIhuB,UAAU,gCACTwkB,KAAKriB,MAAM6rB,uBApL5C,GAAiCzI,aA8LjC0H,GAAYzH,aAAe,CACvBngB,QAAS,KACTmmB,aAAc,KACdH,eAAgB,KAChBE,aAAc,KACdG,oBAAqB,KACrBE,sBAAuB,KACvBkC,kBAAmB,KACnBpJ,OAAQ,KACRG,aAAc,KACdG,WAAY,KACZoE,WAAY,GACZsE,UAAU,EACVH,eAAgB,IAChBJ,YAAY,EACZa,gBAAiB,MAGNf,UCtNTrH,I,OAAahC,EAAQ,KAEdqK,GAAb,2KACazkB,GACL,GAAIgb,KAAKriB,MAAM+rB,YAAc1kB,EAAEC,OAAOpL,OAAS,IAAI4G,OAASuf,KAAKriB,MAAM+rB,UAKnE,OAJI1J,KAAKriB,MAAMgsB,6BAA6BzI,UACxClB,KAAKriB,MAAMgsB,yBAEf3J,KAAK4J,MAAM/vB,OAASmL,EAAEC,OAAOpL,OAAS,IAAIgwB,UAAU,EAAG7J,KAAKriB,MAAM+rB,YAa9D,IAAIp0B,GATR0qB,KAAKriB,MAAMJ,oBAAoB2jB,UAC/BlB,KAAKriB,MAAMJ,SAASyH,IAEK,IAAzBgb,KAAKriB,MAAMuH,cACmB,IAA1B8a,KAAKriB,MAAMmsB,aACP9kB,EAAEC,OAAOtJ,MAAMrG,SAAW0qB,KAAKriB,MAAMpJ,UAAY,OACjDyQ,EAAEC,OAAOtJ,MAAMrG,OAAS0qB,KAAKriB,MAAMpJ,UAAY,MAK/Ce,EADA0P,EAAEC,OAAOgkB,cAAgBjJ,KAAKriB,MAAMosB,UAC3B/kB,EAAEC,OAAOgkB,aAAe,KAExBjJ,KAAKriB,MAAMosB,UAAY,KAEhC/kB,EAAEC,OAAOtJ,MAAMrG,SAAWA,IAC1B0P,EAAEC,OAAOtJ,MAAMrG,OAASA,OA1B5C,8BAiCQ,IAAI2I,EAAQ,CACR+rB,YAAY,EACZ/kB,OAAQ+a,KAAK4J,OAGb5J,KAAK4J,MAAM/vB,QACXmmB,KAAK4J,MAAM/vB,MAAQ,IAGvBmmB,KAAKziB,SAASU,KA1CtB,2CA8CqC,IAAzB+hB,KAAKriB,MAAMssB,WACXjK,KAAK4J,MAAM7D,UA/CvB,+BAkDc,IAAD,OACL,OACI,yBAAKvqB,UAAW4lB,GAAW,sBAAuBpB,KAAKriB,MAAMnC,YAErDwkB,KAAKriB,MAAMusB,aACX,yBAAK1uB,UAAU,qBACVwkB,KAAKriB,MAAMusB,cAIS,IAAzBlK,KAAKriB,MAAMuH,UACX,2BACIshB,IAAK,SAACA,GACE,EAAK7oB,MAAMwsB,oBAAoBjJ,UAC/B,EAAKvjB,MAAMwsB,SAAS3D,GACxB,EAAKoD,MAAQpD,GAEjBvtB,KAAM+mB,KAAKriB,MAAM1E,KACjBuC,UAAW4lB,GAAW,aACtBgJ,YAAapK,KAAKriB,MAAMysB,YACxBC,aAAcrK,KAAKriB,MAAM0sB,aACzB1uB,MAAOqkB,KAAKriB,MAAM2sB,WAClB/sB,SAAUyiB,KAAKziB,SAAS4jB,KAAKnB,MAC7BuK,OAAQvK,KAAKriB,MAAM4sB,OACnBC,MAAOxK,KAAKriB,MAAM6sB,MAClBC,QAASzK,KAAKriB,MAAM8sB,QACpBC,OAAQ1K,KAAKriB,MAAM+sB,OACnBC,QAAS3K,KAAKriB,MAAMgtB,QACpBC,SAAU5K,KAAKriB,MAAMitB,SACrB5hB,SAAUgX,KAAKriB,MAAMqL,SACrB6hB,QAAS7K,KAAKriB,MAAMktB,QACpBxa,UAAW2P,KAAKriB,MAAM0S,UACtBya,WAAY9K,KAAKriB,MAAMmtB,WACvBC,QAAS/K,KAAKriB,MAAMotB,UAExB,8BACIvE,IAAK,SAACA,GACE,EAAK7oB,MAAMwsB,oBAAoBjJ,UAC/B,EAAKvjB,MAAMwsB,SAAS3D,GACxB,EAAKoD,MAAQpD,GAEjBvtB,KAAM+mB,KAAKriB,MAAM1E,KACjBuC,UAAW4lB,GAAW,YAAa,sBACnCgJ,YAAapK,KAAKriB,MAAMysB,YACxBC,aAAcrK,KAAKriB,MAAM0sB,aACzB1uB,MAAOqkB,KAAKriB,MAAM2sB,WAClB/sB,SAAUyiB,KAAKziB,SAAS4jB,KAAKnB,MAC7BuK,OAAQvK,KAAKriB,MAAM4sB,OACnBC,MAAOxK,KAAKriB,MAAM6sB,MAClBC,QAASzK,KAAKriB,MAAM8sB,QACpBC,OAAQ1K,KAAKriB,MAAM+sB,OACnBC,QAAS3K,KAAKriB,MAAMgtB,QACpBC,SAAU5K,KAAKriB,MAAMitB,SACrB5hB,SAAUgX,KAAKriB,MAAMqL,SACrB6hB,QAAS7K,KAAKriB,MAAMktB,QACpBxa,UAAW2P,KAAKriB,MAAM0S,UACtBya,WAAY9K,KAAKriB,MAAMmtB,WACvBC,QAAS/K,KAAKriB,MAAMotB,UAGxB/K,KAAKriB,MAAMqtB,cACX,yBAAKxvB,UAAU,qBACVwkB,KAAKriB,MAAMqtB,mBAhHpC,GAA2BjK,aAwH3B0I,GAAMzI,aAAe,CACjB/nB,KAAM,OACNmxB,YAAa,GACbC,aAAc,GACd9sB,SAAU,KACVytB,aAAc,KACdd,YAAa,KACbhlB,WAAW,EACX3Q,UAAW,GACXw1B,UAAW,IACXD,YAAY,EACZQ,WAAY,KACZH,SAAU,KACVT,UAAW,KACXC,kBAAmB,KACnBM,WAAW,GAGAR,UC5ITrI,I,OAAahC,EAAQ,KAEd6L,GAAb,2KAEQ,OACI,4BACIzE,IAAKxG,KAAKriB,MAAMutB,UAChBjrB,MAAO+f,KAAKriB,MAAMsC,MAClBzE,UAAW4lB,GAAW,aAAcpB,KAAKriB,MAAM1E,KAAM+mB,KAAKriB,MAAMnC,WAChEG,MAAO,CACH5F,gBAAiBiqB,KAAKriB,MAAM5H,gBAC5Ba,MAAOopB,KAAKriB,MAAM/G,MAClB0e,YAAa0K,KAAKriB,MAAM5H,iBAE5BqP,SAAU4a,KAAKriB,MAAMyH,SACrBvE,QAASmf,KAAKriB,MAAMkD,SAEhBmf,KAAKriB,MAAMwK,KACP,0BAAM3M,UAAU,+BACgB,UAA1BwkB,KAAKriB,MAAMwK,KAAKgjB,QAAsBnL,KAAKriB,MAAMwK,KAAKgjB,QAAU,8BAAOnL,KAAKriB,MAAMmjB,MAEpF,0BAAMnlB,MAAO,CAAEwvB,MAAOnL,KAAKriB,MAAMwK,KAAKgjB,MAAOjuB,SAAU8iB,KAAKriB,MAAMwK,KAAK9C,MAAQ,IAAM7J,UAAU,mBAAmBwkB,KAAKriB,MAAMwK,KAAKtM,WAEvG,SAA1BmkB,KAAKriB,MAAMwK,KAAKgjB,OAAoB,8BAAOnL,KAAKriB,MAAMmjB,OAEzD,8BAAOd,KAAKriB,MAAMmjB,WAvB5C,GAA4BC,aA8B5BkK,GAAOjK,aAAe,CAClBF,KAAM,GACN1b,UAAU,EACVnM,KAAM,KACNkP,KAAM,KACNpS,gBAAiB,UACjBa,MAAO,QACP4E,UAAW,KACX0vB,UAAW,KACXjrB,MAAO,MAGIgrB,UC5CT7J,I,OAAahC,EAAQ,KAEdgM,GAAb,2KAEQ,OACI,yBAAK5vB,UAAW4lB,GAAW,aAAcpB,KAAKriB,MAAM1E,KAAM+mB,KAAKriB,MAAMnC,YACjE,yBAAKA,UAAU,yCACVwkB,KAAKriB,MAAMxH,MAEhB,yBAAKqF,UAAU,2CACVwkB,KAAKriB,MAAM4jB,QAEhB,yBAAK/lB,UAAU,0CACVwkB,KAAKriB,MAAM0tB,YAXhC,GAA4BtK,aAkB5BqK,GAAOpK,aAAe,CAClB7qB,KAAM,KACNorB,OAAQ,KACR8J,MAAO,KACPpyB,KAAK,S,OAGMmyB,ICzBThK,GAAahC,EAAQ,IAEdkM,GAAb,oDACI,WAAY3tB,GAAQ,IAAD,+BACf,cAAMA,IAEDjE,MAAQ,CACT6xB,UAAMzZ,GAJK,EADvB,oDASW9M,IACqB,IAApBgb,KAAKtmB,MAAM6xB,MACXvL,KAAKsD,SAAS,CAACiI,MAAM,MAXjC,+BAcc,IAAD,OACL,OACI,yBAAK/vB,UAAW4lB,GAAW,yBAA0BpB,KAAKriB,MAAMnC,WAAYkvB,OAAQ1K,KAAK0K,OAAOvJ,KAAKnB,OAE7F,kBAAC,GAAD,iBACQA,KAAKriB,MAAM6tB,YADnB,CAEI3qB,QAAS,kBAAM,EAAKyiB,SAAS,CAAEiI,MAAO,EAAK7xB,MAAM6xB,WAEzD,yBACI/vB,UAAW4lB,GACP,eACApB,KAAKriB,MAAM8tB,cACX,sBAAwBzL,KAAKriB,MAAM+tB,kBACnC,CAAE,iBAAqC,IAApB1L,KAAKtmB,MAAM6xB,MAC9B,CAAE,iBAAqC,IAApBvL,KAAKtmB,MAAM6xB,QAE9B,4BAEQvL,KAAKriB,MAAMsC,OACX,0BAAMzE,UAAU,sBAAsBwkB,KAAKriB,MAAMsC,OAGjD+f,KAAKriB,MAAMyI,MAAMjK,KAAI,SAAC0V,EAAGxV,GAAJ,OACjB,wBAAIK,IAAKL,EAAGsvB,YAAa,SAAC3mB,GAAD,OAAO,EAAKrH,MAAMitB,SAASvuB,KAE5CwV,aAAa+Z,OACT/Z,EAAE1J,KACE,0BAAM3M,UAAU,+BACO,UAAjBqW,EAAE1J,KAAKgjB,QAAsBtZ,EAAE1J,KAAKgjB,QAAU,2BAAItZ,EAAEiP,MAEtD,0BAAMnlB,MAAO,CAAEwvB,MAAOtZ,EAAE1J,KAAKgjB,MAAOv0B,MAAOib,EAAE1J,KAAKvR,MAAOsG,SAAU2U,EAAE1J,KAAK9C,MAAQ,IAAM7J,UAAW4lB,GAAW,kBAAmBvP,EAAE1J,KAAK3M,YAAaqW,EAAE1J,KAAKtM,WAE1I,SAAjBgW,EAAE1J,KAAKgjB,OAAoB,2BAAItZ,EAAEiP,OAEpC,2BAAIjP,EAAEiP,MAEhB,2BAAIjP,cAlDhD,GAA8BkP,aA8D9BuK,GAAStK,aAAe,CACpByK,cAAe,UACfC,kBAAmB,WACnBtlB,MAAO,GACPwkB,SAAU1J,SACVsK,YAAa,M,OAGFF,IC1ETlK,GAAahC,EAAQ,IAEdyM,GAAb,2KAEQ,OACI,yBAAKrwB,UAAW4lB,GAAW,WAAYpB,KAAKriB,MAAM1E,KAAM+mB,KAAKriB,MAAMnC,YAC/D,yBAAKA,UAAU,iBACVwkB,KAAKriB,MAAMjJ,KAEhB,yBAAK8G,UAAU,uCACVwkB,KAAKriB,MAAM4jB,QAEhB,yBAAK/lB,UAAU,iBACVwkB,KAAKriB,MAAM6R,aAXhC,GAA6BuR,aAkB7B8K,GAAQ7K,aAAe,CACnBtsB,IAAK,KACL6sB,OAAQ,KACR/R,OAAQ,KACRvW,KAAM,QAGK4yB,UCzBTzK,I,OAAahC,EAAQ,KAEd0M,GAAb,2KAEQ,OAAwB,IAApB9L,KAAKriB,MAAM4tB,KAEX,yBAAK/vB,UAAW4lB,GAAW,oBAAqBpB,KAAKriB,MAAM1E,KAAM+mB,KAAKriB,MAAMnC,YACxE,yBAAKA,UAAU,aAEPwkB,KAAKriB,MAAMouB,aACP,yBAAKvwB,UAAU,oBACVwkB,KAAKriB,MAAMouB,gBAGpB,yBAAKvwB,UAAU,oBACX,8BAAOwkB,KAAKriB,MAAMquB,QAEdhM,KAAKriB,MAAMquB,QACXhM,KAAKriB,MAAMsuB,cAAc9vB,KAAI,SAAC0V,EAAGxV,GAAJ,OACzB,kBAAC,GAAD,eACIK,IAAKL,GACDwV,QAKxB,yBAAKrW,UAAU,oBAAoBG,MAAO,CAAC/E,MAAOopB,KAAKriB,MAAM/G,QAErDopB,KAAKriB,MAAMuuB,cACPlM,KAAKriB,MAAMuuB,gBAEflM,KAAKriB,MAAMmjB,MAGnB,yBAAKtlB,UAAU,oBAEPwkB,KAAKriB,MAAMwuB,aACPnM,KAAKriB,MAAMwuB,eAEfnM,KAAKriB,MAAMyuB,cAAcjwB,KAAI,SAAC0V,EAAGxV,GAAJ,OACzB,kBAAC,GAAD,eACIK,IAAKL,GACDwV,UAOzB,SA/Cf,GAA2BkP,aAmD3B+K,GAAM9K,aAAe,CACjBuK,MAAM,EACNS,OAAQ,KACRlL,KAAM,KACNmL,cAAe,GACfG,cAAe,GACfL,aAAc,KACdG,cAAe,KACfC,aAAc,KACdv1B,MAAO,Q,OAGIk1B,I,+DCvDFO,GAAb,2KAEc,IAAD,OACCnE,EAAkBlI,KAAKriB,MAAMuqB,gBAC7BoE,EAAetM,KAAKriB,MAAM4uB,YAE1BrH,EAAWlF,KAAKriB,MAAM6mB,OAASW,MAAMnF,KAAKriB,MAAM6mB,QAClDxE,KAAKriB,MAAM8mB,YACXhd,aAAOuY,KAAKriB,MAAM6mB,OAGhBE,EAAU1E,KAAKriB,MAAM+mB,QAAQmF,UAAU,EAAG7J,KAAKriB,MAAM6uB,eAAiBxM,KAAKriB,MAAM+mB,QAAQjkB,OAASuf,KAAKriB,MAAM6uB,aAAe,MAAQ,IAE1I,OACI,yBACIhxB,UAAW4lB,KAAW,uBAAwBpB,KAAKriB,MAAMnC,WACzDqF,QAASmf,KAAKriB,MAAMkD,QACpB8lB,cAAe3G,KAAKriB,MAAMgpB,eAC1B,yBAAKnrB,UAAU,cACX,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,sBACVkpB,GAEL,yBACIlpB,UAAU,mBACVqF,QAASmf,KAAKriB,MAAM8uB,cACpB,kBAAC,KAAD,QAGR,yBAAKjxB,UAAU,mBACX,yBAAKA,UAAU,4BAEPwkB,KAAKriB,MAAM4nB,QAAQF,MAAM,EAAGiH,GAAcnwB,KAAI,SAAC0V,EAAGxV,GAAJ,OAAUwV,aAAamR,GAASnR,EAC1E,kBAAC,GAAD,CACInV,IAAKL,EACLQ,IAAKgV,EAAEhV,IACP8C,IAAKkS,EAAElS,IACPnE,UAAiC,aAAtBqW,EAAEqW,gBAAiC,oCAAsC,GACpF7iB,KAAM,QACN6e,WAAYrS,EAAEqS,WACdG,YACIxS,EAAEsW,aACF,0BACI3sB,UAAU,oBACVG,MAA2B,aAApBusB,EAAiC,CACpCtyB,UAAU,mBAAD,OAAqBic,EAAEsW,YAAvB,8BACT,CACApyB,gBAAiB8b,EAAEsW,cAEtBtW,EAAEuW,YAGXhI,QAAS,EAAKziB,MAAMioB,cACpB5B,iBAAkB,EAAKrmB,MAAMqmB,iBAC7B/qB,KAAMmoB,KAAW,SAAU,CAAC,SAAY,EAAKzjB,MAAMgoB,sBAK3D3F,KAAKriB,MAAM4nB,QAAQ9kB,OAAS6rB,GAC5B,yBAAK9wB,UAAU,uDACX,8BACK,KAAOwkB,KAAKriB,MAAM4nB,QAAQ9kB,OAAS6rB,MAKpD,yBAAK9wB,UAAU,8BAEPwkB,KAAKriB,MAAM+uB,UACX,yBACIlxB,UAAU,sBACVqF,QAASmf,KAAKriB,MAAMgvB,cACpB,kBAAC,KAAD,OAGR,yBACInxB,UAAU,oBACVqF,QAASmf,KAAKriB,MAAMivB,gBACpB,kBAAC,KAAD,SAIZ,yBAAKpxB,UAAU,qBACX,0BAAMA,UAAU,mBACX0pB,UArF7B,GAAiCnE,aA8FjCsL,GAAYrL,aAAe,CACvBvoB,GAAI,GACJisB,QAAS,GACT8H,aAAc,GACd3rB,QAAS,KACT8kB,gBAAgB,EAChBhmB,IAAK,GACLM,MAAO,GACPooB,SAAU,GACV7D,KAAM,IAAIzhB,KACV0hB,WAAY,GACZT,sBAAkBlS,EAClBya,YAAa,EACbhH,QAAS,GACTK,cAAe,aACfgH,eAAgB,aAChBH,aAAc,cAGHJ,UC3HTjL,I,OAAahC,EAAQ,KAEdyN,GAAb,0KAEYvwB,EAAMD,EAAG2I,GACTgb,KAAKriB,MAAMkD,mBAAmBqgB,UAC9BlB,KAAKriB,MAAMkD,QAAQvE,EAAMD,EAAG2I,KAJxC,oCAOkB1I,EAAMD,EAAG2I,GACnBA,EAAEiE,iBACE+W,KAAKriB,MAAMgpB,yBAAyBzF,UACpClB,KAAKriB,MAAMgpB,cAAcrqB,EAAMD,EAAG2I,KAV9C,oCAakB1I,EAAMD,EAAG2I,GACfgb,KAAKriB,MAAMioB,yBAAyB1E,UACpClB,KAAKriB,MAAMioB,cAActpB,EAAMD,EAAG2I,KAf9C,qCAkBmB1I,EAAMD,EAAG2I,GAChBgb,KAAKriB,MAAMivB,0BAA0B1L,UACrClB,KAAKriB,MAAMivB,eAAetwB,EAAMD,EAAG2I,KApB/C,mCAuBiB1I,EAAMD,EAAG2I,GACdgb,KAAKriB,MAAM8uB,wBAAwBvL,UACnClB,KAAKriB,MAAM8uB,aAAanwB,EAAMD,EAAG2I,KAzB7C,mCA4BiB1I,EAAMD,EAAG2I,GACdgb,KAAKriB,MAAMgvB,wBAAwBzL,UACnClB,KAAKriB,MAAMgvB,aAAarwB,EAAMD,EAAG2I,KA9B7C,+BAiCc,IAAD,OACL,OACI,yBACIwhB,IAAKxG,KAAKriB,MAAM6qB,OAChBhtB,UAAW4lB,GAAW,uBAAwBpB,KAAKriB,MAAMnC,YAErDwkB,KAAKriB,MAAMinB,WAAWzoB,KAAI,SAAC0V,EAAGxV,GAAJ,OACtB,kBAAC,GAAD,eACI5D,GAAIoZ,EAAEpZ,IAAM4D,EACZK,IAAKL,EACL2nB,iBAAkB,EAAKrmB,MAAMqmB,kBACzBnS,EAJR,CAKI+T,cAAe,SAAC5gB,GAAD,OAAO,EAAK4gB,cAAc/T,EAAGxV,EAAG2I,IAC/C2hB,cAAe,SAAC3hB,GAAD,OAAO,EAAK2hB,cAAc9U,EAAGxV,EAAG2I,IAC/CnE,QAAS,SAACmE,GAAD,OAAO,EAAKnE,QAAQgR,EAAGxV,EAAG2I,IACnC4nB,eAAgB,SAAC5nB,GAAD,OAAO,EAAK4nB,eAAe/a,EAAGxV,EAAG2I,IACjDynB,aAAc,SAACznB,GAAD,OAAO,EAAKynB,aAAa5a,EAAGxV,EAAG2I,IAC7C2nB,aAAc,SAAC3nB,GAAD,OAAO,EAAK2nB,aAAa9a,EAAGxV,EAAG2I,eAlDzE,GAAiC+b,aA0DjC8L,GAAY7L,aAAe,CACvB4D,WAAY,GACZ/jB,QAAS,KACTmjB,sBAAkBlS,GAGP+a,I,2BC+VA/d,OA9YR,WACH,IAAMxU,EAAUzG,IADE,EAEU+G,qBAAWd,GAA/BJ,EAFU,EAEVA,MAFU,KAEHS,SACiBI,oBAAS,IAHvB,mBAGDI,GAHC,aAIQJ,mBAAS,IAJjB,mBAIXuyB,EAJW,KAIJC,EAJI,OAK0BxyB,mBAAS,IALnC,gCAMcA,mBAAS,KANvB,mBAMXyyB,EANW,KAMDC,EANC,OAO8B1yB,mBAAS,MAPvC,mBAOX2yB,EAPW,KAOOC,EAPP,OAQsB5yB,oBAAS,GAR/B,mBAQX6yB,EARW,KAQGC,EARH,OASQ9yB,oBAAS,GATjB,mBASXwD,EATW,KASJD,EATI,OAUwBvD,oBAAS,GAVjC,mBAUX+yB,EAVW,KAUIC,EAVJ,OAYgBhzB,mBAAS,IAZzB,mBAYXoP,EAZW,KAYA6jB,EAZA,OAaQjzB,oBAAS,GAbjB,mBAaXkzB,EAbW,KAaJC,EAbI,KA4KlB,SAASC,IACL,IAAI9qB,EAAO,UAAUnJ,EAAM/B,IAC3B,GAAsB,OAAnBu1B,EAAwB,CACvB,IAAI5jB,EAAM,UAAM4jB,EAAiB5jB,OAAO3Q,OAA9B,YAAwCu0B,EAAiB5jB,OAAOtR,UACtEuR,EAAQ,UAAM2jB,EAAiB3jB,SAAS5Q,OAAhC,YAA0Cu0B,EAAiB3jB,SAASvR,UAC5E41B,EAAqD,OAAxCV,EAAiB5jB,OAAO1J,cAAqBlG,EAAM5B,sBAAsB4B,EAAMhC,SAASw1B,EAAiB5jB,OAAO1J,cAAc3C,IAC3I4wB,EAAyD,OAA1CX,EAAiB3jB,SAAS3J,cAAqBlG,EAAM5B,sBAAsB4B,EAAMhC,SAASw1B,EAAiB3jB,SAAS3J,cAAc3C,IAGrJgwB,EAAY,GAAD,oBAAKD,GAAL,CAAe,CACtBv4B,SAAUiF,EAAM3B,YAAYU,KAAKy0B,EAAiB5jB,OAAO7Q,GAAG,QAAQ,OACpEmuB,WAAW,EACXE,aAAa,EACbG,MAAO,KACPE,QAAS,KACTluB,KAAM,OACNlF,MAAO,QACPouB,KAAM,OACNliB,MAAOvG,EAAM3B,YAAYU,KAAKy0B,EAAiB5jB,OAAO7Q,GAAG6Q,EAAOC,EAChEuZ,WAAY,UACZhC,KAAMnX,EACNwW,OAAQ,WACJ7kB,QAAQC,IAAI,iBAEhBmZ,OAAQ,KACR8P,KAAM,IAAIzhB,KACVmkB,oBAAqB,WACjB5rB,QAAQC,IAAI,wBAEhB+pB,OAAQ5rB,EAAM3B,YAAYU,KAAKy0B,EAAiB5jB,OAAO7Q,GAAGm1B,EAAWC,MAEzEvyB,QAAQC,IAAI,WAAYyxB,GAExBlyB,IAAMyI,KAAK7J,EAAMhC,SAAS,iBAAiB,CACvCmS,KAAMqjB,EAAiBz0B,GACvBmR,YAAalQ,EAAM3B,YAAYU,KAAKy0B,EAAiB5jB,OAAO7Q,GAC5DkR,UAAWA,GACb,CACErG,QAAS,CAAC,cAAiBT,KAE9B7H,MAAK,SAAAC,GACFK,QAAQC,IAAIN,EAASC,SAExBC,OAAM,SAAAC,GACHC,MAAM,gDACNC,QAAQC,IAAIH,EAAMH,aAKtB,IAAI6yB,EAAc,GAElB,GADAxyB,QAAQC,IAAI2xB,GACTxzB,EAAM3B,YAAYU,KAAKy0B,EAAiB5jB,OAAO7Q,GAAG,CACjDq1B,EAAW,iBAAuBZ,EAAiB7jB,iBAAiB,EACpE,IAAI0kB,EAAOb,EACXa,EAAK1kB,mBACL8jB,EAAoBY,OACnB,CACDD,EAAW,eAAoBZ,EAAiB9jB,eAAe,EAC/D,IAAI2kB,EAAOb,EACXa,EAAK1kB,mBACL8jB,EAAoBY,GAExBjzB,IAAMuI,IAAI3J,EAAMhC,SAAS,cAAcw1B,EAAiBz0B,GAAGq1B,EAAY,CACnExqB,QAAS,CAAC,cAAiBT,KAC5B7H,MAAK,SAAAC,GACJK,QAAQC,IAAIN,EAASC,UAwDjC,OAvRAL,qBAAU,WACN,IAAIgI,EAAO,UAAUnJ,EAAM/B,IAC3BgD,GAAY,GACG,KAAZjB,EAAM/B,KACLmD,IAAMC,IAAIrB,EAAMhC,SAAS,cAAc,CACnC4L,QAAS,CAAC,cAAiBT,KAE9B7H,MAAK,SAAAC,GAEF,IAAIyS,EAASzS,EAASC,KAAKyJ,QAAO,SAAAkF,GAAI,OAAKA,EAAKN,SAAS9Q,KAAOiB,EAAM3B,YAAYU,IAAMoR,EAAKP,OAAO7Q,KAAOiB,EAAM3B,YAAYU,MAE7Hs0B,EAASrf,EAAOvR,KAAI,SAAC0N,GACjB,IAAIP,EAAM,UAAMO,EAAKP,OAAO3Q,OAAlB,YAA4BkR,EAAKP,OAAOtR,UAC9CuR,EAAQ,UAAMM,EAAKN,SAAS5Q,OAApB,YAA8BkR,EAAKN,SAASvR,UACpD41B,EAAyC,OAA5B/jB,EAAKP,OAAO1J,cAAqBlG,EAAM5B,sBAAsB4B,EAAMhC,SAASmS,EAAKP,OAAO1J,cAAc3C,IACnH4wB,EAA6C,OAA9BhkB,EAAKN,SAAS3J,cAAqBlG,EAAM5B,sBAAsB4B,EAAMhC,SAASmS,EAAKN,SAAS3J,cAAc3C,IAGzH+wB,EAAOnkB,EAAKmjB,SAAS7wB,KAAI,SAAC0B,GAAD,MAAY,CACrCpJ,SAAUoJ,EAAQ+L,YAAY,QAAQ,OACtCgd,WAAW,EACXE,aAAa,EACbG,MAAO,KACPE,QAAS,KACTluB,KAAM,OACNlF,MAAO,QACPouB,KAAM,OACNliB,MAAOpC,EAAQ+L,YAAYN,EAAOC,EAClCuZ,WAAY,UACZhC,KAAMjjB,EAAQ8L,UACdwW,OAAQ,WACJ7kB,QAAQC,IAAI,iBAEhBmZ,OAAQ,KACR8P,KAAM,IAAIzhB,KAAKlF,EAAQ1F,YACvB+uB,oBAAqB,WACjB5rB,QAAQC,IAAI,wBAEhB+pB,OAAQznB,EAAQ+L,YAAYgkB,EAAWC,MAGvCI,EAAgB,KAChBC,EAAgB,KAOpB,OANqB,OAAjBrkB,EAAKzH,UACL6rB,EAAwC,OAAxBpkB,EAAKvK,UAAUxC,OAAcpD,EAAM5B,sBAAsB4B,EAAMhC,SAASmS,EAAKvK,UAAUxC,OAAOG,IAE9GixB,EAAiD,IAAjCrkB,EAAKzH,UAAUoD,SAAS/E,OAAW/G,EAAM5B,sBAAsB4B,EAAMhC,SAASmS,EAAKzH,UAAUoD,SAAS,GAAGvI,IAE7HtC,GAAY,GACL,CACHkP,KAAK,CACDpR,GAAIoR,EAAKpR,GACT6sB,OAAyB,OAAjBzb,EAAKzH,UAAiB6rB,EAAcC,EAC5CvI,gBAAgB,EAChBwC,YAAa,aACbD,gBAAiB,WACjBvoB,IAAK,mBACLM,MAAwB,OAAjB4J,EAAKzH,UAAiByH,EAAKvK,UAAU3G,OAAOkR,EAAKzH,UAAUvD,OAClE2lB,KAAM,IAAIzhB,KAAK8G,EAAKmjB,SAASnjB,EAAKmjB,SAASvsB,OAAO,GAAGtI,YACrDkwB,SAAUxe,EAAKmjB,SAASnjB,EAAKmjB,SAASvsB,OAAO,GAAGkJ,UAChD2e,OAAQ5uB,EAAM3B,YAAYU,KAAKoR,EAAKP,OAAO7Q,GAAGoR,EAAKT,eAAeS,EAAKR,iBACvE2jB,SAAUgB,EACV1kB,OAAQO,EAAKP,OACbC,SAAUM,EAAKN,SACfH,eAAgBS,EAAKT,eACrBC,iBAAkBQ,EAAKR,iBACvB/J,UAAWuK,EAAKvK,UAChB8C,UAAWyH,EAAKzH,UAChBsH,SAAUG,EAAKH,kBAK9BvO,OAAM,SAAAC,GACHC,MAAM,6CACNC,QAAQC,IAAIH,EAAMH,eAG5B,CAACvB,EAAM/B,MAETkD,qBAAU,WACY,IAAfiyB,EAAMrsB,SAEL0sB,EAAoBL,EAAM,GAAGjjB,MAC7BojB,EAAYH,EAAM,GAAGjjB,KAAKmjB,aAEhC,CAACF,IAEHjyB,qBAAU,WACiB,OAAnBqyB,GAA2BA,EAAiBxjB,UAC5C6jB,GAAiB,KACtB,CAACL,IAyIJryB,qBAAU,WACa,IAAfiyB,EAAMrsB,QACNnF,QAAQC,IAAIuxB,EAAMqB,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEvkB,KAAKmjB,SAASoB,EAAEvkB,KAAKmjB,SAASvsB,OAAO,GAAG+jB,KAAK8J,UAAYD,EAAExkB,KAAKmjB,SAASqB,EAAExkB,KAAKmjB,SAASvsB,OAAO,GAAG+jB,KAAK8J,gBAEhJ,CAACxB,IAgDA,yBAAKtxB,UAAU,aACX,qCAAKA,UAAU,aAAf,YAAsCiyB,EAAMnzB,EAAQtD,YAAYsD,EAAQrD,UACpE,kBAAC,GAAD,CACIvC,IACI,8BAIJ6sB,OACI,kBAAC,GAAD,CAAU/lB,UAAU,YAAYqF,QAAS,SAACmE,IApM9D,SAA4B6E,GACxBojB,EAAYpjB,EAAKmjB,UACjBG,EAAoBtjB,GACpB6jB,GAAS,GACT,IAAI7qB,EAAO,UAAUnJ,EAAM/B,IAGvB42B,EAAY,GACb70B,EAAM3B,YAAYU,KAAKoR,EAAKP,OAAO7Q,GAClC81B,EAAS,eAAoB,EAE7BA,EAAS,iBAAuB,EAEpCzzB,IAAMuI,IAAI3J,EAAMhC,SAAS,cAAcmS,EAAKpR,GAAG81B,EAAU,CACrDjrB,QAAS,CAAC,cAAiBT,KAC5B7H,MAAK,SAAAC,GACJK,QAAQC,IAAIN,EAASC,SAKzBJ,IAAMC,IAAIrB,EAAMhC,SAAS,cAAcmS,EAAKpR,GAAG,CAC3C6K,QAAS,CAAC,cAAiBT,KAE9B7H,MAAK,SAAAC,GACF,IAAIqO,EAAM,UAAMrO,EAASC,KAAKoO,OAAO3Q,OAA3B,YAAqCsC,EAASC,KAAKoO,OAAOtR,UAChEuR,EAAQ,UAAMtO,EAASC,KAAKqO,SAAS5Q,OAA7B,YAAuCsC,EAASC,KAAKqO,SAASvR,UACtE41B,EAAkD,OAArC3yB,EAASC,KAAKoO,OAAO1J,cAAqBlG,EAAM5B,sBAAsB4B,EAAMhC,SAASuD,EAASC,KAAKoO,OAAO1J,cAAc3C,IACrI4wB,EAAsD,OAAvC5yB,EAASC,KAAKqO,SAAS3J,cAAqBlG,EAAM5B,sBAAsB4B,EAAMhC,SAASuD,EAASC,KAAKqO,SAAS3J,cAAc3C,IAG3I+wB,EAAO/yB,EAASC,KAAK8xB,SAAS7wB,KAAI,SAAC0B,EAASxB,GAAV,MAAe,CACjD5H,SAAUoJ,EAAQ+L,YAAY,QAAQ,OACtCgd,WAAW,EACXE,aAAa,EACbG,MAAO,KACPE,QAAS,KACTluB,KAAM,OACNlF,MAAO,QACPouB,KAAM,OACNliB,MAAOpC,EAAQ+L,YAAYN,EAAOC,EAClCuZ,WAAY,UACZhC,KAAMjjB,EAAQ8L,UACdwW,OAAQ,WACJ7kB,QAAQC,IAAI,iBAEhBmZ,OAAQ,KACR8P,KAAM,IAAIzhB,KAAKlF,EAAQ1F,YACvB+uB,oBAAqB,WACjB5rB,QAAQC,IAAI,wBAEhB+pB,OAAQznB,EAAQ+L,YAAYgkB,EAAWC,MAG3CZ,EAAYe,GACZT,EAAiBtyB,EAASC,KAAKwO,UAC/BpO,QAAQC,IAAI,WAAWyyB,MAE1B7yB,OAAM,SAAAC,GACHC,MAAM,gDACNC,QAAQC,IAAIH,EAAMH,aAwIyCuzB,CAAmBxpB,IAAK4f,WAAYkI,EAAM3wB,KAAI,SAAA0N,GAAI,OAAGA,EAAKA,UAE7G2F,OACI,iCAKZ,kBAAC5S,EAAA,EAAD,CACIpB,UAAWlB,EAAQtD,YACnB2E,MAAO,CACHlH,SAAUg5B,EAAM,WAAW,WAC3Bt3B,KAAM,MACNzB,IAAK,OACL2B,OAAQ,KAEZwK,QAAS,WAAK6sB,GAAUD,KAExB,kBAAC,KAAD,OAEJ,qCAAKjyB,UAAWiyB,EAAMnzB,EAAQrD,SAASqD,EAAQlD,aAA/C,YAAsE,eAE3C,OAAnB81B,GACI,kBAAC,GAAD,CACI5H,OAAQ4H,EAAiB5H,OACzB3lB,IAAK,UACLM,MAAOitB,EAAiBjtB,MACxBooB,SAAU6E,EAAiB5jB,OAAO7Q,KAAKiB,EAAM3B,YAAYU,GAA/C,UACHy0B,EAAiB3jB,SAAS5Q,OADvB,YACiCu0B,EAAiB3jB,SAASvR,UAD3D,UAEHk1B,EAAiB5jB,OAAO3Q,OAFrB,YAE+Bu0B,EAAiB5jB,OAAOtR,UACjEwsB,KAAM,KACN8D,OAAQ,IAIG,OAAnB4E,IAA4BO,IACE,OAA7BP,EAAiB9qB,WACjB8qB,EAAiB9qB,UAAUjJ,KADQ+zB,EAAiB3jB,SAAS9Q,KAAKiB,EAAM3B,YAAYU,GACAy0B,EAAiB5jB,OAAO7Q,KAAKiB,EAAM3B,YAAYU,KAChI,6BACI,kBAAC,IAAD,CAAO2M,SAAUkoB,EAAezsB,QAAS,kBAAIwsB,GAAgB,IAAOz2B,MAAM,UAAU4E,UAAWlB,EAAQ/C,eAAgBuE,QAAQ,aAA/H,4BAGA,kBAAC,IAAD,CAAOsJ,SAAUkoB,EAAezsB,QAAS,kBAAIwsB,GAAgB,IAAOz2B,MAAM,UAAU4E,UAAWlB,EAAQ9C,oBAAqBsE,QAAQ,aAChI,kBAAC2yB,GAAA,EAAD,QAKZrB,GACA,kBAAC,GAAD,CACAvvB,QAAQ,gJACRyS,eA1GhB,SAA4BC,GAExB,GADA8c,GAAgB,GACZ9c,EAAM,CACN,IAAI1N,EAAO,UAAUnJ,EAAM/B,IAEvB2R,EAAS4jB,EAAiB3jB,SAAS9Q,GACnC8Q,EAAW2jB,EAAiB5jB,OAAO7Q,GAEN,OAA7By0B,EAAiB9qB,YAEZ8qB,EAAiB9qB,UAAUjJ,OAC5BmQ,EAAS4jB,EAAiB5jB,OAAO7Q,GACjC8Q,EAAW2jB,EAAiB3jB,SAAS9Q,KAG7CqC,IAAMyI,KACF7J,EAAMhC,SAAS,uBAAuB,CAClCyB,KAAM,EACNmQ,OAAQA,EACRC,SAAUA,EACVnH,UAAwC,OAA7B8qB,EAAiB9qB,UAAiB,KAAK8qB,EAAiB9qB,UAAU3J,GAC7E6T,mBAAiD,OAA7B4gB,EAAiB5tB,UAAiB,GAAG8e,OAAO8O,EAAiB5tB,UAAU7G,GAAG,IAAIy0B,EAAiB5tB,UAAU3G,QAC7HgiB,OAAO,GAEX,CAACrX,QAAS,CAAC,cAAiBT,KAC/B7H,MAAK,SAAAC,GACFK,QAAQC,IAAI,uCAAuCN,EAASC,MAC5D,IAAI2H,EAAO,UAAUnJ,EAAM/B,IAC3BmD,IAAMuI,IAAI3J,EAAMhC,SAAS,cAAcw1B,EAAiBz0B,GAAG,CACvDiR,UAAU,GACZ,CACEpG,QAAS,CAAC,cAAiBT,KAC5B7H,MAAK,SAAAC,GACJK,QAAQC,IAAIN,EAASC,MACrBqyB,GAAiB,MAErBzvB,GAAS,MAEZ3C,OAAM,SAAAC,GACHE,QAAQC,IAAI,gDAAiDH,EAAMH,UACnEI,MAAM,sDAmEFwD,OAAO,+CAEX,kBAACjB,GAAD,CAAeC,QAAQ,wCAA+BC,SAAUA,EAAUC,MAAOA,IACjF,kBAAC,GAAD,CACIvC,UAAU,eACV0tB,UAAU,EACVM,gBAAiB,GACjB5E,WAAYoI,IAGO,OAAnBE,GACA,kBAAC,GAAD,CACA9C,YAAY,sBACZC,aAAa,GACb9sB,SAAU,SAACyH,GAAKwoB,EAAaxoB,EAAEC,OAAOpL,QAEtCqL,WAAW,EAEX4lB,WAAY,SAAC9lB,GACT,SAAIA,EAAE0pB,UAA2B,KAAf1pB,EAAE2pB,YAGD,KAAf3pB,EAAE2pB,UACFhB,IACA3oB,EAAEiE,kBACK,QAHX,IAMJ+hB,aACI,kBAAC,GAAD,CACIp0B,MAAM,QACNb,gBAAgB,QAChB+qB,KAAK,SACLjgB,QAAS,WAAK8sB,Y,8CClXpC55B,GAAQ66B,aAAeC,IA+DdC,OA7Df,WAAgB,IAAD,EACel0B,qBAAWd,GAA/BJ,EADK,EACLA,MADK,KACES,SACO8N,IAAM1N,UAAS,IAFxB,mBAENuG,EAFM,KAEDiuB,EAFC,KAMb,OAHA9mB,IAAMpN,WAAU,WACdk0B,GAAO,KACP,IAEA,yBAAKvzB,UAAU,MAAMG,MAAO,CAACrG,OAAQ,SACnC,kBAAC05B,GAAA,EAAD,CAAej7B,MAAOA,IACpB,kBAAC,IAAD,KAEE,kBAAC,GAAD,MAEA,kBAAC,IAAMugB,SAAP,KACI,kBAAC2a,EAAA,EAAD,MACE,yBAAKtzB,MAAO,CAACpH,UAAU,uBAAwBiH,UAAU,SACvD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO0zB,OAAK,EAACtP,KAAK,KAAI,kBAACvlB,EAAD,CAAQlB,MAAM,KAEpC,kBAAC,IAAD,CAAOymB,KAAK,sBAAsB9e,GAAOpH,EAAM3B,YAAYoB,KAAK,EAAG,kBAAC,IAAD,CAAUwD,GAAG,MAAO,kBAAC6b,GAAD,CAAkBC,WAAW,EAAO7I,iBAAiB,KAC5I,kBAAC,IAAD,CAAOgQ,KAAK,uBAAuB9e,GAAgC,IAAzBpH,EAAM3B,YAAYoB,KAAU,kBAAC,IAAD,CAAUwD,GAAG,MAAO,kBAAC6b,GAAD,CAAkBC,WAAW,EAAO7I,iBAAiB,KAC/I,kBAAC,IAAD,CAAOgQ,KAAK,8BAA8B9e,GAAOpH,EAAM3B,YAAYoB,KAAK,EAAG,kBAAC,IAAD,CAAUwD,GAAG,MAAO,kBAAC6b,GAAD,CAAkBC,WAAW,EAAM7I,iBAAiB,KACnJ,kBAAC,IAAD,CAAOgQ,KAAK,qCAAqC9e,GAAgC,IAAzBpH,EAAM3B,YAAYoB,KAAU,kBAAC,IAAD,CAAUwD,GAAG,MAAO,kBAAC6b,GAAD,CAAkBC,WAAW,EAAM7I,iBAAiB,KAE5J,kBAAC,IAAD,CAAOgQ,KAAK,sBAAqB,kBAACvoB,GAAD,OAEjC,kBAAC,IAAD,CAAOuoB,KAAK,cAAc9e,GAAgC,IAAzBpH,EAAM3B,YAAYoB,KAAU,kBAAC,IAAD,CAAUwD,GAAG,MAAO,kBAAC4Y,GAAD,CAAiBC,WAAW,KAE7G,kBAAC,IAAD,CAAOoK,KAAK,sBAAsB9e,GAAgC,IAAzBpH,EAAM3B,YAAYoB,KAAS,kBAAC,IAAD,CAAUwD,GAAG,MAAM,kBAAC4Y,GAAD,CAAiBC,WAAW,KAEnH,kBAAC,IAAD,CAAOoK,KAAK,oBAAmB,kBAACxV,GAAD,OAC/B,kBAAC,IAAD,CAAOwV,KAAK,sBAAsB9e,GAAOpH,EAAM3B,YAAYoB,KAAK,EAAG,kBAAC,IAAD,CAAUwD,GAAG,MAAO,kBAACkgB,GAAD,CAAkBjN,iBAAiB,KAC1H,kBAAC,IAAD,CAAOgQ,KAAK,8BAA8B9e,GAAgC,IAAzBpH,EAAM3B,YAAYoB,KAAU,kBAAC,IAAD,CAAUwD,GAAG,MAAO,kBAACkgB,GAAD,CAAkBjN,iBAAiB,KACpI,kBAAC,IAAD,CAAOgQ,KAAK,wBAAwB9e,GAAOpH,EAAM3B,YAAYoB,KAAK,EAAG,kBAAC,IAAD,CAAUwD,GAAG,MAAO,kBAAC,GAAD,OACzF,kBAAC,IAAD,CAAOijB,KAAK,2BAA2B9e,GAAOpH,EAAM3B,YAAYoB,KAAK,EAAE,kBAAC,IAAD,CAAUwD,GAAG,MAAO,kBAACihB,GAAD,OAE3F,kBAAC,IAAD,CAAOgC,KAAK,wBAAwB9e,GAAgC,IAAzBpH,EAAM3B,YAAYoB,KAAU,kBAAC,IAAD,CAAUwD,GAAG,MAAO,kBAACqe,GAAD,OAC3F,kBAAC,IAAD,CAAO4E,KAAK,uBAAuB9e,GAAgC,IAAzBpH,EAAM3B,YAAYoB,KAAU,kBAAC,IAAD,CAAUwD,GAAG,MAAO,kBAACwf,GAAD,OAE1F,kBAAC,IAAD,CAAOyD,KAAK,yBAAwB,kBAACrH,GAAD,OAEpC,kBAAC,IAAD,CAAOqH,KAAK,mBAAmB9e,GAAgC,IAAzBpH,EAAM3B,YAAYoB,KAAU,kBAAC,IAAD,CAAUwD,GAAG,MAAO,kBAAC,GAAD,OACtF,kBAAC,IAAD,CAAOijB,KAAK,cAAc9e,GAAgC,IAAzBpH,EAAM3B,YAAYoB,KAAU,kBAAC,IAAD,CAAUwD,GAAG,MAAO,kBAAC,GAAD,CAAMjD,MAAOA,KAQ9F,kBAAC,IAAD,CAAOkmB,KAAK,yBAAwB,kBAAC7C,GAAD,OACpC,kBAAC,IAAD,CAAO6C,KAAK,mBAAkB,kBAACnC,GAAD,UAIxC,kBAACpO,GAAD,UCxFJ8f,GAActgB,QACW,cAA7BugB,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DAsCN,SAASC,GAAgBC,EAAOC,GAC9BC,UAAUC,cACP7oB,SAAS0oB,GACTz0B,MAAK,SAAA60B,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBr2B,QACfi2B,UAAUC,cAAcM,YAI1B50B,QAAQC,IACN,iHAKEm0B,GAAUA,EAAOS,UACnBT,EAAOS,SAASN,KAMlBv0B,QAAQC,IAAI,sCAGRm0B,GAAUA,EAAOU,WACnBV,EAAOU,UAAUP,WAO5B10B,OAAM,SAAAC,GACLE,QAAQF,MAAM,4CAA6CA,MCxFjE,SAASi1B,KAAW,IAAD,EACWz1B,qBAAWd,GADtB,EACTJ,MADS,EACFS,SACf,OACE,kBAACH,EAAD,KACE,kBAAC,GAAD,OAINs2B,IAASC,OAIP,kBAACF,GAAD,MAEAtvB,SAASyvB,eAAe,SDAnB,SAAkBd,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAIc,IAAIC,GAAwBtB,OAAOC,SAAS3uB,MACpDiwB,SAAWvB,OAAOC,SAASsB,OAIvC,OAGFvB,OAAOwB,iBAAiB,QAAQ,WAC9B,IAAMnB,EAAK,UAAMiB,GAAN,sBAEPvB,KAgEV,SAAiCM,EAAOC,GAEtC3b,MAAM0b,EAAO,CACXnsB,QAAS,CAAE,iBAAkB,YAE5BtI,MAAK,SAAAC,GAEJ,IAAM41B,EAAc51B,EAASqI,QAAQvI,IAAI,gBAEnB,MAApBE,EAASyZ,QACO,MAAfmc,IAA8D,IAAvCA,EAAY1N,QAAQ,cAG5CwM,UAAUC,cAAckB,MAAM91B,MAAK,SAAA60B,GACjCA,EAAakB,aAAa/1B,MAAK,WAC7Bo0B,OAAOC,SAAS2B,eAKpBxB,GAAgBC,EAAOC,MAG1Bv0B,OAAM,WACLG,QAAQC,IACN,oEAvFA01B,CAAwBxB,EAAOC,GAI/BC,UAAUC,cAAckB,MAAM91B,MAAK,WACjCM,QAAQC,IACN,iHAMJi0B,GAAgBC,EAAOC,OCtB/BE,K","file":"static/js/main.81962db9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Miniatura.f4e4e06b.png\";","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst Estilos = makeStyles((theme) => ({\r\n    mostrarFlex: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        flexWrap: 'wrap',\r\n        padding: 10,\r\n    },\r\n    fondo:{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        flexWrap: 'wrap',\r\n        padding: 10, \r\n        minHeight:\"calc(100vh - 130px)\",\r\n    },\r\n    proveedorSticky:{\r\n        display: 'scroll',\r\n        position: 'sticky',\r\n        top: 10,\r\n        flexWrap: 'wrap',\r\n        marginBottom: 10,\r\n        marginTop:10\r\n    },\r\n    margenArriba:{\r\n        marginTop: 10,\r\n    },\r\n    padding:{\r\n        padding: 20\r\n    },\r\n    padding2:{\r\n        padding: 10\r\n    },\r\n    filaPublicacion:{\r\n        padding: 10,\r\n        marginTop: 10,\r\n        background: \"rgba(214, 215, 204, 100)\"\r\n    },\r\n    imagenPublicacion:{\r\n        borderRadius: \"6px\",\r\n        objectFit: \"cover\",\r\n        border: \"1px solid #000\",\r\n        width: 170,\r\n        height: 170,\r\n        margin: \"auto\",\r\n        marginBottom: 15,\r\n        marginTop: 15\r\n    },\r\n    gridRegistro:{\r\n        maxWidth:550, \r\n        padding: 20,\r\n        marginBottom: 10,\r\n    },\r\n    inputAncho:{\r\n        width: \"100%\",\r\n    },\r\n    papelFondo:{\r\n        border: '1px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n        backgroundColor: \"#d7d6d9\"//theme.palette.secondary.dark\r\n    },\r\n    pantallaMedia:{\r\n        maxWidth: 800, \r\n        minWidth: 360,\r\n    },\r\n    botonFijo: {\r\n        display: \"scroll\",\r\n        position: \"fixed\",\r\n        left: \"50%\",\r\n        top: \"calc(100% - 80px)\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        zIndex: 100\r\n    },\r\n    button:{\r\n        textTransform: \"none\"\r\n    },\r\n    margenAuto:{\r\n        margin: \"auto\"\r\n    },\r\n    reporte:{\r\n        padding: 10,\r\n        marginTop: 10,\r\n    },\r\n    botonesNav:{\r\n        textDecoration:\"none\",\r\n        color: theme.palette.secondary.main,\r\n        display: 'inline',\r\n        '@media (max-width:1075px)': {\r\n          display: 'none',\r\n        },\r\n    },\r\n    EstiloMovil:{\r\n        display: 'none',\r\n        '@media (max-width:1075px)': {\r\n            display: 'inline',\r\n        },\r\n    },\r\n    EstiloPC:{\r\n    display: 'inline',\r\n    '@media (max-width:1075px)': {\r\n        display: 'none',\r\n    },\r\n    },\r\n    EstiloLink:{\r\n        textDecoration:\"none\",\r\n        color: theme.palette.secondary.contrastText\r\n    },\r\n    EstiloVacio:{\r\n        \r\n    },\r\n    Categoria: {\r\n        width:100,\r\n        height:100,\r\n        padding:0,\r\n        margin:\"auto\",\r\n        paddingTop:20\r\n    },\r\n    BotonSolicitar:{\r\n        display: 'inline',\r\n        '@media (max-width:1075px)': {\r\n            display: 'none',\r\n        },\r\n        position: \"absolute\",\r\n        left: \"90%\",\r\n        top: \"35px\",\r\n        transform: \"translate(-70%, -50%)\",\r\n        zIndex: 1000,\r\n        width: \"195px\",\r\n    },\r\n    BotonSolicitarMovil:{\r\n        display: 'none',\r\n        '@media (max-width:1075px)': {\r\n            display: 'inline',\r\n        },\r\n        position: \"absolute\",\r\n        left: \"90%\",\r\n        top: \"35px\",\r\n        transform: \"translate(-70%, -50%)\",\r\n        zIndex: 1000,\r\n    },\r\n    \r\n}));\r\n\r\nexport default Estilos;","import React, { useReducer, useEffect, createContext} from \"react\";\r\n//window.location.origin\r\n//import Icono from '/Icono3.png'\r\nconst estadoInicial = {\r\n    servidor:\"http://localhost:1337\",\r\n    jwt:\"\",\r\n    publico: false,\r\n    guardar: false,\r\n    imagen_predeterminada: \"/IconoV3.png\",\r\n    datosSesion:{\r\n        apellido: \"\",\r\n        blocked: \"\",\r\n        confirmed: false,\r\n        created_at: \"\",\r\n        descripcion: \"\",\r\n        dni: \"\",\r\n        email: \"\",\r\n        estado: false,\r\n        fecha_creacion: \"\",\r\n        id: null,\r\n        mostrar_telefono: false,\r\n        nombre: \"\",\r\n        permiso: 0,\r\n        provider: \"local\",\r\n        role: {\r\n            id: 1, name: \"Authenticated\", \r\n            description: \"Default role given to authenticated user.\", \r\n            type: \"authenticated\"\r\n        },\r\n        telefono: \"\",\r\n        tipo: 0,\r\n        ubicacion: \"\",\r\n        updated_at: \"\",\r\n        username: \"\",\r\n        identidad_verificada: false,\r\n        imagenes_dni: []\r\n    }\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n    let valor = action.value;\r\n\r\n    switch (action.type) {\r\n        case \"setDatos\":\r\n            return {...state, datosSesion: valor};\r\n        case \"setJwt\":\r\n            return {...state, jwt: valor};\r\n        case \"setGuardar\":\r\n            return {...state, guardar: valor};\r\n        case \"setPublico\":\r\n            return {...state, publico: valor};\r\n        default:\r\n            return { ...state };\r\n    }\r\n};\r\n\r\nconst ObtenerEstadoAplicacion = createContext(estadoInicial);\r\n\r\nfunction ProveerEstadoAplicacion({ children }) {\r\n    const [state, dispatch] = useReducer(reducer, estadoInicial);\r\n\r\n    return (\r\n        <ObtenerEstadoAplicacion.Provider value={{ state, dispatch }}>\r\n            {children}\r\n        </ObtenerEstadoAplicacion.Provider>\r\n    );\r\n}\r\n\r\nexport { ObtenerEstadoAplicacion, ProveerEstadoAplicacion };\r\n","import React, {useContext, useEffect, useState} from 'react'\r\nimport axios from 'axios'\r\nimport {Link} from \"react-router-dom\";\r\n//Material UI\r\nimport {Typography, Paper, Avatar, Grid, IconButton} from '@material-ui/core/'\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\n\r\nimport Estilos from '../Estilos';\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\nexport default function Inicio({tipo}) {\r\n  const classes = Estilos();\r\n  const [categorias, setcategorias] = useState([])\r\n  const [cargando, setcargando] = useState(false)\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  \r\n  useEffect(()=>{\r\n    if (state.jwt!==\"\" || state.publico===true){\r\n      setcargando(true)\r\n      buscarCategorias()\r\n    }\r\n  },[state.jwt, state.publico])\r\n  \r\n  function buscarCategorias(){\r\n    axios.get(state.servidor+\"/api/categorias\")\r\n    .then(response => {\r\n      setcategorias(response.data)\r\n      setcargando(false)\r\n    })\r\n    .catch(error => {\r\n      alert(\"Un error ha ocurrido al cargar las categorías.\")\r\n      console.log(error.response)\r\n    }) \r\n  }\r\n\r\n  return (\r\n    <div className={classes.fondo} >\r\n      <Paper elevation={3} className=\"Fondo\" style={{width:\"85%\"}}>      \r\n        <Typography component=\"h3\" variant=\"h3\" align=\"center\">Servia</Typography>\r\n        <Typography component=\"h4\" variant=\"h5\" align=\"center\">{tipo?\"¡Encuentra tu servicio ideal!\":\"¡Contacta con personas que buscan tu ayuda!\"}</Typography>\r\n        \r\n        \r\n        {\r\n          //Cuando cargando es true (seteado al momento de empezar a realizar la búsqueda de las categorías), nos muestra el componente de carga,\r\n          //y desaparece cuando cambia a false (seteado al finalizar la búsqueda de los datos)\r\n          cargando && <Cargando style={{margin:\"15px\"}}/>\r\n        }\r\n        <hr/>\r\n        <Grid container spacing={5} justify=\"space-around\" alignItems=\"center\">\r\n          {\r\n            categorias.map((cat, i) => (\r\n              <Grid item sm={4} md={3} lg={2} key={i} align=\"center\">\r\n                {\r\n                  <Link to={tipo?\"/publicaciones/\"+cat.id:\"/servicios-solicitados/\"+cat.id} className={classes.EstiloLink}>\r\n                    <Typography align=\"center\">{cat.nombre}</Typography>\r\n                    <IconButton>\r\n                      <Avatar style={{width:\"100px\", height:\"100px\"}} src={state.servidor+cat.imagen.formats.thumbnail.url} color=\"secondary\" fontSize=\"inherit\"/>\r\n                    </IconButton>\r\n                  </Link>\r\n                }\r\n              </Grid>\r\n            ))\r\n          }\r\n          </Grid>\r\n          <hr/>\r\n          {cargando && <br/>}\r\n        </Paper>\r\n    </div>\r\n  );\r\n}","import React,{useState} from 'react';\r\nimport Rating from '@material-ui/lab/Rating';\r\n\r\nimport Estilos from './Estilos.js'\r\n\r\nexport default function Puntuacion({valor, clickeable, cambiarValor}) {\r\n    const classes = Estilos();\r\n    \r\n    return (\r\n        <div className={classes.mostrarFlex}>\r\n            <Rating name=\"half-rating\" onChange={cambiarValor} readOnly={!clickeable} value={valor} precision={0.5} />\r\n        </div>\r\n    );\r\n}","import React from 'react'\r\nimport Estilos from './Estilos.js';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\nfunction Alerta(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\nexport default function AlertaMensaje({mensaje, setabrir, abrir}) {\r\n    const classes = Estilos();\r\n\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setabrir(false);\r\n    };\r\n    \r\n    return (\r\n       <div>\r\n           <Grid container>\r\n                <Snackbar open={abrir} autoHideDuration={4000} onClose={handleClose}>\r\n                    <Alerta onClose={handleClose} severity=\"success\">\r\n                        {mensaje}\r\n                    </Alerta>\r\n                </Snackbar>\r\n            </Grid>\r\n       </div>\r\n    )\r\n}","import React, {useContext, useEffect, useState} from 'react';\r\nimport {Hidden, Paper, Grid, Typography, Avatar, Divider, Button, ListSubheader, List, ListItem, ListItemText, Tooltip, Collapse, IconButton} from '@material-ui/core';\r\nimport axios from 'axios'\r\nimport { Link  } from 'react-router-dom';\r\n\r\nimport {Phone as PhoneIcon, FileCopy as Copiar, ExpandLess, ExpandMore, CheckCircleOutline as Verificado} from '@material-ui/icons/';\r\nimport Alerta from '@material-ui/lab/Alert';\r\n\r\nimport Estilos from '../Estilos.js';\r\nimport Estrellas from '../Estrellas.js';\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function ProveedorInfo({esDePerfil, datosPerfil}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [categorias, setcategorias] = useState([])\r\n  const [copiado, setcopiado] = useState(false)\r\n\r\n  const [DatosPerfil, setDatosPerfil] = useState({\r\n    id: null,\r\n    descripcion:\"\",\r\n    titulo:\"\",\r\n    identidad_verificada: false,\r\n    telefono: \"\",\r\n    mostrar_telefono: false,\r\n    servicios: [],\r\n    pausado: false,\r\n    bloqueado: false,\r\n\r\n  })\r\n\r\n  useEffect(()=>{\r\n  if (state.jwt!==\"\" || state.publico===true)\r\n    if(datosPerfil!==null){\r\n      setDatosPerfil(datosPerfil)\r\n      buscarCategorias(datosPerfil)\r\n    }\r\n    console.log(\"Datos: \", datosPerfil)\r\n  },[datosPerfil])\r\n\r\n  function buscarCategorias(perfil){\r\n    let ids_categorias = perfil.servicios.map((servicio) =>(servicio.categoria))\r\n    let ids_consultas = \"\"\r\n\r\n    ids_categorias.map((id)=>{\r\n      ids_consultas+=\"id_in=\"+id+\"&\"\r\n    })\r\n\r\n    axios.get(\r\n      state.servidor+\"/api/categorias?\"+ids_consultas\r\n    )\r\n    .then(response => {\r\n      setcategorias(response.data)\r\n    })\r\n    .catch(error => {\r\n      alert(\"Un error ha ocurrido al cargar las categorías.\")\r\n      console.log(error.response)\r\n    }) \r\n  }\r\n\r\n  function copiarAlPortapapeles(telefono) {\r\n    // Crea un campo de texto \"oculto\"\r\n    var aux = document.createElement(\"input\");\r\n    // Asigna el contenido del elemento especificado al valor del campo\r\n    aux.setAttribute(\"value\", telefono);\r\n    // Añade el campo a la página\r\n    document.body.appendChild(aux);\r\n    // Selecciona el contenido del campo\r\n    aux.select();\r\n    // Copia el texto seleccionado\r\n    document.execCommand(\"copy\");\r\n    // Elimina el campo de la página\r\n    document.body.removeChild(aux);\r\n    setcopiado(true)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.proveedorSticky}>\r\n      <Paper elevation={5}>\r\n        <Grid className={classes.padding} container direction=\"row\" justify=\"space-between\" alignItems=\"center\">\r\n            <Grid item xs={12} className={esDePerfil?classes.EstiloPC:classes.EstiloVacio}>\r\n              <Avatar\r\n              alt=\"Perfil\"\r\n              src={DatosPerfil.imagen_perfil!==null?state.servidor+DatosPerfil.imagen_perfil:state.imagen_predeterminada}\r\n              className={classes.imagenPublicacion}/>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} hidden={esDePerfil}>\r\n              <Typography variant=\"h5\" component=\"h3\" align=\"center\">\r\n                <Link to={\"/perfil-proveedor/\"+DatosPerfil.id} className={classes.EstiloLink}>\r\n                  {DatosPerfil.titulo}\r\n                  <Hidden xlDown={!DatosPerfil.identidad_verificada}>\r\n                    <Tooltip title=\"Usuario verificado\">\r\n                      <IconButton><Verificado color=\"primary\"/></IconButton>\r\n                    </Tooltip>\r\n                  </Hidden>\r\n                </Link>\r\n              </Typography>\r\n           </Grid>\r\n\r\n           <Grid item xs={12} hidden={esDePerfil}>\r\n           {\r\n              DatosPerfil.pausado && (<Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"warning\">\r\n                Este proveedor ha pausado sus servicios.\r\n              </Alerta>)\r\n            }\r\n            {\r\n              DatosPerfil.bloqueado && (<Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"error\">\r\n                Este proveedor se encuentra bloqueado.\r\n              </Alerta>)\r\n            }\r\n            </Grid>\r\n\r\n           <Grid item xs={12} hidden={esDePerfil}>\r\n              <Divider/> \r\n              <Typography variant=\"body1\" component=\"p\" align=\"justify\"> \r\n                {DatosPerfil.descripcion}\r\n              </Typography>\r\n           </Grid>\r\n            \r\n           <Grid item xs={12}>\r\n                <Divider/> \r\n                <List\r\n                component=\"nav\"\r\n                aria-labelledby=\"nested-list-subheader\"\r\n                subheader={\r\n                    <ListSubheader component=\"div\" id=\"nested-list-subheader\">\r\n                        Servicios ofrecidos\r\n                    </ListSubheader>\r\n                }\r\n                >\r\n                    <Divider/>\r\n                    {\r\n                      categorias.map((categoria, i)=>(\r\n                        <Categorias key={i} categoria={categoria} /> \r\n                      ))\r\n                    }\r\n                    <Divider/>\r\n                </List>         \r\n           </Grid>\r\n           <Hidden xlDown={!DatosPerfil.mostrar_telefono}>\r\n            {\r\n              DatosPerfil.telefono.length!==0 &&\r\n              <Grid item xs={12}>\r\n                <a className={classes.EstiloLink} href={\"tel:\"+DatosPerfil.telefono}>\r\n                  <Button startIcon={<PhoneIcon/>}>\r\n                    {DatosPerfil.telefono}\r\n                  </Button>\r\n                </a>\r\n                <Tooltip title=\"Copiar\">\r\n                  <IconButton onClick={()=>copiarAlPortapapeles(DatosPerfil.telefono)}><Copiar/></IconButton>\r\n                </Tooltip>\r\n              </Grid>\r\n            }\r\n            <AlertaMensaje mensaje={\"Copiado al portapapeles\"} abrir={copiado} setabrir={setcopiado}/>\r\n           </Hidden>\r\n        </Grid>\r\n      </Paper>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Categorias({categoria}) {\r\n    const classes = Estilos();\r\n    const [open, setOpen] = useState(true);\r\n\r\n    const handleClick = () => {\r\n        setOpen(!open);\r\n    };\r\n    return (\r\n        <div>\r\n            <ListItem button onClick={handleClick}>\r\n                <ListItemText primary={categoria.nombre}/>\r\n                  <Estrellas clickeable={false} valor={3.3}/>\r\n                {open ? <ExpandLess /> : <ExpandMore />}\r\n            </ListItem>\r\n            <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                <List component=\"div\" disablePadding>\r\n                    <Divider/>\r\n                      {\r\n                        categoria.servicios.map((servicio, i) => (\r\n                          <Typography key={i} variant=\"h6\" component=\"h5\" align=\"left\">\r\n                            {servicio.nombre}\r\n                          </Typography>\r\n                        ))\r\n                      }\r\n                    <Divider/>\r\n                </List>\r\n            </Collapse>\r\n            \r\n        </div>\r\n    )\r\n}","import React, {useEffect, useState, useContext} from 'react'\r\nimport axios from 'axios'\r\n\r\n//Material UI\r\nimport {LinearProgress, Tooltip, FormGroup, FormControlLabel, Checkbox, Modal, Backdrop, Fade, Typography, TextField, Button, Hidden} from '@material-ui/core/';\r\nimport Reportar from '@material-ui/icons/PriorityHigh';\r\nimport Estilos from '../Estilos.js';\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function ReportarPublicacion({esDePerfil, solicitud, abrirAlerta}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [open, setOpen] = useState(false);\r\n  const [motivos, setmotivos] = useState([{id: null, nombre: \"\",tipo: false}])\r\n  const [motivosSeleccionados, setmotivosSeleccionados] = useState([])\r\n  const [descripcion, setdescripcion] = useState(\"\")\r\n  const [abrir, setabrir] = useState(false)\r\n  const [cargando, setcargando] = useState(false)\r\n  const [mensaje, setmensaje] = useState(false);\r\n  const [reporteAnterior, setreporteAnterior] = useState([]);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setmotivosSeleccionados([])\r\n    setOpen(false);\r\n  };\r\n\r\n  function seleccionarMotivo(Motivo){\r\n    if(mensaje===true)\r\n      setmensaje(false)\r\n    let esta = motivosSeleccionados.some((motivo) => motivo.id===Motivo.id)\r\n    if(!esta){\r\n      setmotivosSeleccionados((arreglo)=>[...arreglo, {id:Motivo.id, nombre:Motivo.nombre}])\r\n    }else{\r\n      setmotivosSeleccionados(motivosSeleccionados.filter((motivo)=>motivo.id!==Motivo.id))\r\n    }\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(state.jwt!==\"\" || state.publico===true){\r\n      axios.get(state.servidor+\"/api/motivos?tipo=\"+esDePerfil)\r\n      .then(response => {\r\n        setmotivos(response.data)\r\n      })\r\n      .catch(error => {\r\n      alert(\"Un error ha ocurrido al cargar las motivos.\")\r\n        console.log(error.response)\r\n      })      \r\n    }\r\n  },[state.jwt, state.publico])\r\n\r\n  useEffect(() => {\r\n    console.log(solicitud)\r\n  }, [solicitud])\r\n\r\n  function ComprobarReporte(reporte){\r\n    let auth = 'Bearer '+state.jwt;\r\n\r\n    if(motivosSeleccionados.length!==0){\r\n      if(reporte.length!==0){\r\n        let fecha = new Date()\r\n        let reporte_conjunto = reporte[0]\r\n\r\n        reporte_conjunto.descripcion+=\"##Nuevo reporte (Motivos:\"+\r\n        motivosSeleccionados.map(motivo=>(\" \"+motivo.nombre))+\") del día \"\r\n        +fecha.getDate()+\"/\"+fecha.getMonth()+\"/\"+fecha.getFullYear()+\":\\n\"+descripcion\r\n        \r\n        axios.put(state.servidor+\"/api/reportes/\"+reporte_conjunto.id,{\r\n          descripcion: reporte_conjunto.descripcion\r\n        },\r\n          {headers: {'Authorization': auth},\r\n        })\r\n        .then(response => {\r\n          console.log(\"Se modifica el reporte\",response.data)\r\n          setmensaje(false)\r\n          handleClose()\r\n          setabrir(true)\r\n          setcargando(false)\r\n          setmotivosSeleccionados([])\r\n          setdescripcion(\"\")\r\n        })\r\n        .catch(error => {\r\n          alert(\"Un error ha ocurrido al cargar las motivos.\")\r\n          console.log(error.response)\r\n        })\r\n      }else{\r\n        axios.post(state.servidor+\"/api/reportes\",{\r\n          motivos: motivosSeleccionados.map(motivo_=>(motivo_.id)),\r\n          Solicitud_id: esDePerfil?null:solicitud.id,\r\n          Usuario_id: esDePerfil?solicitud.id:solicitud.Usuario_id.id,\r\n          accion: false,\r\n          estado: 0,\r\n          descripcion: descripcion.length!==0?descripcion:\"El usuario no ha proporcionado información adicional.\"\r\n        },{\r\n          headers: {'Authorization': auth},\r\n        })\r\n        .then(response => {\r\n          console.log(response.data)\r\n          setmensaje(false)\r\n          handleClose()\r\n          setabrir(true)\r\n          setcargando(false)\r\n          setmotivosSeleccionados([])\r\n          setdescripcion(\"\")\r\n        })\r\n        .catch(error => {\r\n          alert(\"Un error ha ocurrido al cargar las motivos.\")\r\n          console.log(error.response)\r\n        })\r\n      }\r\n    }else{\r\n      setcargando(false)\r\n      setmensaje(true)\r\n    }\r\n  }\r\n\r\n  function EnviarReporte(){\r\n    setcargando(true)\r\n    let auth = 'Bearer '+state.jwt;\r\n    console.log(solicitud)\r\n    if(!esDePerfil && solicitud.id!==null){\r\n      axios.get(state.servidor+\"/api/reportes?Solicitud_id=\"+solicitud.id+\"&estado=0\"\r\n        ,{headers: {'Authorization': auth},\r\n      })\r\n      .then(response => {\r\n        console.log(response.data)\r\n        ComprobarReporte(response.data)\r\n      })\r\n      .catch(error => {\r\n        alert(\"Un error ha ocurrido al cargar las motivos.\")\r\n        console.log(error.response)\r\n      })\r\n    }\r\n    \r\n    if(esDePerfil && solicitud.id!==null){\r\n      axios.get(state.servidor+\"/api/reportes?Usuario_id=\"+solicitud.id+\"&estado=0\"\r\n        ,{headers: {'Authorization': auth},\r\n      })\r\n      .then(response => {\r\n        console.log(response.data)\r\n        ComprobarReporte(response.data)\r\n      })\r\n      .catch(error => {\r\n        alert(\"Un error ha ocurrido al cargar las motivos.\")\r\n        console.log(error.response)\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      {abrir && <AlertaMensaje mensaje=\"¡Se ha enviado su reporte correctamente!\" abrir={abrir} setabrir={setabrir}/>}\r\n      <Tooltip title={esDePerfil?\"Reportar proveedor de servicios\":\"Reportar publicación\"}>\r\n        <Button\r\n            onClick={handleOpen}\r\n        ><Reportar/>\r\n        </Button>\r\n      </Tooltip>\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.mostrarFlex}\r\n        open={open}\r\n        onClose={handleClose}\r\n        closeAfterTransition={true}\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        <Fade in={open}>\r\n          <div className={classes.papelFondo}>\r\n            <Typography variant=\"h5\" component=\"h2\" align=\"center\">\r\n                Seleccione los motivos:\r\n            </Typography>\r\n            <FormGroup required>\r\n            {\r\n              motivos.map((motivo,i)=>(\r\n                <FormControlLabel\r\n                  key={i}\r\n                  control={\r\n                  <Checkbox\r\n                    variant=\"error\"\r\n                    onChange={()=>{seleccionarMotivo(motivo)}}\r\n                  />\r\n                  }\r\n                  label={motivo.nombre}\r\n                />\r\n              ))\r\n            }\r\n            </FormGroup>\r\n\r\n            <Hidden xlDown={!mensaje || cargando}>\r\n              <Typography color=\"error\">\r\n                Debe seleccionar un motivo.\r\n              </Typography>\r\n            </Hidden>\r\n\r\n            <TextField className={classes.inputAncho} onChange={(e)=>{setdescripcion(e.target.value)}} value={descripcion} id=\"filled-basic\" label=\"Informacion adicional\" variant=\"filled\" multiline/>\r\n            <br/>\r\n            {cargando && <LinearProgress color=\"secondary\"/>}\r\n            <Button disabled={cargando} className={classes.inputAncho} style={{marginTop:10}} size=\"large\" variant=\"contained\" color=\"primary\" onClick={EnviarReporte}>Enviar</Button>\r\n            \r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}","import React, {useState, useEffect, useContext} from 'react';\r\n//Material-UI\r\nimport {Hidden, Paper, Grid, Typography, Breadcrumbs, Link, Avatar, Tooltip, IconButton} from '@material-ui/core/';\r\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\r\nimport Verificado from '@material-ui/icons/CheckCircleOutline';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport Estrellas from '../Estrellas.js';\r\nimport ReportarPublicacion from './ReportarPublicacion.js'\r\nimport Estilos from '../Estilos.js';\r\nimport Alerta from '@material-ui/lab/Alert';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function PublicacionInfo({esDePerfil, datosPagina, abrirAlerta}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  \r\n  const [imagenes, setimagenes] = useState([])\r\n\r\n  const [DatosPagina, setDatosPagina] = useState({\r\n    id: null,\r\n    titulo:\"\",\r\n    precio:\"\",\r\n    categoria:\"\",\r\n    servicio:\"\",\r\n    estrella: 0,\r\n    descripcion:\"\",\r\n    imagenes:[\"\"],\r\n    pausado: false,\r\n    bloqueado: false,\r\n    Usuario_id: null,\r\n    imagen_perfil: \"\"\r\n  });\r\n\r\n  useEffect(()=>{\r\n  if (state.jwt!==\"\" || state.publico===true)\r\n    if(datosPagina!==null){\r\n      let img = datosPagina.imagenes.map((imagen)=>{\r\n        return ({\r\n          original: state.servidor+imagen.url,\r\n          thumbnail: state.servidor+imagen.url\r\n        })\r\n      })\r\n      setimagenes(img)\r\n      setDatosPagina({\r\n        id: datosPagina.id,\r\n        titulo: datosPagina.titulo,\r\n        categoria: datosPagina.categoria,\r\n        servicio: datosPagina.servicio,\r\n        estrella: 0,\r\n        descripcion: datosPagina.descripcion,\r\n        precio_estimado: datosPagina.precio_estimado,\r\n        tipo: datosPagina.tipo,\r\n        pausado: datosPagina.pausado,\r\n        imagenes: datosPagina.imagenes,\r\n        bloqueado: datosPagina.bloqueado,\r\n        Usuario_id: datosPagina.Usuario_id,\r\n        imagen_perfil: datosPagina.imagen_perfil\r\n      })\r\n    }\r\n},[datosPagina, state.jwt, state.publico])\r\n\r\n  return (\r\n    <div className={classes.mostrarFlex}>\r\n      <Paper elevation={5} >\r\n        <Grid className={classes.padding} container direction=\"row\" justify=\"space-between\" alignItems=\"center\">\r\n            {\r\n              DatosPagina.pausado && (<Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"warning\">\r\n                {DatosPagina.precio_estimado===\"perfil\"?\"Este proveedor ha pausado sus servicios.\":\"Esta publicación se encuentra pausada.\"}\r\n              </Alerta>)\r\n            }\r\n            {\r\n              DatosPagina.bloqueado && (<Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"error\">\r\n                {DatosPagina.precio_estimado===\"perfil\"?\"Este proveedor se encuentra bloqueado.\":\"Esta publicación se encuentra bloqueada.\"}\r\n              </Alerta>)\r\n            }\r\n            <Grid item lg={12} hidden={!esDePerfil} align=\"center\" className={esDePerfil?classes.EstiloMovil:classes.EstiloVacio}>\r\n              <Avatar\r\n              alt=\"Perfil\"\r\n              src={DatosPagina.imagen_perfil!==\"\"?state.servidor+DatosPagina.imagen_perfil:state.imagen_predeterminada}\r\n              className={classes.imagenPublicacion} />\r\n            </Grid>\r\n\r\n            <Grid item lg={4} md={4} sm={12} hidden={esDePerfil}>\r\n                <Typography variant=\"h6\" component=\"h3\" align=\"left\">\r\n                  {DatosPagina.tipo?\"Precio estimado:\":\"Presupuesto:\"} ${DatosPagina.precio_estimado}\r\n                </Typography>\r\n            </Grid>\r\n\r\n            <Grid hidden={esDePerfil} item lg={7} md={7} sm={11} align=\"right\">\r\n              <div align=\"right\">\r\n                <Breadcrumbs separator={<NavigateNextIcon fontSize=\"small\" />} aria-label=\"breadcrumb\">\r\n                  <Typography color=\"inherit\">{DatosPagina.categoria}</Typography>\r\n                  {\r\n                    datosPagina.tipo &&\r\n                    <Typography color=\"inherit\">{DatosPagina.servicio}</Typography>\r\n                  }\r\n                </Breadcrumbs>\r\n                  </div>\r\n            </Grid>\r\n            \r\n            {state.publico===false && !esDePerfil && !DatosPagina.bloqueado &&\r\n              <Grid item lg={1} md={1} sm={1}>\r\n                <ReportarPublicacion esDePerfil={esDePerfil} solicitud={DatosPagina}/>\r\n              </Grid>\r\n            }\r\n            \r\n            <Grid item xs={esDePerfil?11:12} sm={esDePerfil?11:12}>\r\n              <Typography variant=\"h5\" component=\"h1\" align=\"left\">\r\n                {DatosPagina.titulo}\r\n                {\r\n                  esDePerfil && <Hidden xlDown={!DatosPagina.identidad_verificada}><Tooltip title=\"Usuario verificado\">\r\n                    <IconButton><Verificado color=\"primary\"/></IconButton>\r\n                  </Tooltip></Hidden>\r\n                }\r\n              </Typography>\r\n            </Grid>\r\n\r\n            {state.publico===false && esDePerfil && !DatosPagina.bloqueado &&\r\n              <Grid item lg={1} md={1} sm={1}>\r\n                <ReportarPublicacion esDePerfil={esDePerfil} solicitud={DatosPagina}/>\r\n              </Grid>\r\n            }\r\n            \r\n            <Grid item xs={12}>\r\n              <Typography variant=\"body1\" component=\"p\" align=\"justify\"> \r\n                {DatosPagina.descripcion}    \r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <ImageGallery items={imagenes.length===0?[{original: state.imagen_predeterminada,thumbnail: state.imagen_predeterminada}]:imagenes}/>\r\n            </Grid>\r\n        </Grid>\r\n      </Paper>\r\n\r\n    </div>\r\n  );\r\n}","import React,{useState, useEffect, useContext} from 'react';\r\nimport axios from 'axios'\r\n\r\n//Material UI\r\nimport {Tooltip, Button, Typography, Paper, Grid, Chip} from '@material-ui/core/';\r\nimport Alerta from '@material-ui/lab/Alert';\r\nimport {ThumbUpAltTwoTone as Like, ThumbDownAltTwoTone as Dislike} from '@material-ui/icons';\r\n\r\nimport Estrellas from '../Estrellas.js';\r\nimport Estilos from '../Estilos.js';\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\nimport { format, register } from 'timeago.js';\r\n\r\nexport default function Opiniones({datos}) {\r\n    const classes = Estilos();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [opiniones, setopiniones] = useState([])\r\n    const [promedioEstrellas, setpromedioEstrellas] = useState(0)\r\n\r\n    useEffect(()=>{\r\n        if (state.jwt!==\"\" || state.publico){  \r\n            if(datos.Usuario_id!==null){\r\n                axios.get(state.servidor+\"/api/resenas?proveedor=\"+datos.Usuario_id.id+\"&servicios=\"+datos.servicio_id)\r\n                .then(response => {\r\n                    console.log(response.data)\r\n                    setopiniones(response.data)\r\n                    let total = 0;\r\n                    response.data.map(opi => {\r\n                        total+= opi.recomendacion\r\n                    })\r\n                    setpromedioEstrellas(total/(response.data.length))\r\n                })\r\n                .catch(error => {\r\n                    alert(\"Un error ha ocurrido al buscar la solicitud.\")\r\n                    console.log(error.response)\r\n                })\r\n            }\r\n        }\r\n    },[state.jwt, state.publico, datos])\r\n    //\r\n    const localeFunc = (number, index, totalSec) => {\r\n        // number: the timeago / timein number;\r\n        // index: the index of array below;\r\n        // totalSec: total seconds between date to be formatted and today's date;\r\n        return [\r\n        ['justo ahora', 'justo ahora'],\r\n        ['hace %s segundos', 'en %s segundos'],\r\n        ['hace 1 minuto', 'en 1 minuto'],\r\n        ['hace %s minutos', 'en %s minutos'],\r\n        ['hace 1 hora', 'en 1 hora'],\r\n        ['hace %s horas', 'en %s horas'],\r\n        ['hace 1 día', 'en 1 día'],\r\n        ['hace %s días', 'en %s días'],\r\n        ['hace 1 semana', 'en 1 semana'],\r\n        ['hace %s semanas', 'en %s semanas'],\r\n        ['hace 1 mes', 'en 1 mes'],\r\n        ['hace %s meses', 'en %s meses'],\r\n        ['hace 1 año', 'en 1 año'],\r\n        ['hace %s años', 'en %s años']\r\n        ][index];\r\n    };\r\n    register('spanish', localeFunc);\r\n\r\n    return (\r\n        <div className={classes.mostrarFlex}>\r\n        <Paper elevation={5}>\r\n            <Grid className={classes.padding} container direction=\"row\" justify=\"flex-start\" alignItems=\"center\">\r\n                <Grid item xs={12}>\r\n                    <Typography variant=\"h4\" component=\"h2\" align=\"left\">\r\n                        Reseñas\r\n                    </Typography>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Typography variant=\"h5\" component=\"h2\" align=\"center\" align=\"left\">\r\n                        {\r\n                            opiniones.length!==0 &&\r\n                            <><Estrellas clickeable={false} valor={promedioEstrellas}/> {`${promedioEstrellas} en base a ${opiniones.length} reseñas hechas por otros usuarios.`}</>\r\n                        }\r\n                    </Typography>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    {\r\n                        opiniones.length===0 && <Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"info\">\r\n                        {\"Esta publicación aún no tiene reseñas\"}\r\n                      </Alerta>\r\n                    }\r\n                    {\r\n                        opiniones.map((opinion, i)=>(\r\n                            <Resena opinion={opinion} key={i}/>\r\n                        ))\r\n                    }\r\n                </Grid>\r\n            </Grid>\r\n        </Paper>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Resena({opinion}) {\r\n    const classes = Estilos();\r\n    return (\r\n        <Paper variant=\"outlined\" square>\r\n            <Grid className={classes.padding} container direction=\"row\" justify=\"space-around\" alignItems=\"baseline\">\r\n                <Grid item xs={6}>\r\n                    <Typography variant=\"h5\" component=\"h2\" align=\"left\">\r\n                        {opinion.titulo}\r\n                    </Typography>\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                    <Estrellas clickeable={false} valor={opinion.recomendacion}/>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <Typography variant=\"body1\" component=\"p\" align=\"justify\"> \r\n                        {opinion.descripcion}\r\n                    </Typography> \r\n                </Grid>\r\n                {\r\n                    true && <Grid item xs={4} align=\"left\">\r\n                        <Tooltip title=\"Me sirve\">\r\n                            <Button startIcon={<Like/>}>\r\n                                {opinion.votos_positivos}\r\n                            </Button>\r\n                        </Tooltip>\r\n                        <Tooltip title=\"No me sirve\">\r\n                            <Button color=\"secondary\" startIcon={<Dislike/>}>\r\n                                {opinion.votos_negativos}\r\n                            </Button>\r\n                        </Tooltip>\r\n                    </Grid>\r\n                }\r\n                \r\n                    {\r\n                        opinion.servicios.map((servicio, i)=>(\r\n                            <Grid key={i} item xs={2} align=\"center\">\r\n                                <Chip variant=\"outlined\" label={servicio.nombre}/>\r\n                            </Grid>\r\n                        ))\r\n                    }\r\n                    \r\n                <Grid item xs={2} align=\"right\">\r\n                    {format(new Date(opinion.created_at),\"spanish\")}\r\n                </Grid>\r\n            </Grid>\r\n        </Paper>\r\n    );\r\n  }","import React from 'react';\r\nimport {useState} from 'react';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\nimport Estilos from './Estilos.js';\r\n\r\nexport default function SeleccionarServicio({servicio, agregarSeleccionado}) {\r\n  const classes = Estilos();\r\n  const [hecho_noHecho, setHecho_noHecho] = useState((<div><ClearIcon/></div>));\r\n  const [seleccion, setSeleccion] = useState(servicio.seleccionado);\r\n\r\n\r\n  React.useEffect(()=>{\r\n    if(servicio.seleccionado===true){\r\n      setSeleccion(true);\r\n      setHecho_noHecho(<div><DoneIcon/></div>);\r\n    }else{\r\n      setSeleccion(false);\r\n      setHecho_noHecho(<div><ClearIcon/></div>);\r\n    }\r\n  },[])\r\n\r\n  const handleClick = () => {\r\n    agregarSeleccionado(!seleccion)\r\n    if(seleccion===false){\r\n      setSeleccion(true);\r\n      setHecho_noHecho(<div><DoneIcon/></div>);\r\n    }else{\r\n      setSeleccion(false);\r\n      setHecho_noHecho(<div><ClearIcon/></div>);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.mostrarFlex}>\r\n      <Chip clickable color=\"primary\" label={servicio.nombre} icon={hecho_noHecho} onClick={handleClick}/>\r\n    </div>\r\n  );\r\n}","import React,{useState, useContext, useEffect} from 'react'\r\nimport axios from 'axios'\r\n//Material-UI\r\nimport {LinearProgress, Avatar, FormControl, Grid, Typography, TextField, Button, Modal, Fade, Backdrop, InputLabel, MenuItem, Select} from '@material-ui/core/';\r\nimport {Mail} from '@material-ui/icons';\r\n\r\n///Componentes\r\nimport AlertaMensaje from './AlertaMensaje.js';\r\nimport Estilos from './Estilos.js';\r\nimport CategoriaSeleccion from './CategoriaSeleccion.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../Estados/AplicacionEstado'\r\n\r\nexport function BotonContratar({fijo, esDePerfil, datos}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [open, setOpen] = React.useState(false);\r\n  const [cargando, setcargando] = React.useState(false);\r\n  const [mensaje, setmensaje] = React.useState(\"\");\r\n  const [abrir, setabrir] = React.useState(false);\r\n  const [categoria, setcategoria] = useState({});\r\n  const [arregloCategorias, setarregloCategorias] = useState([]);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  useEffect(()=>{console.log(datos)},[datos])\r\n\r\n  useEffect(()=>{\r\n    if (esDePerfil){\r\n      let cat = {}\r\n      let arrCat = []\r\n    datos.servicios.map((servicio)=>{\r\n      if(!cat.hasOwnProperty(servicio.categoria)){\r\n        cat[servicio.categoria] = servicio.categoria\r\n        arrCat.push(servicio.categoria)\r\n      }\r\n    })\r\n\r\n    let IDS = \"\"\r\n    arrCat.map((id)=>{\r\n      if(id!==null){\r\n          IDS+=\"id_in=\"+id+\"&\"\r\n      }\r\n    })\r\n        \r\n    let auth = 'Bearer '+state.jwt;\r\n    if(arrCat.length!==0){\r\n      axios.get(state.servidor+\"/api/categorias?\"+IDS,{\r\n        headers: {'Authorization': auth},\r\n      })\r\n      .then(response => {\r\n        setarregloCategorias(response.data)\r\n      })\r\n      .catch(error => {\r\n        alert(\"Un error ha ocurrido al cargar los chats.\")\r\n        console.log(error.response)\r\n      }) \r\n    }\r\n    }\r\n},[datos])\r\n\r\n\r\n  function enviarContacto(e){\r\n    setcargando(true)\r\n    let auth = 'Bearer '+state.jwt;\r\n    e.preventDefault()\r\n\r\n    if(state.jwt!==\"\"){\r\n      let cat_selecc = arregloCategorias.filter(cat_ => cat_.nombre === categoria)\r\n\r\n      axios.post(state.servidor+\"/api/chats/\",{\r\n        noleido_emisor: 0,\r\n        noleido_receptor: 1,\r\n        emisor: state.datosSesion.id,\r\n        receptor: datos.idP,\r\n        solicitud: datos.idS,\r\n        categoria: esDePerfil?cat_selecc[0].id:null,\r\n        peticion: false\r\n      },{\r\n        headers: {'Authorization': auth},\r\n      })\r\n      .then(response => {\r\n        console.log(response.data)\r\n\r\n        axios.post(state.servidor+\"/api/mensajes/\",{\r\n          contenido: mensaje,\r\n          enviado_por: true,\r\n          chat: response.data.id\r\n        },{\r\n          headers: {'Authorization': auth},\r\n        })\r\n        .then(response => {\r\n          console.log(response.data)\r\n          setabrir(true)\r\n          setOpen(false)\r\n          setcargando(false)\r\n        })\r\n        .catch(error => {\r\n          alert(\"Un error ha ocurrido al cargar los chats.\")\r\n          console.log(error.response)\r\n        })\r\n        \r\n      })\r\n      .catch(error => {\r\n        alert(\"Un error ha ocurrido al cargar los chats.\")\r\n        console.log(error.response)\r\n      })\r\n    }else{\r\n      alert(\"Debes iniciar sesión para poder contactar al proveedor.\")\r\n      setcargando(false)\r\n    }\r\n  }\r\n\r\n    return (\r\n      <div>\r\n          <div className={fijo?classes.botonFijo:classes.botonNoF}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              startIcon={<Mail/>}\r\n              onClick={handleOpen}\r\n            >\r\n              Contactar\r\n            </Button>\r\n        </div>\r\n        <Modal\r\n          aria-labelledby=\"transition-modal-title\"\r\n          aria-describedby=\"transition-modal-description\"\r\n          className={classes.mostrarFlex}\r\n          open={open}\r\n          onClose={handleClose}\r\n          closeAfterTransition\r\n          BackdropComponent={Backdrop}\r\n          BackdropProps={{\r\n            timeout: 500,\r\n          }}\r\n        >\r\n          <Fade in={open} style={{padding:\"15px\"}}>\r\n            <div className={classes.papelFondo}>\r\n              <div style={{maxWidth:750}} className=\"Fondo\">\r\n              <Grid  container direction=\"row\" justify=\"center\"  spacing={2}>\r\n                  <Grid item xs={12}>\r\n                      <div align=\"center\">\r\n                          <Avatar\r\n                            alt=\"Perfil\"\r\n                            src={datos.imagen_perfil!==null?datos.imagen_perfil:state.imagen_predeterminada}\r\n                            className={classes.imagenPublicacion}/>\r\n                      </div>\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                      <Typography variant=\"h5\" component=\"h2\" align=\"center\" className={classes.form}>\r\n                          {datos.nombre}\r\n                      </Typography>\r\n                  </Grid>\r\n\r\n                  <form onSubmit={enviarContacto} className={classes.inputAncho}>\r\n                    <FormControl color=\"primary\" fullWidth>\r\n                      {\r\n                        esDePerfil &&\r\n                        <Grid item xs={12}>\r\n                          \r\n                            <InputLabel id=\"categoria\" variant=\"filled\">Categoría</InputLabel>\r\n                            <Select\r\n                                value={categoria}\r\n                                name=\"categoria\"\r\n                                onChange={(e)=>{setcategoria(e.target.value)}}\r\n                                id=\"categoria\"\r\n                                labelId=\"categoria\"\r\n                                variant=\"filled\"\r\n                                label=\"Categoría\"\r\n                                className={classes.inputAncho}\r\n                                required>\r\n                                {\r\n                                  arregloCategorias.map((categoria, i)=>(\r\n                                    <MenuItem key={i} value={categoria.nombre}>{categoria.nombre}</MenuItem>\r\n                                  ))\r\n                                }\r\n                            </Select>\r\n                        \r\n                        </Grid>\r\n                      }\r\n                    \r\n                      <br/>\r\n                      <Grid item xs={12}>  \r\n                        <TextField\r\n                          onChange={(e)=>{setmensaje(e.target.value)}}\r\n                          className={classes.inputAncho}\r\n                          id=\"filled-basic\"\r\n                          label=\"Escribe tu mensaje\"\r\n                          variant=\"filled\"\r\n                          required\r\n                          multiline\r\n                        />\r\n                      </Grid>\r\n\r\n                      <Grid item xs={12} align=\"center\">\r\n                        <br/>\r\n                        {\r\n                          cargando && <LinearProgress/>\r\n                        }\r\n                        <Button\r\n                          disabled={cargando}\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                          type=\"submit\"\r\n                          >\r\n                            Contactar proveedor\r\n                        </Button>\r\n                      </Grid>\r\n                    </FormControl>\r\n                  </form>\r\n              </Grid>\r\n              </div>\r\n            </div>\r\n          </Fade>\r\n        </Modal>\r\n        <AlertaMensaje mensaje=\"¡Mensaje enviado con éxito!\" setabrir={setabrir} abrir={abrir}/>\r\n      </div>\r\n    );\r\n  }","import React, {useEffect, useState, useContext} from 'react';\r\n\r\n//Material-UI\r\nimport {Grid} from '@material-ui/core/';\r\nimport {useParams} from 'react-router-dom'\r\nimport axios from 'axios'\r\n//Componentes\r\nimport ProveedorInfo from './ProveedorInfo.js';\r\nimport PublicacionInfo from './PublicacionInfo.js';\r\nimport Opiniones from './Opiniones.js';\r\nimport Estilos from '../Estilos.js';\r\nimport {BotonContratar} from '../ContactarProveedor.js'\r\nimport {Container} from '@material-ui/core/';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function Publicacion() {\r\n    const classes = Estilos();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    let { id } = useParams();\r\n    const [datosPerfil, setdatosPerfil] = useState({\r\n        id: null,\r\n        descripcion:\"\",\r\n        nombre:\"\",\r\n        apellido:\"\",\r\n        identidad_verificada: false,\r\n        telefono: \"\",\r\n        mostrar_telefono: false,\r\n        pausado: false,\r\n        bloqueado: false,\r\n        servicios: [],\r\n        imagen_perfil: \"\"\r\n    })\r\n    const [datosPagina, setdatosPagina] = useState({\r\n        id: null,\r\n        descripcion:\"\",\r\n        titulo:\"\",\r\n        precio_estimado: 0,\r\n        tipo: false,\r\n        pausado: false,\r\n        bloqueado: false,\r\n        imagenes: [],\r\n        Usuario_id: null\r\n    })\r\n\r\n    useEffect(()=>{\r\n        if (state.jwt!==\"\" || state.publico===true){            \r\n            axios.get(state.servidor+\"/api/solicitud/\"+id)\r\n            .then(response => {\r\n                obtenerUsuario(response.data)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al buscar la solicitud.\")\r\n                console.log(error.response)\r\n            }) \r\n        }\r\n    },[state.jwt, state.publico])\r\n\r\n    function obtenerUsuario(data){\r\n        setdatosPagina({\r\n            id: data.id,\r\n            titulo: data.titulo,\r\n            descripcion: data.descripcion,\r\n            precio_estimado: data.precio_estimado,\r\n            tipo: data.tipo,\r\n            pausado: data.pausado,\r\n            imagenes: data.imagenes,\r\n            categoria: data.Categoria_id.nombre,\r\n            servicio: data.tipo?data.Servicio_id.nombre:null,\r\n            Usuario_id: data.Usuario_id,\r\n            bloqueado: data.bloqueado,\r\n            servicio_id: data.tipo?data.Servicio_id.id:null,\r\n        })\r\n\r\n        let auth = state.jwt!==\"\"?'Bearer '+state.jwt:\"\";\r\n        \r\n        axios.get(\r\n            state.servidor+\"/users/\"+data.Usuario_id.id,{\r\n                headers: {\r\n                'Authorization': auth\r\n                },\r\n            })\r\n            .then(response => {\r\n                setdatosPerfil({\r\n                    id: response.data.id,\r\n                    descripcion: response.data.descripcion,\r\n                    titulo: `${response.data.nombre} ${response.data.apellido}`,\r\n                    identidad_verificada: response.data.identidad_verificada,\r\n                    telefono: response.data.telefono,\r\n                    mostrar_telefono: response.data.mostrar_telefono,\r\n                    servicios: response.data.servicios,\r\n                    bloqueado: response.data.bloqueado,\r\n                    pausado: response.data.estado,\r\n                    imagen_perfil: response.data.imagen_perfil===null?null:response.data.imagen_perfil.url\r\n                })\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al buscar el usuario.\")\r\n                console.log(error.response)\r\n            }) \r\n    }\r\n\r\n    return (\r\n        <Container style={{width: \"95%\"}}>\r\n            <Grid container direction=\"row\" justify=\"center\" alignItems=\"stretch\">\r\n                <Grid item md={8} xs={12}>\r\n                  <PublicacionInfo esDePerfil={false} datosPagina={datosPagina}/>\r\n                  {datosPagina.tipo && <Opiniones datos={datosPagina}/>}\r\n                </Grid>  \r\n\r\n                {\r\n                    datosPagina.tipo && (\r\n                        <Grid item md={4} xs={12} >\r\n                            <ProveedorInfo esDePerfil={false} datosPerfil={datosPerfil}/>\r\n                        </Grid> \r\n                    )\r\n                }\r\n                {\r\n                    //Si no es el dueño de la publicación, y si el proveedor o la publicación no se encuentrar pausada o bloqueada, entonces ofrecemos la posibilidad de contactarlo \r\n                    datosPerfil.id!==state.datosSesion.id && !datosPagina.pausado && !datosPagina.bloqueado && !datosPerfil.pausado && !datosPerfil.bloqueado &&\r\n                    <BotonContratar fijo={true} esDePerfil={false} datos={{idS: datosPagina.id, idP: datosPerfil.id, nombre: datosPerfil.titulo, imagen_perfil: datosPerfil.imagen_perfil}} />\r\n                }\r\n            </Grid>\r\n        </Container>\r\n    )\r\n}\r\n","import React, {useContext, useState} from 'react';\r\n//Material UI \r\nimport {Grid, Link as LinkMUI,  LinearProgress, Modal, Backdrop, Fade, Typography, TextField, FormControl, Hidden, Button, Divider, } from '@material-ui/core';\r\n\r\n//Librerias\r\nimport {Link} from \"react-router-dom\";\r\nimport axios from 'axios'\r\n\r\n//\r\nimport Estilos from '../Estilos.js'\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function IniciarSesion({mensaje}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [open, setOpen] = useState(false);\r\n  const [cargando, setcargando] = useState(false);\r\n  const [alerta, setalerta] = useState(\"\");\r\n  const [pwd_olvidada, setpwd_olvidada] = useState(false);\r\n\r\n  const [datos, setdatos] = useState({\r\n    email:\"\",\r\n    contrasena:\"\"\r\n  });\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  \r\n  const cambiarInput = (e) =>{   \r\n    let valor = e.target.value;\r\n    let campo = e.target.name;\r\n    setdatos({\r\n        ...datos,\r\n        [campo]: valor\r\n    })        \r\n  }\r\n  \r\n  const iniciarSesion = () =>{\r\n    setcargando(true)\r\n\r\n    if(!pwd_olvidada){\r\n      axios\r\n      .post(state.servidor+\"/auth/local/\", {\r\n        identifier: datos.email,\r\n        password: datos.contrasena\r\n      })\r\n      .then(response => {\r\n          // Se registró el usuario correctamente\r\n          console.log('Se ha iniciado sesion correctamente.')\r\n          \r\n          dispatch({type:\"setDatos\", value: response.data.user})\r\n          dispatch({type:\"setJwt\", value: response.data.jwt})\r\n\r\n          localStorage.setItem('datosLocal', JSON.stringify({\r\n            jwt: response.data.jwt,\r\n            datosSesion: response.data.user\r\n          }));\r\n\r\n          console.log(response.data.user)\r\n\r\n          setcargando(false)\r\n          setOpen(false)\r\n      })\r\n      .catch(error => {\r\n        // Ocurrió un error\r\n        let err = JSON.parse(error.response.request.response).message[0].messages[0].id;\r\n        console.log(\"Error: \",err)\r\n        \r\n        if(err===\"Auth.form.error.invalid\")\r\n          setalerta('Correo o contraseña incorrectos');\r\n\r\n        setcargando(false)\r\n      });\r\n    }else{\r\n      console.log(datos)\r\n      axios\r\n      .post('http://localhost:1337/auth/forgot-password', {\r\n        email: datos.email,\r\n      },{\r\n        headers:{\r\n          \"Content-Type\": \"application/json\"\r\n        }\r\n      })\r\n      .then(response => {\r\n        console.log('Your user received an email', response.data);\r\n      })\r\n      .catch(error => {\r\n        // Handle error.\r\n        console.log('An error occurred:', error.response);\r\n      });\r\n    }\r\n    \r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <LinkMUI href=\"#\" style={{color:\"black\",padding: \"10px\"}} onClick={handleOpen}>\r\n        {mensaje}\r\n      </LinkMUI>\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.mostrarFlex}\r\n        open={open}\r\n        onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n      >\r\n        <Fade in={open}>\r\n          <div className={classes.papelFondo}>\r\n            <div className=\"Fondo\"  style={{maxWidth:350}}>\r\n                <Grid  container direction=\"row\" justify=\"center\"  spacing={2}>\r\n                  <Grid item xs={12}>\r\n                    <Typography variant=\"h5\" component=\"h1\" align=\"center\" className={classes.form}>\r\n                      {pwd_olvidada?\"Recuperar contraseña\":\"Iniciar Sesión\"}\r\n                    </Typography>\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12}>\r\n                    <TextField\r\n                      onChange={cambiarInput}\r\n                      name=\"email\"\r\n                      value={datos.email}\r\n                      className={classes.inputAncho}\r\n                      id=\"filled-basic\"\r\n                      label=\"Usuario/Correo electrónico\"\r\n                      variant=\"filled\"\r\n                      required\r\n                    />\r\n                  </Grid>\r\n                  <Divider/>\r\n                  \r\n                  <Grid item xs={12}>\r\n                    {\r\n                      !pwd_olvidada && <TextField\r\n                        onChange={cambiarInput}\r\n                        name=\"contrasena\"\r\n                        value={datos.contrasena}\r\n                        required\r\n                        type=\"password\"\r\n                        label=\"Contraseña\"\r\n                        variant=\"filled\"\r\n                        style={{marginTop:\"15px\"}}\r\n                        className={classes.inputAncho}\r\n                      />\r\n                    }\r\n                  </Grid>\r\n\r\n\r\n                  <Hidden xlDown={mensaje===\"\"}>\r\n                    <Typography color=\"error\">\r\n                        {alerta}\r\n                    </Typography>\r\n                  </Hidden>\r\n                  \r\n                  <Grid item xs={12}>\r\n                    {\r\n                      !pwd_olvidada && <LinkMUI color=\"secondary\" className={classes.margenArriba} href=\"#\" onClick={()=>{setpwd_olvidada(true)}}>\r\n                        Olvidé mi contraseña\r\n                      </LinkMUI>\r\n                    }\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12}>\r\n                    {\r\n                      pwd_olvidada && <LinkMUI className={classes.margenArriba} href=\"#\" onClick={()=>{setpwd_olvidada(false)}}>\r\n                        Cancelar\r\n                      </LinkMUI>\r\n                    }\r\n                  </Grid>\r\n\r\n                  <div className={classes.inputAncho} hidden={!cargando}>\r\n                    <LinearProgress />\r\n                  </div>\r\n\r\n                  <Grid item xs={12}>\r\n                    <Button\r\n                      onClick={iniciarSesion}\r\n                      size=\"large\"\r\n                      variant=\"contained\"\r\n                      color=\"primary\">\r\n                        {\r\n                          !pwd_olvidada?\"Iniciar Sesión\":\"Recuperar\"\r\n                        }\r\n                    </Button>\r\n                  </Grid>\r\n\r\n                  <Divider/>\r\n                  \r\n                  <Grid item xs={12}>\r\n                    {\r\n                      !pwd_olvidada && <Typography onClick={handleClose} variant=\"body1\" align=\"center\">\r\n                        {`¿Sos nuevo acá? `}\r\n                        <Link to=\"/registrar\">Crear cuenta</Link>\r\n                      </Typography>\r\n                    }\r\n                  </Grid>\r\n                </Grid>\r\n            </div>\r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}","import React, {useContext, useEffect, useState} from 'react';\r\nimport axios from 'axios'\r\nimport {Link} from 'react-router-dom'\r\n//Material-UI\r\nimport {Grid, LinearProgress, ListItem, ListItemIcon, Divider, Typography, MenuItem} from '@material-ui/core';\r\n\r\nimport PriorityHighIcon from '@material-ui/icons/PriorityHigh';\r\nimport Alerta from '@material-ui/lab/Alert';\r\n\r\n//Estilos\r\nimport Estilos from '../Estilos.js'\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\nimport { EmojiSymbolsRounded } from '@material-ui/icons';\r\n\r\nexport default function NotificacionesNav({plegarNoti, notificaciones}) {\r\n    const classes = Estilos();\r\n\r\n    return (\r\n        <div style={{padding:\"0px 15px 0px 15px\"}}>\r\n            <Typography align=\"center\" component=\"h5\" variant=\"h5\">Notificaciones</Typography>\r\n            {notificaciones.length===0 &&<Typography>No tienes nuevas notificaciones</Typography>}\r\n            {\r\n                notificaciones.map((noti, i)=>(\r\n                    <div key={i}>\r\n                        <MenuItem onClick={plegarNoti} >\r\n                            <Grid container spacing={1} justify=\"center\">\r\n                                <Grid item xs={12}>\r\n                                    <Link to=\"/notificaciones\" className={classes.EstiloLink}>\r\n                                        <Typography>                            \r\n                                            {noti.tipo===0 && (noti.solicitud!==null?\r\n                                            'Tienes nueva información con respecto a un reporte hecho a tu publicación \"'+noti.solicitud.titulo+'\"':\r\n                                            \"Tienes nueva información sobre un reporte hecho a tu perfil\")}\r\n                                            {noti.tipo===1 && (noti.datos_notificacion===\"\"?\r\n                                            '¡Tu solicitud de verificación de identidad ha sido aceptada!':\r\n                                            'Tu solicitud de verificación de identidad ha sido rechazada.')}\r\n                                            {noti.tipo===2 && (`¡Tienes una nueva solicitud de reseña de ${noti.emisor.nombre} ${noti.emisor.apellido}!`)}\r\n                                        </Typography>\r\n                                    </Link>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </MenuItem>\r\n                        <Divider/>\r\n                    </div>\r\n                ))\r\n            }\r\n            <MenuItem onClick={plegarNoti}>\r\n                    <Link to=\"/notificaciones\" className={classes.EstiloLink}>\r\n                        <Typography color=\"secondary\">                            \r\n                            Ver todas las notificaciones\r\n                        </Typography>\r\n                    </Link>\r\n            </MenuItem>\r\n        </div>\r\n    );\r\n}","import React, {useState, useContext, useEffect} from 'react';\r\nimport {BrowserRouter as Router, Switch, Route, Link, useHistory} from \"react-router-dom\";\r\nimport axios from 'axios'\r\n//Material-UI\r\nimport {Avatar, makeStyles, ListItemIcon, Grid, AppBar, Toolbar, IconButton, Typography, Badge, MenuItem, Menu, Button} from '@material-ui/core/';\r\nimport {Person as Perfil, Create as ModificarPerfil, HowToReg as VerificarIdentidadIcono, FeaturedPlayList as Explorar, Chat, AccountCircle, Menu as MenuIcon, Notifications as NotificationsIcon, PriorityHigh as PriorityHighIcon} from '@material-ui/icons'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\r\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\n\r\n//Importamos componentes (Logica)\r\nimport Inicio from \"./Inicio/Inicio.js\";\r\nimport Publicacion from \"./Publicacion/Publicacion.js\";\r\nimport InicioSesion from \"./Sesion/InicioSesion.js\";\r\nimport Estilos from './Estilos.js';\r\nimport NotificacionesNav from './Notificaciones/NotificacionesNav.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../Estados/AplicacionEstado'\r\n\r\nexport default function PrimarySearchAppBar() {\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const classes = Estilos();\r\n  let history = useHistory();\r\n  const [despPerf, setdespPerf] = useState(null);\r\n  const [despMenu, setdespMenu] = useState(null);\r\n  const [despNoti, setdespNoti] = useState(null);\r\n  const [traerNotificaciones, settraerNotificaciones] = useState(false);\r\n  const [tipoUsuario, setTipoUsuario] = useState(state.datosSesion.tipo);\r\n  const [notificaciones, setnotificaciones] = useState([])\r\n  const [mensajesnoleidos, setmensajesnoleidos] = useState(0)\r\n  \r\n  //Código de guardado del estado de la sesión\r\n  React.useEffect(()=>{\r\n    let sesion = localStorage.getItem('datosLocal') || null;\r\n    let sesionObjeto = JSON.parse(sesion)\r\n    if(sesionObjeto!==null){\r\n      dispatch({type:\"setDatos\", value: sesionObjeto.datosSesion})\r\n      dispatch({type:\"setJwt\", value: sesionObjeto.jwt})\r\n      let auth = 'Bearer '+sesionObjeto.jwt;\r\n      //dispatch({type:\"setDatos\", value: sesionObjeto.datosSesion});\r\n      //dispatch({type:\"setJwt\", value: sesionObjeto.jwt});\r\n      axios\r\n      .get(state.servidor+\"/users/\"+sesionObjeto.datosSesion.id,{\r\n        headers: {\r\n            'Authorization': auth\r\n        },\r\n      })\r\n      .then(response => {\r\n          // Se registró el usuario correctamente\r\n          console.log('Se ha iniciado sesion correctamente.', response.data)\r\n          dispatch({type:\"setDatos\", value: response.data})\r\n          dispatch({type:\"setJwt\", value: sesionObjeto.jwt})\r\n          \r\n          localStorage.setItem('datosLocal', JSON.stringify({\r\n            jwt: sesionObjeto.jwt,\r\n            datosSesion: response.data\r\n          }));\r\n          mensajesNoleidos(sesionObjeto.jwt, response.data)\r\n      })\r\n      .catch(error => {\r\n        console.log(\"Error: \",error.response)\r\n      });\r\n\r\n      axios.get(state.servidor+\"/api/notificaciones?receptor=\"+sesionObjeto.datosSesion.id+\"&leido=false\",{\r\n        headers: {'Authorization': auth},\r\n      })\r\n      .then(response => {\r\n        console.log(response.data)\r\n        setnotificaciones(response.data.reverse())\r\n      })\r\n      .catch(error => {\r\n        alert(\"Un error ha ocurrido al buscar las notificaciones.\")\r\n        console.log(error.response)\r\n      })\r\n      \r\n    }else{\r\n      dispatch({type:\"setPublico\", value: true});\r\n    }\r\n  },[])\r\n  \r\n  function mensajesNoleidos(jwt, user){\r\n    let auth = 'Bearer '+jwt;\r\n\r\n    \r\n      axios.get(state.servidor+\"/api/chats/\",{\r\n          headers: {'Authorization': auth},\r\n        })\r\n      .then(response => {\r\n        //Obtenemos todos los chats del sistema y filtramos segun el id de receptor o emisor\r\n        let chats_ = response.data.filter(chat => (chat.receptor.id === user.id || chat.emisor.id === user.id))\r\n        let cantidad = 0\r\n        chats_.map(chat_=>{\r\n          if(chat_.emisor.id===user.id){\r\n            cantidad+= chat_.noleido_emisor\r\n          }\r\n\r\n          if(chat_.receptor.id===user.id){\r\n            cantidad+= chat_.noleido_receptor\r\n          }\r\n        })\r\n        \r\n        setmensajesnoleidos(cantidad)\r\n      })\r\n      .catch(error => {\r\n        console.log(\"Un error ha ocurrido al buscar las notificaciones.\")\r\n        console.log(error.response)\r\n      })\r\n    \r\n  }\r\n  \r\n  useEffect(()=>{\r\n    setTipoUsuario(state.datosSesion.tipo)\r\n  },[state.datosSesion.tipo])\r\n\r\n  const cerrarSesion = () => {\r\n    setdespPerf(null);\r\n    dispatch({type:\"setDatos\", value: {\r\n      apellido: \"\",\r\n      blocked: \"\",\r\n      confirmed: false,\r\n      created_at: \"\",\r\n      descripcion: \"\",\r\n      dni: \"\",\r\n      email: \"\",\r\n      estado: false,\r\n      id: null,\r\n      mostrar_telefono: false,\r\n      nombre: \"\",\r\n      permiso: 0,\r\n      provider: \"local\",\r\n      role: {\r\n        id: 1, name: \"Authenticated\", \r\n        description: \"Default role given to authenticated user.\", \r\n        type: \"authenticated\"\r\n      },\r\n      telefono: \"\",\r\n      tipo: 0,\r\n      ubicacion: \"\",\r\n      updated_at: \"\",\r\n      username: \"\",\r\n      identidad_verificada: false\r\n    }});\r\n    \r\n    dispatch({type:\"setJwt\", value: \"\"});\r\n    dispatch({type:\"setPublico\", value: true});\r\n    localStorage.setItem('datosLocal', JSON.stringify(null));\r\n    history.push(\"/\")\r\n  };\r\n\r\n  const desplegarPerfil = (event) => {\r\n    setdespPerf(event.currentTarget);\r\n  };\r\n  const plegarPerfil = () => {\r\n    setdespPerf(null);\r\n  };\r\n  const desplegarMenu = (event) => {\r\n    setdespMenu(event.currentTarget);\r\n  };\r\n  const plegarMenu = () => {\r\n    setdespMenu(null);\r\n  };\r\n  const desplegarNoti = (event) => {\r\n    settraerNotificaciones(true)\r\n    setdespNoti(event.currentTarget);\r\n  };\r\n  const plegarNoti = () => {\r\n    setdespNoti(null);\r\n  };\r\n  return (\r\n    <div style={{ flexGrow: 1 }}>\r\n      <AppBar position=\"relative\" style={{padding: \"0% 7% 0% 7%\"}}>\r\n        <Toolbar>          \r\n          \r\n          {/*Icono y título*/}\r\n          <Typography style={{flexGrow:1, width:\"200px\"}} component=\"h2\" variant=\"h5\">\r\n            <Link to=\"/\" style={\r\n              {\r\n                flexGrow: 1,\r\n                textDecoration:\"none\",\r\n                color:\"#393939\",\r\n                fontFamily: \"Homework\",\r\n                fontSize: 50,\r\n                width:\"200px\"\r\n            }}>\r\n              <div style={{display:\"flex\", width:\"200px\", alignItems:\"center\"}}>\r\n                <Avatar style={{width:\"50px\", height:\"50px\"}} src=\"/Icono1.png\" variant=\"square\" fontSize=\"inherit\"/>\r\n                Servia\r\n              </div>\r\n            </Link>\r\n          </Typography>\r\n          \r\n          <div>\r\n            <Grid container justify=\"center\" alignContent=\"center\">\r\n              <Grid item>\r\n                <Link to=\"/\" className={classes.botonesNav}>\r\n                  <Button style={{padding:\"20px\"}}>Explorar servicios</Button>\r\n                </Link>\r\n\r\n                {/*<Link to=\"/proveedores\" className={classes.botonesNav}><Button style={{padding:\"20px\"}}>Proveedores</Button></Link>*/}\r\n\r\n                <Link to=\"/solicitar-servicio\" hidden={tipoUsuario!==1} className={tipoUsuario===1?classes.botonesNav:classes.EstiloVacio}>\r\n                  <Button style={{padding:\"20px\"}}>Solicitar servicio</Button>\r\n                </Link>\r\n\r\n                <Link to=\"/mis-servicios-solicitados\" hidden={tipoUsuario!==1} className={tipoUsuario===1?classes.botonesNav:classes.EstiloVacio}>\r\n                  <Button style={{padding:\"20px\"}}>Mis servicios solicitados</Button>\r\n                </Link>\r\n\r\n                <Link to=\"/mis-publicaciones\" hidden={tipoUsuario!==2} className={tipoUsuario===2?classes.botonesNav:classes.EstiloVacio}>\r\n                  <Button style={{padding:\"20px\"}}>Mis publicaciones</Button>\r\n                </Link>\r\n                \r\n                <Link to=\"/crear-publicacion\" hidden={tipoUsuario!==2} className={tipoUsuario===2?classes.botonesNav:classes.EstiloVacio}>\r\n                  <Button style={{padding:\"20px\"}}>Crear publicación</Button>\r\n                </Link>\r\n              </Grid>\r\n\r\n                <Grid item hidden={tipoUsuario>0}>\r\n                  <Button style={{margin:10, padding:\"8px 0px 8px 0px\"}} variant=\"contained\" color=\"secondary\">\r\n                    <InicioSesion mensaje=\"Iniciar sesión\"/>\r\n                  </Button>\r\n                  \r\n                  <Link to=\"/registrar\" className={classes.EstiloPC} style={{textDecoration:\"none\",color: \"black\"}}>\r\n                    <Button variant=\"contained\" color=\"secondary\" style={{padding:8}}>\r\n                      Registrar cuenta\r\n                    </Button>\r\n                  </Link>\r\n                </Grid>\r\n            </Grid>\r\n          </div>\r\n         \r\n \r\n          <div hidden={tipoUsuario===0}>\r\n              {/*Desplegar notificaciones*/}\r\n              <IconButton color=\"inherit\" onClick={desplegarNoti}>\r\n                <Badge badgeContent={notificaciones.length} color=\"secondary\">\r\n                  <NotificationsIcon /> \r\n                </Badge>\r\n              </IconButton>\r\n              <Menu id=\"simple-menu\" anchorEl={despNoti} keepMounted open={Boolean(despNoti)} onClose={plegarNoti}>\r\n                {\r\n                  traerNotificaciones && <NotificacionesNav notificaciones={notificaciones} plegarNoti={plegarNoti}/>\r\n                }\r\n              </Menu>\r\n\r\n              {/*Componente chats*/}\r\n                <Link to=\"/mis-chats\" style={{color:\"black\"}}>\r\n                  <IconButton color=\"inherit\">\r\n                      <Badge badgeContent={mensajesnoleidos} color=\"secondary\">\r\n                        <Chat />\r\n                      </Badge>\r\n                  </IconButton>\r\n                </Link>\r\n             \r\n\r\n              {/*Desplegar perfil*/}\r\n              <IconButton\r\n                edge=\"end\"\r\n                aria-label=\"account of current user\"\r\n                aria-haspopup=\"true\"\r\n                color=\"inherit\"\r\n                onClick={desplegarPerfil}\r\n              >\r\n              <AccountCircle />\r\n              </IconButton>\r\n            <Menu\r\n              id=\"simple-menu\"\r\n              anchorEl={despPerf}\r\n              keepMounted\r\n              open={Boolean(despPerf)}\r\n              onClose={plegarPerfil}\r\n            >              \r\n              <MenuItem onClick={plegarPerfil}>\r\n                <Link to=\"/modificar-usuario\" className={classes.EstiloLink}>\r\n                  <ListItemIcon>\r\n                    <Avatar style={{color:\"gray\", width:\"20px\", height:\"20px\"}} src=\"/usuario_editar.png\" variant=\"square\" fontSize=\"small\"/>\r\n                  </ListItemIcon>\r\n                  <Typography variant=\"inherit\">Modificar mi perfil</Typography>\r\n                </Link>\r\n              </MenuItem>\r\n              \r\n              <div hidden={tipoUsuario!==2}>\r\n                <MenuItem onClick={plegarPerfil}>\r\n                  <ListItemIcon>\r\n                    <ModificarPerfil fontSize=\"small\" />\r\n                  </ListItemIcon>\r\n                  <Link to=\"/modificar-proveedor\" className={classes.EstiloLink}><Typography variant=\"inherit\">Modificar mi perfil de proveedor</Typography></Link>\r\n                </MenuItem>\r\n              </div>\r\n\r\n              <div hidden={tipoUsuario!==2}>\r\n                <MenuItem onClick={plegarPerfil}>\r\n                  <ListItemIcon>\r\n                    <Perfil fontSize=\"small\" />\r\n                  </ListItemIcon>\r\n                  <Link to={\"/perfil-proveedor/\"+state.datosSesion.id} className={classes.EstiloLink}><Typography variant=\"inherit\">Ver mi perfil de proveedor</Typography></Link>\r\n                </MenuItem>\r\n              </div>\r\n\r\n              <div hidden={tipoUsuario!==2 || state.datosSesion.identidad_verificada === true}>\r\n                <MenuItem onClick={plegarPerfil}>\r\n                  <ListItemIcon>\r\n                    <PriorityHighIcon fontSize=\"small\" /> \r\n                  </ListItemIcon>\r\n                  <Link to={\"/verificar-mi-identidad/\"} className={classes.EstiloLink}><Typography variant=\"inherit\">Verificar mi identidad</Typography></Link>\r\n                </MenuItem>\r\n              </div>\r\n\r\n              <MenuItem onClick={cerrarSesion}>\r\n                <ListItemIcon>\r\n                  <ExitToAppIcon fontSize=\"small\" />\r\n                </ListItemIcon>\r\n                <Typography variant=\"inherit\">Cerrar sesión</Typography>\r\n              </MenuItem>\r\n            </Menu>\r\n          </div>\r\n          \r\n          {/*Hamburguesa */}\r\n          <div className={tipoUsuario===0?classes.EstiloMovil:classes.EstiloVacio}>\r\n            <IconButton className={classes.hambur} onClick={desplegarMenu} color=\"inherit\" edge=\"end\" aria-label=\"menu hamburguesa\">\r\n              <MenuIcon/>\r\n            </IconButton>\r\n            <Menu\r\n              id=\"simple-menu\"\r\n              anchorEl={despMenu}\r\n              keepMounted\r\n              open={Boolean(despMenu)}\r\n              onClose={plegarMenu}\r\n            >\r\n              <Link to=\"/registrar\" hidden={tipoUsuario!==0} className={classes.EstiloLink}>\r\n                <MenuItem onClick={plegarMenu}>Crear una nueva cuenta</MenuItem>\r\n                <hr/>\r\n              </Link>\r\n              \r\n              <Link to=\"/\" className={classes.EstiloMovil} className={classes.EstiloLink}>\r\n                <MenuItem onClick={plegarMenu}>\r\n                  <Typography variant=\"inherit\">Explorar servicios</Typography>\r\n                </MenuItem>\r\n              </Link>\r\n\r\n              {/*Usuario*/}\r\n              <div hidden={tipoUsuario<1 || tipoUsuario>2}>\r\n                <Link to=\"/solicitar-servicio\" className={tipoUsuario===1?classes.EstiloMovil:classes.EstiloVacio} className={classes.EstiloLink}>\r\n                  <MenuItem onClick={plegarMenu}>Solicitar servicio</MenuItem>\r\n                </Link>\r\n                <Link to=\"/mis-servicios-solicitados\" className={tipoUsuario===1?classes.EstiloMovil:classes.EstiloVacio} className={classes.EstiloLink}>\r\n                  <MenuItem onClick={plegarMenu}>Mis servicios solicitados</MenuItem>\r\n                </Link>\r\n              </div>\r\n\r\n              {/*Proveedor*/}\r\n              <div hidden={tipoUsuario!==2}>\r\n                <Link to=\"/crear-publicacion\" className={classes.EstiloMovil} className={classes.EstiloLink}>\r\n                  <MenuItem onClick={plegarMenu}>Crear publicación</MenuItem>\r\n                </Link>\r\n                <Link to=\"/mis-publicaciones\" className={classes.EstiloMovil} className={classes.EstiloLink}>\r\n                  <MenuItem onClick={plegarMenu}>Mis publicaciones</MenuItem>\r\n                </Link>\r\n              </div>\r\n\r\n              {/*Administrador*/}\r\n              <div hidden={tipoUsuario!==3}>\r\n                <Link to=\"/gestionar-reclamos\" className={classes.EstiloLink}><MenuItem onClick={plegarMenu}>Gestionar reportes</MenuItem></Link>\r\n                <Link to=\"/verificar-identidad\" className={classes.EstiloLink}><MenuItem onClick={plegarMenu}>Verificar identidades </MenuItem></Link>\r\n                {/*<Link to=\"/administrar-categorias\" className={classes.EstiloLink}><MenuItem onClick={plegarMenu}>Administrar categorías </MenuItem></Link>*/}\r\n              </div>\r\n            </Menu>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","import React,{useState} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {Instagram, Facebook} from '@material-ui/icons/';\r\n\r\n//Material-UI\r\nimport {Typography, Grid, AppBar, Toolbar} from '@material-ui/core/';\r\n\r\nimport Estilos from './Estilos.js';\r\n\r\nexport default function Footer() {\r\n    const classes = Estilos();\r\n    const [contactanos, setcontactanos] = useState(false);\r\n\r\n    return (\r\n        <div >\r\n           <AppBar position=\"relative\" bottom=\"0px\" style={{zIndex: 0}}>   \r\n                <Toolbar>\r\n                    <Grid container direction=\"row\" alignItems=\"center\" justify=\"center\">\r\n                        <Grid item xs={12} sm={4} align=\"center\">\r\n                            {/*<Link className={classes.EstiloLink} to=\"/sobre-nosotros\">Sobre nosotros</Link><br/>*/}\r\n                            <Link className={classes.EstiloLink} to=\"/preguntas-frecuentes\">Preguntas frecuentes</Link>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={4} align=\"center\">\r\n                            {/*<Link className={classes.EstiloLink} to=\"/terminos-de-uso\">Términos de uso</Link><br/>*/}\r\n                            <a href=\"#\" className={classes.EstiloLink} onClick={()=>{setcontactanos(!contactanos)}}>Contáctanos</a>\r\n                            {\r\n                                contactanos && <div>\r\n                                    <a href=\"mailto:angelruggia@gmail.com\" className={classes.EstiloLink}>angelruggia@gmail.com</a><br/>\r\n                                    <a href=\"mailto:ferransolischorvat@gmail.com\" className={classes.EstiloLink}>ferransolischorvat@gmail.com</a>\r\n                                </div>\r\n                            }\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={4} align=\"center\">\r\n                            <Typography>\r\n                                Nuestras redes\r\n                            </Typography>\r\n                            <a href=\"https://www.facebook.com/RuggiaAngel\" target=\"_blank\" className={classes.EstiloLink}><Facebook fontSize=\"large\"/></a>\r\n                            <a href=\"https://www.instagram.com/ferransolischorvat/\" target=\"_blank\" className={classes.EstiloLink}><Instagram fontSize=\"large\"/></a>\r\n                        </Grid>\r\n                        \r\n                    </Grid>\r\n                </Toolbar>\r\n            </AppBar>\r\n        </div>     \r\n    );\r\n  }","import React,{useState, useEffect} from 'react';\r\nimport {Chip, Grid, TextField, Typography, Button, Card, FormControlLabel, Checkbox, CardContent} from '@material-ui/core/';\r\nimport {Done as Done, Clear as Clear} from '@material-ui/icons';\r\n\r\nimport Estilos from '../Estilos.js'\r\n\r\nexport default function Filtro({tipoPublicacion, settipoPublicacion, servicios, agregarSeleccionado, buscarServicios, inputBusqueda, setinputBusqueda}) {\r\n  const classes = Estilos();\r\n  const [tipo,settipo] = useState(false)\r\n\r\n  useEffect(()=>{\r\n    settipoPublicacion(!tipo)\r\n  },[tipo])\r\n  return (\r\n    <Card className={classes.margenArriba} variant=\"outlined\" className={classes.filaPublicacion}>\r\n      <CardContent>\r\n        <Typography variant=\"h5\" component=\"h2\">\r\n          Seleccione los filtros deseados\r\n        </Typography>\r\n\r\n        <Grid item xs={12}>    \r\n          <FormControlLabel\r\n            className={classes.inputAncho}\r\n            control={<Checkbox checked={tipo} name=\"tipo\" onChange={(e)=>{settipo(e.target.checked)}}/>}\r\n            label=\"Filtrar por publicaciones de solicitudes de servicios de usuarios.\"\r\n          />\r\n        </Grid>\r\n\r\n        {\r\n          tipoPublicacion &&\r\n          <Grid container className={classes.margenArriba} spacing={2} justify=\"space-around\" alignItems=\"center\">    \r\n            {\r\n              servicios.map((servicio,i) => (\r\n                <Grid item xs={6} sm={4} md={3} lg={2}  key={i}>\r\n                  <SeleccionarServicio key={i} servicio={servicio} agregarSeleccionado={agregarSeleccionado}/>\r\n                </Grid>\r\n              ))\r\n            }\r\n          </Grid>\r\n        }\r\n        \r\n        <TextField\r\n          className={classes.margenArriba}\r\n          value={inputBusqueda}\r\n          color=\"secondary\"\r\n          onChange={(e)=>{setinputBusqueda(e.target.value)}}\r\n          onKeyDown={(e)=>{if(e.key==='Enter'){buscarServicios()}}}\r\n          label=\"Buscar por nombre\" variant=\"outlined\"\r\n          size=\"medium\" fullWidth\r\n        />\r\n        <Button onClick={buscarServicios} className={classes.margenArriba} color=\"secondary\" variant=\"contained\" >Buscar</Button>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\nfunction SeleccionarServicio({servicio, agregarSeleccionado}) {\r\n  const classes = Estilos();\r\n  const [hecho_noHecho, setHecho_noHecho] = useState(false);\r\n  const [seleccion, setSeleccion] = useState(false);\r\n\r\n  const handleClick = () => {\r\n    agregarSeleccionado(servicio.id)\r\n    if(seleccion===false){\r\n      setSeleccion(true);\r\n      setHecho_noHecho(true);\r\n    }else{\r\n      setSeleccion(false);\r\n      setHecho_noHecho(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.mostrarFlex}>\r\n      <Chip clickable color=\"primary\" label={servicio.nombre} icon={hecho_noHecho?<Done/>:<Clear/>} onClick={handleClick}/>\r\n    </div>\r\n  );\r\n}","import React, {useState} from 'react';\r\nimport {Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle} from '@material-ui/core';\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\n\r\nexport default function Alerta({titulo, funcionAceptar, mensaje}) {\r\n  const [open, setOpen] = useState(true);\r\n  const [cargando, setcargando] = useState(false)\r\n  \r\n  const handleClose = (boole) => {\r\n    setcargando(true)\r\n    funcionAceptar(boole)\r\n    setcargando(false)\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={open}\r\n        onClose={()=>{handleClose(false)}}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{titulo}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            {mensaje}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={()=>{handleClose(false)}} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          <Button onClick={()=>{handleClose(true)}} color=\"primary\" autoFocus>\r\n            Aceptar\r\n          </Button>\r\n          {cargando && <Cargando/>}\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React,{useState, useEffect, useContext} from 'react';\r\nimport axios from 'axios'\r\n//Material-UI\r\nimport {Card, Hidden, Typography, Chip, Button, Grid, Tooltip, IconButton} from '@material-ui/core/';\r\nimport Editar from '@material-ui/icons/Edit';\r\nimport Pausa from '@material-ui/icons/Pause';\r\nimport Despausar from '@material-ui/icons/PlayArrow';\r\nimport Eliminar from '@material-ui/icons/DeleteForever';\r\nimport Alerta from '@material-ui/lab/Alert';\r\nimport Verificado from '@material-ui/icons/CheckCircleOutline';\r\nimport AlertaSi_No from '../AlertaSi_No.js';\r\n\r\nimport Estrellas from '../Estrellas.js';\r\nimport Estilos from '../Estilos';\r\nimport {BotonContratar} from '../ContactarProveedor.js'\r\n\r\nimport {Link} from \"react-router-dom\";\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\nimport { FormatListBulletedRounded } from '@material-ui/icons';\r\n\r\nexport default function FilaPublicacion({tipoPublicacion, datos, contactar, buscarSolicitudes, resenas}) {\r\n  const classes = Estilos();\r\n  const [precioPresupuesto, setPrecioPresupuesto] = useState(\"\");\r\n  const [noMostrar, setnoMostrar] = useState(true);\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [preguntarPausa, setpreguntarPausa] = useState(false);\r\n  const [preguntarEliminar, setpreguntarEliminar] = useState(false);\r\n  const [promedio, setpromedio] = useState(0);\r\n\r\n  const [datosPagina, setdatosPagina] = useState({\r\n    id: null,\r\n    titulo: \"\",\r\n    descripcion: \"\",\r\n    precio_estimado: 0,\r\n    imagenes: [],\r\n    servicio: \"\",\r\n    estrellas:0,\r\n    Usuario_id: {id: null, nombre:\"\", apellido: \"\", imagen_perfil:null},\r\n    Servicio_id: {nombre:\"\"},\r\n    pausado: false\r\n  });\r\n  \r\n  useEffect(() => {\r\n    console.log(datosPagina)\r\n  }, [datosPagina])\r\n\r\n  useEffect(()=>{\r\n    //Dependiendo de si se quiere crear una publicación o solicitar un servicio, se muestra la pantalla correspodiente\r\n    if(tipoPublicacion){\r\n      setPrecioPresupuesto(\"Precio estimado\");\r\n    }else{\r\n      setPrecioPresupuesto(\"Presupuesto\");\r\n    }\r\n  },[])\r\n\r\n  useEffect(()=>{\r\n    if(datos.Usuario_id!==null){\r\n      setdatosPagina(datos)\r\n      let x = datos.Usuario_id.id===state.datosSesion.id\r\n      setnoMostrar(!x)\r\n      //console.log(datos.Usuario_id.imagen_perfil.url)\r\n    }\r\n  },[datos])\r\n\r\n  useEffect(()=>{\r\n    if(resenas!==null && resenas!==undefined ){\r\n      \r\n      let total = 0, i = 0\r\n      resenas.resenas.map((resena)=>{\r\n        if(resena.proveedor.id===datos.Usuario_id.id){\r\n          total+=resena.recomendacion\r\n          i++\r\n        }\r\n      })\r\n      setpromedio(total/i)\r\n    }\r\n  },[resenas])\r\n\r\n\r\n  const eliminarPublicacion = (boole) =>{\r\n    let auth = 'Bearer '+state.jwt;\r\n    if(boole){\r\n      axios.delete(\r\n        state.servidor+\"/api/solicitud/\"+datosPagina.id,{\r\n          headers: {'Authorization': auth},\r\n        }\r\n        )\r\n        .then(response => {\r\n          console.log(\"Respuesta eliminar: \",response.data)\r\n          buscarSolicitudes()\r\n        })\r\n        .catch(error => {\r\n          console.log(\"Error, no se ha podido eliminar la publicación.\", error.response)\r\n        })\r\n      }\r\n    setpreguntarEliminar(false)\r\n  } \r\n  \r\n  const pausarPublicacion = (boole) =>{\r\n    let auth = 'Bearer '+state.jwt;\r\n    if(boole){\r\n      let Pausa = !datosPagina.pausado\r\n      axios.put(\r\n      state.servidor+\"/api/solicitud/\"+datosPagina.id,{\r\n        pausado: Pausa\r\n      },{\r\n        headers: {'Authorization': auth},\r\n      })\r\n      .then(response => {\r\n        console.log(\"Respuesta pausa: \",response.data)\r\n      })\r\n      .catch(error => {\r\n        console.log(\"Error, no se ha podido pausar la publicación.\", error.response)\r\n      })\r\n      setdatosPagina(prevState => ({\r\n        ...prevState,\r\n        pausado: Pausa\r\n      }))\r\n    }\r\n    setpreguntarPausa(false)\r\n  }\r\n\r\n  return (\r\n    <Card className={classes.filaPublicacion}>\r\n      <Grid container spacing={1} justify=\"center\">\r\n          {\r\n            datosPagina.pausado && (<Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"warning\">\r\n              Esta publicación se encuentra pausada.\r\n            </Alerta>)\r\n          }\r\n          {\r\n            datosPagina.bloqueado && (<Alerta className={classes.inputAncho} style={{marginBottom:\"10px\"}} variant=\"outlined\" severity=\"error\">\r\n              Esta publicación se encuentra bloqueada, contacte a un administrador.\r\n            </Alerta>)\r\n          }\r\n          <Grid container spacing={1} justify=\"center\" alignItems=\"center\">\r\n            <Grid item xs={12} md={3} sm={12} align=\"center\">\r\n              <img \r\n                className={classes.imagenPublicacion}\r\n                src={datosPagina.imagenes.length!==0?state.servidor+datosPagina.imagenes[0].url:state.imagen_predeterminada}\r\n                alt=\"1° imagen\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={9} sm={12}>  \r\n              <Typography align=\"left\" component=\"h5\" variant=\"h5\">\r\n                {`${datosPagina.Usuario_id.nombre} ${datosPagina.Usuario_id.apellido}`}\r\n                <Hidden xlDown={!datosPagina.Usuario_id.identidad_verificada}><Tooltip title=\"Usuario verificado\">\r\n                  <IconButton style={{padding: 1}}><Verificado color=\"inherit\"/></IconButton>\r\n                </Tooltip></Hidden>\r\n              </Typography>\r\n\r\n              <Typography align=\"left\" component=\"h5\" variant=\"h5\">\r\n                  {datosPagina.titulo}\r\n                <Hidden xlDown={noMostrar}>  \r\n                  <Link to={tipoPublicacion?\"/modificar-publicacion/\"+datosPagina.id:\"/modificar-solicitud-servicio/\"+datosPagina.id}>\r\n                  <Tooltip title=\"Editar publicación\">\r\n                    <IconButton ><Editar color=\"primary\" /></IconButton>\r\n                  </Tooltip>\r\n                  </Link>\r\n                  <Tooltip title=\"Pausar publicación\">\r\n                    <IconButton onClick={()=>{setpreguntarPausa(true)}}>{datosPagina.pausado?<Despausar color=\"primary\" />:<Pausa color=\"primary\" />}</IconButton>\r\n                  </Tooltip>\r\n                  <Tooltip title=\"Eliminar publicación\">\r\n                    <IconButton onClick={()=>{setpreguntarEliminar(true)}}><Eliminar color=\"secondary\" /></IconButton>\r\n                  </Tooltip>\r\n                  {\r\n                    preguntarPausa &&\r\n                    <AlertaSi_No\r\n                    mensaje={datosPagina.pausado?\r\n                    'La publicación \"'+datosPagina.titulo+'\" volverá a aparecer en la sección de búsqueda.'\r\n                    :'La publicación \"'+datosPagina.titulo+'\" será pausada y no se mostrará en la sección de búsqueda.'}\r\n                    funcionAceptar={pausarPublicacion}\r\n                    titulo={datosPagina.pausado?\r\n                    \"¿Está seguro que quiere despausar la publicación?\"\r\n                    :\"¿Está seguro que quiere pausar la publicación?\"}/> \r\n                  }\r\n                  {\r\n                    preguntarEliminar &&\r\n                    <AlertaSi_No\r\n                    mensaje={'Se va a eliminar la publicación \"'+datosPagina.titulo+'\", esta acción no se puede revertir.'}\r\n                    funcionAceptar={eliminarPublicacion}\r\n                    titulo=\"¿Está seguro que quiere eliminar la publicación?\"/>\r\n                  }\r\n                </Hidden>  \r\n              </Typography>\r\n              <div style={{overflow: \"auto\", textOverflow: \"ellipsis\", textJustify:\"auto\"}}> \r\n                <Typography>\r\n                  {datosPagina.descripcion}\r\n                </Typography>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Grid item xs={8} sm={12} md={6} lg={3} align=\"center\">\r\n            <Typography component=\"h6\" variant=\"h6\">\r\n              {precioPresupuesto}: ${datosPagina.precio_estimado}\r\n            </Typography>\r\n          </Grid>  \r\n\r\n          {\r\n            (tipoPublicacion && datosPagina.Servicio_id!==null) && (<Grid item xs={4} sm={6} md={6} lg={3} align=\"center\">\r\n            <Chip variant=\"outlined\" label={datosPagina.Servicio_id.nombre}/>\r\n          </Grid>)\r\n          }\r\n\r\n          {\r\n            tipoPublicacion &&\r\n            <Grid item xs={12} sm={6} md={6} lg={3} align=\"center\">\r\n              <Estrellas valor={promedio} clickeable={false} cambiarValor={()=>{}}/>\r\n            </Grid>\r\n          }\r\n          \r\n          {\r\n            datosPagina.Usuario_id.id!==state.datosSesion.id &&\r\n            <Grid item xs={6} sm={6} md={6} lg={3} align=\"center\" hidden={!contactar}>\r\n              <BotonContratar\r\n              fijo={false}\r\n              esDePerfil={false}\r\n              datos=\r\n              {{idS: datosPagina.id,\r\n              idP: datosPagina.Usuario_id.id,\r\n              nombre: `${datosPagina.Usuario_id.nombre} ${datosPagina.Usuario_id.apellido}`,\r\n              imagen_perfil: datosPagina.Usuario_id.imagen_perfil===null?null:state.servidor+datosPagina.Usuario_id.imagen_perfil.url}}/>\r\n            </Grid>\r\n          }\r\n           \r\n        <Grid item xs={6} lg={12} md={12} sm={6} align=\"center\">\r\n          <Link to={\"/publicacion/\"+datosPagina.id} style={{textDecoration:\"none\", padding: 0, color:\"black\"}}>\r\n            <Button variant=\"outlined\" color=\"default\">Leer más</Button>\r\n          </Link>\r\n        </Grid>\r\n      </Grid>\r\n    </Card>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, {useState, useEffect, useContext} from 'react';\r\nimport {useParams} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nimport Filtro from './Filtro.js';\r\nimport FilaPublicacion from './FilaPublicacion.js';\r\nimport Estilos from '../Estilos.js';\r\nimport {Typography, Paper} from '@material-ui/core/'\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\nimport Alerta from '@material-ui/lab/Alert';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function Categoria() {\r\n    const classes = Estilos();\r\n    let { id } = useParams()\r\n    const [serviciosSeleccionados, setServiciosSeleccionados] = useState([])\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [categoria, setcategoria] = useState({nombre:\"\"})\r\n    const [servicios, setservicios] = useState([])\r\n    const [solicitudes, setsolicitudes] = useState([])\r\n    const [cargando, setcargando] = useState(false)\r\n    const [resenas_servicio, setresenas_servicio] = useState(null)\r\n\r\n    const [tipoPublicacion, settipoPublicacion] = useState(true)\r\n    const [inputBusqueda, setinputBusqueda] = useState(\"\")\r\n\r\n    useEffect(()=>{\r\n        setcargando(true)\r\n        if(state.jwt!==\"\" || state.publico===true){\r\n            axios.get(state.servidor+\"/api/categorias/\"+id)\r\n            .then(response => {\r\n                setcategoria(response.data)\r\n                setservicios(response.data.servicios)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al cargar las categorías.\")\r\n                console.log(error.response)\r\n            }) \r\n        }\r\n        buscarSolicitudes()\r\n    },[state.jwt, state.publico])\r\n\r\n    function buscarSolicitudes(){\r\n        axios.get(state.servidor+\"/api/solicitud?Categoria_id=\"+id+\"&pausado=false&bloqueado=false&tipo=\"+tipoPublicacion)\r\n        .then(response => {\r\n            //Filtramos las publicaciones donde sus proveedores no estén pausados\r\n            setcargando(false)\r\n            if (tipoPublicacion){\r\n                let filtro = response.data.filter((solicitud)=>(solicitud.Usuario_id.estado === false && solicitud.Usuario_id.bloqueado===false))\r\n                setsolicitudes(filtro)\r\n            }else{\r\n                setsolicitudes(response.data)\r\n            }\r\n        })\r\n        .catch(error => {\r\n            alert(\"Un error ha ocurrido al cargar las categorías.\")\r\n            console.log(error.response)\r\n        })\r\n    }\r\n\r\n    const agregarSeleccionado = (servicio) => {\r\n        let encontrado = serviciosSeleccionados.some((elemento) => elemento===servicio);\r\n        \r\n        if(!encontrado){\r\n            setServiciosSeleccionados((arreglo)=>[...arreglo, servicio]);\r\n        }else{\r\n            setServiciosSeleccionados(serviciosSeleccionados.filter((elemento)=>servicio!==elemento));\r\n        }\r\n    }\r\n\r\n    function buscarServicios(){\r\n        let IDS = \"&\"\r\n        setcargando(true)\r\n\r\n        serviciosSeleccionados.map((id)=>{\r\n            if(id!==null){\r\n                IDS+=\"Servicio_id=\"+id+\"&\"\r\n            }\r\n        })\r\n\r\n        if(IDS.length===1){\r\n            if (tipoPublicacion){\r\n                servicios.map((servicio)=>{\r\n                    if(servicio!==null){\r\n                        IDS+=\"Servicio_id=\"+servicio.id+\"&\"\r\n                    }\r\n                })\r\n            }else{\r\n                IDS+=\"Categoria_id=\"+id+\"&\"\r\n            }\r\n        }\r\n\r\n        axios.get(state.servidor+\"/api/solicitud?\"+IDS+\"pausado=false&bloqueado=false&tipo=\"+tipoPublicacion+\"&titulo_contains=\"+inputBusqueda)\r\n        .then(response => {\r\n            if (tipoPublicacion){\r\n                let filtro = response.data.filter((solicitud)=>(solicitud.Usuario_id.estado === false && solicitud.Usuario_id.bloqueado===false))\r\n                setsolicitudes(filtro)\r\n            }else{\r\n                setsolicitudes(response.data)\r\n            }\r\n          setcargando(false)\r\n        })\r\n        .catch(error => {\r\n            alert(\"Un error ha ocurrido al cargar las categorías.\")\r\n            console.log(error.response)\r\n        })\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(servicios.length!==0){\r\n            let ids_ = \"\"\r\n            servicios.map((servicio_)=>{\r\n                ids_+=\"servicios=\"+servicio_.id+\"&\"\r\n            })\r\n            axios.get(state.servidor+\"/api/resenas?\"+ids_)\r\n            .then(response => {\r\n                let servicios_resena = {}\r\n                response.data.map((resena=>{\r\n                    resena.servicios.map(serv_=>{\r\n                      if(!servicios_resena.hasOwnProperty(serv_.nombre)){\r\n                        servicios_resena[serv_.nombre] = {resenas:[]}\r\n                        servicios_resena[serv_.nombre].resenas.push(resena)\r\n                      }else{\r\n                        servicios_resena[serv_.nombre].resenas.push(resena)\r\n                      }\r\n                    })\r\n                }))\r\n                setresenas_servicio(servicios_resena)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al buscar las reseñas.\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n    },[servicios])\r\n\r\n    return (\r\n        <div className={classes.fondo}>\r\n            <Paper elevation={3} style={{width:950, padding: 15}} className=\"Fondo\">\r\n                <Typography variant=\"h5\" component=\"h2\" align=\"center\">{categoria.nombre}</Typography>\r\n                <Filtro\r\n                    tipoPublicacion={tipoPublicacion}\r\n                    settipoPublicacion={settipoPublicacion}\r\n                    inputBusqueda={inputBusqueda}\r\n                    setinputBusqueda={setinputBusqueda}\r\n                    servicios={servicios}\r\n                    agregarSeleccionado={agregarSeleccionado}\r\n                    buscarServicios={buscarServicios}\r\n                />\r\n                <br/>\r\n                {cargando && <Cargando/>}\r\n                {\r\n                    !cargando && solicitudes.length===0 && (<Alerta variant=\"outlined\" severity=\"info\">\r\n                    Lo sentimos, por el momento no hay {tipoPublicacion?\"publicaciones \":\"solicitudes \"} de servicios que coincidan con los filtros de búsqueda.\r\n                    </Alerta>)\r\n                }\r\n                {\r\n                    solicitudes.map((solicitud, i)=>(\r\n                        <FilaPublicacion\r\n                        key={i}\r\n                        resenas={solicitud.tipo?(resenas_servicio===null?null:resenas_servicio[solicitud.Servicio_id.nombre]):null}\r\n                        buscarSolicitudes={buscarSolicitudes}\r\n                        datos={solicitud}\r\n                        tipoPublicacion={tipoPublicacion}\r\n                        contactar={true}/>\r\n                    ))\r\n                }\r\n            </Paper>\r\n        </div>\r\n    )\r\n}","import React,{useEffect, useContext, useState} from 'react';\r\nimport 'react-dropzone-uploader/dist/styles.css'\r\nimport Dropzone from 'react-dropzone-uploader'\r\nimport axios from 'axios'\r\nimport { ObtenerEstadoAplicacion } from '../Estados/AplicacionEstado'\r\n\r\nconst SingleFileAutoSubmit = ({cantidad, funcionSetImagen, ids, setcargando}) => {\r\n    const toast = (innerHTML) => {\r\n      const el = document.getElementById('toast')\r\n      el.innerHTML = innerHTML\r\n      el.className = 'show'\r\n      setTimeout(() => { el.className = el.className.replace('show', '') }, 3000)\r\n    }\r\n    const [archivos, setarchivos] = useState([])\r\n    const [archivosSubidos, setarchivosSubidos] = useState([])\r\n\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    useEffect(()=>{\r\n      console.log(ids)\r\n      if(state.datosSesion.id!==null && ids.some(id=>(id!==null))){\r\n        let IDS = \"\"\r\n        ids.map((id)=>{\r\n          if(id!==null){\r\n            IDS+=\"id_in=\"+id+\"&\"\r\n          }\r\n        })\r\n        axios.get(state.servidor+\"/upload/files?\"+IDS)\r\n        .then(response => {\r\n          response.data.map((dat) => {\r\n            hacerArchivo(dat)\r\n          })\r\n        })  \r\n        .catch(error => {\r\n            //let err = JSON.parse(error.response.request.response).message[0].messages[0].id;\r\n            console.log(\"Error: \", error.response)\r\n        })\r\n      }\r\n    },[ids])\r\n    \r\n    //Se crea el archivo\r\n    function hacerArchivo(imagen) {\r\n      let imagenUrl = state.servidor+imagen.url\r\n      let file\r\n      fetch(imagenUrl).then(res => {\r\n        res.arrayBuffer().then(buf => {\r\n          file = new File([buf], \"\"+imagen.id, { type: 'image/jpeg' })\r\n          setarchivos([...archivos, file])\r\n          setarchivosSubidos(arch => [...arch, file])\r\n        })\r\n      })\r\n    }\r\n\r\n    const getUploadParams = ({ file, meta }) => {\r\n      funcionSetImagen(file, cantidad, 0, archivosSubidos)\r\n\r\n      //console.log(file)\r\n\r\n      return { url: 'https://httpbin.org/post'}\r\n    }\r\n  \r\n    const handleChangeStatus = ({ meta, file }, status) => {\r\n      if (status === 'removed') {\r\n        funcionSetImagen(file, cantidad, 1, archivosSubidos);\r\n        \r\n        //let indice = archivosSubidos.indexOf(file)\r\n        //console.log(indice)\r\n\r\n      }\r\n      if (status === 'uploading'){\r\n        setcargando(true)\r\n      }\r\n      if (status === 'done'){\r\n        setcargando(false)\r\n      }\r\n\r\n\r\n        /*toast(`${meta.name} uploaded!`)\r\n        remove()*/\r\n      }/* else if (status === 'aborted') {\r\n        toast(`${meta.name}, upload failed...`)\r\n      }*/\r\n  \r\n    return (\r\n      <React.Fragment>\r\n        <Dropzone\r\n          getUploadParams={getUploadParams}\r\n          onChangeStatus={handleChangeStatus}\r\n          maxFiles={cantidad}\r\n          initialFiles={ids.length!==0?archivos:null}\r\n          multiple={true}\r\n          maxSizeBytes={5000000}\r\n          canCancel={false}\r\n          accept=\"image/*\"\r\n          inputWithFilesContent={'Subir otra imagen'}\r\n          inputContent={()=>(cantidad===1?`Selecciona ${cantidad} imagen`:`Selecciona hasta ${cantidad} imágenes`)}\r\n          //submitButtonContent=null to remove el botón submit\r\n          styles={{\r\n            dropzone: { width: \"100%\", height: \"100%\", overflow:\"auto\"},\r\n            dropzoneActive: { borderColor: 'green' },\r\n          }}\r\n        />\r\n      </React.Fragment>\r\n    )\r\n  }\r\n\r\n  export default SingleFileAutoSubmit;","import React,{useState, useEffect, useContext} from 'react';\r\nimport {useHistory } from 'react-router-dom'\r\n\r\n//Material UI\r\nimport {LinearProgress, Typography, TextField, Button, Divider, Paper, Grid, Checkbox, FormControlLabel, Hidden} from '@material-ui/core/';\r\n\r\n//Libreria para consultar la API del servidor\r\nimport axios from 'axios';\r\n\r\n//Componentes creados\r\nimport Estilos from '../Estilos.js';\r\nimport SubirImagen from '../SubirImagen.js';\r\nimport InicioSesion from \"../Sesion/InicioSesion.js\";\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function Registrar({registrar}){\r\n    const classes = Estilos()\r\n    //Variables de la página\r\n    const [mensaje, setmensaje] = useState(\"\");\r\n    const [mensajeAlerta, setmensajeAlerta] = useState(\"\");\r\n    let history = useHistory();\r\n    const [tituloPagina, settituloPagina] = useState(\"\")\r\n    const [cargando, setcargando] = useState(false)\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n \r\n    //Variables de los campos   \r\n    const [imagenes, setimagenes] = useState([])\r\n    const [ImagenPerfil, setImagenPerfil] = useState([])\r\n    const [imagenesBorradas, setimagenesBorradas] = useState([]);\r\n    const [imagenesSubidas, setimagenesSubidas] = useState([]);\r\n    const [abrir, setabrir] = useState(false);\r\n    const [datos, setdatos] = useState({\r\n        nombre:\"\",\r\n        apellido:\"\",\r\n        email:\"\",\r\n        usuario:\"\",\r\n        telefono:\"\",\r\n        contrasena:\"\",\r\n        contrasena_rep:\"\",\r\n        dni:\"\",\r\n        descripcion:\"\",\r\n        imagen_perfil: null\r\n    });\r\n    //Proveedor\r\n    const [soyProveedor, setSoyProveedor] = useState(false);\r\n\r\n    useEffect(()=>{\r\n        if(state.jwt!==\"\" || state.publico===true){\r\n            if(!registrar){            \r\n                setdatos({\r\n                    nombre: state.datosSesion.nombre,\r\n                    apellido: state.datosSesion.apellido,\r\n                    email: state.datosSesion.email,\r\n                    usuario: state.datosSesion.username,\r\n                    telefono: state.datosSesion.telefono,\r\n                    contrasena: \"\",\r\n                    contrasena_rep: \"\",\r\n                    dni: state.datosSesion.dni,\r\n                    descripcion: state.datosSesion.descripcion,\r\n                    tipo: state.datosSesion.tipo,\r\n                    imagen_perfil: state.datosSesion.imagen_perfil\r\n                })\r\n                \r\n                if(state.datosSesion.imagen_perfil!==null)\r\n                    setimagenes([state.datosSesion.imagen_perfil.id])\r\n            }\r\n        }\r\n    },[state.jwt, state.publico])\r\n\r\n    const cambiarInput = (e) =>{\r\n        if(mensaje!==\"\")\r\n            setmensaje(\"\")\r\n        \r\n        let valor = e.target.value;\r\n        let campo = e.target.name;\r\n        setdatos({\r\n            ...datos,\r\n            [campo]: valor\r\n        })\r\n    }\r\n\r\n    const funcionSetImagen = (file, cantidad, tipo, subidas) =>{\r\n        setimagenesSubidas(subidas)\r\n        //Si es 0, entonces se agrega la imagen a su respectiva variable, si es 1 entonces se desea eliminar\r\n        if(tipo===0){\r\n            setImagenPerfil([...ImagenPerfil, file])\r\n        }else{\r\n            setimagenesBorradas(img => [...imagenesBorradas, file])\r\n            let aux = ImagenPerfil.filter(f => f !== file)\r\n            setImagenPerfil(aux)\r\n        }\r\n    }\r\n\r\n    function subirImagen(_id_){\r\n        let archivosNuevos = []\r\n        //archivosNuevos es el arreglo que contiene los archivos que han sido agregados y no los que ya han sido subidos al servidor\r\n        ImagenPerfil.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(!iguales){\r\n                archivosNuevos.push(imagen)\r\n            }\r\n        })\r\n        console.log(\"imagenes perfil:\", ImagenPerfil)\r\n        console.log(\"nuevos:\", archivosNuevos)\r\n\r\n        //archivosBorrados es el arreglo que contiene los archivos que han sido subidos al servidor pero que han sido eliminados en el frontend\r\n        let archivosBorrados = []\r\n        imagenesBorradas.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(iguales){\r\n                archivosBorrados.push(imagen)\r\n            }\r\n        })\r\n        console.log(\"borrados:\", archivosBorrados)\r\n        //Si existen elementos dentro del arreglo imagenesBorradas, significa que se quieren borrar imágenes de la publicación\r\n        for(let indx = 0; indx < imagenesBorradas.length; indx++){\r\n            let id = Number(imagenesBorradas[indx].name)\r\n            \r\n            let auth = 'Bearer '+state.jwt;\r\n            axios.delete(state.servidor+\"/upload/files/\"+id,\r\n            {\r\n                headers: {\r\n                'Authorization': auth\r\n            },})\r\n            .then(response => {\r\n                console.log(\"Borrando imagenes\", response)            \r\n            }).catch(error => {\r\n                alert(\"Error al borrar las imagenes\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n        \r\n        //Subiendo las imagenes seleccionadas\r\n        const formData = new FormData()\r\n        \r\n        //Se cargan en el fromData las nuevas imágenes cargadas a la publicación, si es que las hay, y los datos modificados\r\n        for(let i = 0; i<archivosNuevos.length; i++){\r\n            formData.append('files', archivosNuevos[i])\r\n        }\r\n        \r\n        if(archivosNuevos.length!==0){\r\n            formData.append('ref', 'user')\r\n            formData.append('refId', _id_)\r\n            formData.append('field', 'imagen_perfil')\r\n            formData.append('source', 'users-permissions')\r\n\r\n            let auth = 'Bearer '+state.jwt;\r\n\r\n            axios.post(\r\n                state.servidor+\"/upload\",\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                        'Authorization': auth\r\n                    },\r\n                })\r\n            .then(response => {\r\n                let usr = state.datosSesion\r\n                usr.imagen_perfil = response.data[0]\r\n\r\n                dispatch({type:\"setDatos\", value: usr})\r\n                dispatch({type:\"setJwt\", value: state.jwt})\r\n\r\n                localStorage.setItem('datosLocal', JSON.stringify({\r\n                    jwt: state.jwt,\r\n                    datosSesion: usr\r\n                }));\r\n            })\r\n            .catch(error => {\r\n                alert(\"Error al cargar las imágenes.\")\r\n                console.log(\"Error: \", error.response)\r\n            })\r\n        }\r\n    }\r\n    \r\n    //Funcion para enviar los datos, ya sea de modificación de perfil como de creación de una cuenta nueva\r\n    const enviarDatos = (e) =>{\r\n        e.preventDefault();        \r\n        if(datos.email.search('[.][a-z][a-z]')=== -1 || datos.email.search('[.].*[0-9].*')!== -1 ){\r\n            setmensaje(\"El email se encuentra escrito incorrectamente\");\r\n        }else{\r\n        if(registrar){\r\n            if(datos.contrasena!==datos.contrasena_rep){\r\n                setmensaje(\"Las contraseñas no coinciden\")\r\n            }else if(datos.contrasena.length < 8){\r\n                setmensaje(\"La contraseña debe tener al menos 8 caracteres\");\r\n            }else{\r\n                //Si se entra a acá, significa que se quiere crear un nuevo usuario\r\n                enviarPost()\r\n            }\r\n        }else{\r\n            if(datos.email.search('[.][a-z][a-z]')=== -1 || datos.email.search('[.].*[0-9].*')!== -1 ){\r\n                setmensaje(\"El email se encuentra escrito incorrectamente\");\r\n            }else{\r\n                //Si se entra a acá, significa que se quiere modificar el usuario                \r\n                enviarPut()\r\n            }\r\n        }}\r\n    \r\n    }\r\n\r\n    function enviarPut(){\r\n        let auth = 'Bearer '+state.jwt;\r\n        setcargando(true)\r\n        axios.put(\r\n            state.servidor+\"/users/\"+state.datosSesion.id\r\n            ,{\r\n                username: datos.usuario,\r\n                email: datos.email,\r\n                nombre: datos.nombre,\r\n                apellido: datos.apellido,\r\n                telefono: datos.telefono,\r\n                dni: datos.dni,\r\n                descripcion: datos.descripcion,\r\n                tipo: datos.tipo===2?2:soyProveedor?2:1\r\n            },\r\n            {\r\n                headers: {\r\n                    'Authorization': auth\r\n                },\r\n            }\r\n        )\r\n        .then(response => {\r\n            dispatch({type:\"setDatos\", value: response.data})\r\n            dispatch({type:\"setJwt\", value: state.jwt})\r\n\r\n            subirImagen(state.datosSesion.id)\r\n\r\n            localStorage.setItem('datosLocal', JSON.stringify({\r\n                jwt: state.jwt,\r\n                datosSesion: response.data\r\n            }));\r\n\r\n            setcargando(false)\r\n            setmensajeAlerta(\"¡Cambios guardados!\")\r\n            setabrir(true)\r\n            setTimeout(() => {  history.push(\"/\"); }, 3000);\r\n        })\r\n        .catch(error => {\r\n            let err = JSON.parse(error.response.request.response).message[0].messages[0].id;\r\n            console.log(\"error: \",error.response)\r\n            if(err===\"Auth.form.error.email.taken\")\r\n                setmensaje('El email ya está en uso.');\r\n            else if(err===\"Auth.form.error.username.taken\")\r\n                setmensaje('El usuario ya está en uso.');\r\n            else{\r\n                setmensaje(err)\r\n            }\r\n            setcargando(false)\r\n        })\r\n    }\r\n\r\n    function enviarPost(){\r\n        setcargando(true)\r\n        axios\r\n        .post(state.servidor+\"/auth/local/register\", {\r\n            username: datos.usuario,\r\n            email: datos.email,\r\n            password: datos.contrasena,\r\n            nombre: datos.nombre,\r\n            apellido: datos.apellido,\r\n            telefono: datos.telefono,\r\n            dni: datos.dni,\r\n            descripcion: datos.descripcion,\r\n            tipo: soyProveedor?2:1,\r\n            confirmed: false,\r\n            estado: false,\r\n            mostrar_telefono: false,\r\n            identidad_verificada: false,\r\n            espera_verificacion: false,\r\n            bloqueado: false\r\n        })\r\n        .then(response => {\r\n            \r\n            subirImagen(response.data.user.id)\r\n            dispatch({type:\"setDatos\", value: response.data.user})\r\n            dispatch({type:\"setJwt\", value: response.data.jwt})                        \r\n            \r\n            localStorage.setItem('datosLocal', JSON.stringify({\r\n                jwt: response.data.jwt,\r\n                datosSesion: response.data.user\r\n            }));\r\n            \r\n            setcargando(false)\r\n            setmensajeAlerta(\"Usuario creado. ¡Bienvenido a Servia!\")\r\n            setabrir(true)\r\n            setTimeout(() => {  history.push(\"/\"); }, 6000);\r\n        })\r\n        .catch(error => {\r\n            // Ocurrió un error\r\n            let err = JSON.parse(error.response.request.response).message[0].messages[0].id;\r\n            if(err===\"Auth.form.error.email.taken\")\r\n                setmensaje('El email ya está en uso.');\r\n            else if(err===\"Auth.form.error.username.taken\")\r\n                setmensaje('El usuario ya está en uso.');\r\n            else\r\n                setmensaje(err)\r\n\r\n            setcargando(false)\r\n        });\r\n    }\r\n\r\n    /*Cuando se renderiza la pagina debemos saber si ha sido invocada para registrar un usuario o\r\n    para modificar datos  */\r\n    useEffect(()=>{\r\n        if(!registrar){\r\n            settituloPagina(\"Modificar mi perfil\")\r\n        }else{\r\n            settituloPagina(\"Registrar usuario\")\r\n        }\r\n    },[])\r\n    \r\n    return (\r\n        <div className={classes.fondo}>\r\n            <Paper elevation={3} >\r\n                <form onSubmit={enviarDatos}>\r\n                    <Grid className={classes.gridRegistro} spacing={1} container justify=\"space-between\" alignItems=\"center\">\r\n                        <Grid item xs={12}>\r\n                            <Typography variant=\"h5\" component=\"h1\" align=\"center\" className={classes.inputAncho}>\r\n                                {tituloPagina}\r\n                            </Typography>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            type=\"text\"\r\n                            name=\"nombre\"\r\n                            value={datos.nombre}\r\n                            onChange={cambiarInput}\r\n                            id=\"filled-basic\"\r\n                            label=\"Nombre\"\r\n                            variant=\"filled\"\r\n                            required/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            type=\"text\"\r\n                            name=\"apellido\"\r\n                            value={datos.apellido}\r\n                            onChange={cambiarInput}\r\n                            id=\"filled-basic\"\r\n                            label=\"Apellido\"\r\n                            variant=\"filled\"\r\n                            required/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <SubirImagen cantidad={1} setcargando={setcargando} funcionSetImagen={funcionSetImagen} ids={imagenes}/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            name=\"email\"\r\n                            value={datos.email}\r\n                            onChange={cambiarInput}\r\n                            id=\"filled-basic\"\r\n                            label=\"Correo electrónico\"\r\n                            variant=\"filled\"\r\n                            type=\"email\"\r\n                            required />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            name=\"usuario\"\r\n                            value={datos.usuario}\r\n                            onChange={cambiarInput}\r\n                            id=\"filled-basic\"\r\n                            label=\"Usuario\"\r\n                            variant=\"filled\"\r\n                            required />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            type=\"number\"\r\n                            name=\"telefono\"\r\n                            value={datos.telefono}\r\n                            onChange={cambiarInput}\r\n                            id=\"filled-basic\"\r\n                            label=\"Telefono\"\r\n                            variant=\"filled\"/>\r\n                        </Grid>\r\n                        <Divider/>\r\n                        <Hidden xlDown={!registrar}>\r\n                            <Grid item xs={6}>\r\n                                <TextField\r\n                                    required={registrar}\r\n                                    name=\"contrasena\"\r\n                                    value={datos.contrasena}\r\n                                    onChange={cambiarInput}\r\n                                    type=\"password\"\r\n                                    label=\"Contraseña\"\r\n                                    variant=\"filled\"\r\n                                    className={classes.inputAncho} \r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={6}> \r\n                                <TextField\r\n                                    required={registrar}\r\n                                    name=\"contrasena_rep\"\r\n                                    value={datos.contrasena_rep}\r\n                                    onChange={cambiarInput}\r\n                                    type=\"password\"\r\n                                    label=\"Repetir contraseña\"\r\n                                    variant=\"filled\"\r\n                                    className={classes.inputAncho}\r\n                                />\r\n                            </Grid>\r\n                        </Hidden>\r\n                        \r\n                        <Hidden xlDown={mensaje===\"\"}>\r\n                            <Grid item xs={12}>\r\n                                <Typography color=\"error\">\r\n                                    {mensaje}\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Hidden>\r\n\r\n                        <Grid item xs={12}>\r\n                            <Hidden xlDown={state.datosSesion.tipo===2}>\r\n                                <OkProveedor soyProveedor={soyProveedor} setSoyProveedor={setSoyProveedor}/>\r\n                            </Hidden>\r\n                        </Grid>\r\n                        \r\n                        <div className={classes.inputAncho} hidden={!cargando}>\r\n                            <LinearProgress />\r\n                        </div>\r\n                        <Grid item xs={12}>\r\n                            <Button\r\n                            type=\"submit\"\r\n                            className={classes.inputAncho}\r\n                            size=\"large\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            disabled={cargando}>\r\n                            {registrar?\"Registrar Usuario\":\"Guardar cambios\"}\r\n                            </Button>\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={12} hidden={!registrar}>\r\n                            <InicioSesion mensaje={\"¿Ya tenés una cuenta?\"}/>\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n                <AlertaMensaje mensaje={mensajeAlerta} abrir={abrir} setabrir={setabrir}/>\r\n            </Paper>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction OkProveedor({setSoyProveedor, soyProveedor}) {\r\n    const manejarCambio = (event) => {\r\n        setSoyProveedor(!soyProveedor);\r\n    };\r\n\r\n    return (\r\n        <FormControlLabel\r\n            control={<Checkbox checked={soyProveedor} onChange={manejarCambio} name=\"checkedB\" color=\"primary\"/>}\r\n            label=\"Soy proveedor de servicios\"\r\n        />\r\n    );\r\n}","import React,{useState, useContext, useEffect} from 'react';\r\nimport {useHistory } from 'react-router-dom'\r\n\r\n//Material-UI\r\nimport {Hidden, Typography, TextField, FormControl, Button, Paper, Grid, Checkbox, FormControlLabel} from '@material-ui/core/';\r\nimport BarraDeCarga from '@material-ui/core/LinearProgress'\r\n//Componentes\r\nimport SubirImagenes from '../SubirImagen.js';\r\nimport CategoriaSeleccion from '../CategoriaSeleccion.js';\r\nimport Estilos from '../Estilos.js';\r\nimport SeleccionarServicio from '../SeleccionarServicio.js';\r\n\r\nimport axios from 'axios';\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function Registrar() {\r\n    const classes = Estilos();\r\n    let history = useHistory();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [cargando, setcargando] = useState(false)\r\n    const [controlGuardar, setcontrolGuardar] = useState(false)\r\n    const [categorias, setcategorias] = useState([])\r\n    const [serviciosSeleccionados, setserviciosSeleccionados] = useState([])\r\n    const [mensaje, setmensaje] = useState(false)\r\n    const [abrir, setabrir] = useState(false)\r\n\r\n    const [datos, setdatos] = useState({\r\n        descripcion: \"\",\r\n        estado: false,\r\n        mostrar_telefono: false,\r\n        pasarImagenes: [] \r\n    });\r\n\r\n    const [imagenes, setimagenes] = useState([])\r\n    const [imagenesBorradas, setimagenesBorradas] = useState([]);\r\n    const [imagenesSubidas, setimagenesSubidas] = useState([]);\r\n\r\n    const funcionSetImagen = (file, cantidad, tipo, subidas) =>{\r\n        setimagenesSubidas(subidas)\r\n        //Si es 0, entonces se agrega la imagen a su respectiva variable, si es 1 entonces se desea eliminar\r\n        if(tipo===0){\r\n            setimagenes([...imagenes, file])\r\n        }else{\r\n            setimagenesBorradas(img => [...imagenesBorradas, file])\r\n            let aux = imagenes.filter(f => f.file !== file)\r\n            setimagenes(aux)\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(state.jwt!==\"\" || state.publico===true){\r\n            //Asignamos el estado a las variables de los componentes\r\n            let pasar = state.datosSesion.imagenes_proveedor.map((item)=>(item.id))\r\n            setdatos({\r\n                descripcion: state.datosSesion.descripcion,\r\n                estado: state.datosSesion.estado,\r\n                mostrar_telefono: state.datosSesion.mostrar_telefono,\r\n                pasarImagenes: pasar\r\n            })\r\n\r\n            //Buscamos las categorias para cargarlas en los checkboxes\r\n            axios.get(\r\n                state.servidor+\"/api/categorias\"\r\n            )\r\n            .then(response => {\r\n                response.data.map((item)=>{\r\n                    item[\"seleccionado\"] = false\r\n\r\n                    item.servicios.map((itemserv) =>{\r\n                        itemserv[\"seleccionado\"] = false\r\n                    })\r\n\r\n                    if(state.datosSesion.servicios.length!==0){\r\n                        response.data.map((categoria) =>{\r\n                            categoria.servicios.map((servicio) =>{\r\n\r\n                                state.datosSesion.servicios.map((servicioSesion)=>{\r\n                                    if(servicioSesion.categoria === categoria.id){\r\n                                        categoria.seleccionado = true\r\n                                    }\r\n\r\n                                    if(servicioSesion.id===servicio.id){\r\n                                        servicio.seleccionado = true\r\n                                    }\r\n                                })\r\n\r\n                            })\r\n                        })\r\n                    }                \r\n                })\r\n                setcategorias(response.data)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al cargar las categorías.\")\r\n                console.log(error.response)\r\n            }) \r\n        }\r\n    },[state.jwt, state.publico])\r\n\r\n    const cambiarCheckbox = (e) =>{  \r\n        if(!controlGuardar)\r\n            setcontrolGuardar(true)\r\n        \r\n        let valor = e.target.checked;\r\n        let campo = e.target.name;\r\n        setdatos({\r\n            ...datos,\r\n            [campo]: valor\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(\"img nuevas:\", imagenesSubidas)\r\n    }, [imagenesSubidas])\r\n\r\n    const guardarDatos = () => {\r\n        let aux = [];\r\n        categorias.map((categoria)=>{\r\n            if(categoria.seleccionado){\r\n                categoria.servicios.map((servicio)=>{\r\n                    if(servicio.seleccionado){\r\n                        aux.push(servicio.id)\r\n                        if(!controlGuardar){\r\n                            setcontrolGuardar(true)\r\n                        }\r\n                        console.log(\"control\", controlGuardar)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n\r\n        if(aux.length!==0){\r\n            setmensaje(false)\r\n        }else{\r\n            setmensaje(true)\r\n        }\r\n\r\n        setserviciosSeleccionados(aux)\r\n    }\r\n    \r\n    function subirImagenes(_id_){\r\n        let archivosNuevos = []\r\n        //archivosNuevos es el arreglo que contiene los archivos que han sido agregados y no los que ya han sido subidos al servidor\r\n        imagenes.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(!iguales){\r\n                archivosNuevos.push(imagen)\r\n            }\r\n        })\r\n        console.log(\"imagenes perfil:\", imagenes)\r\n        console.log(\"nuevos:\", archivosNuevos)\r\n\r\n        //archivosBorrados es el arreglo que contiene los archivos que han sido subidos al servidor pero que han sido eliminados en el frontend\r\n        let archivosBorrados = []\r\n        imagenesBorradas.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(iguales){\r\n                archivosBorrados.push(imagen)\r\n            }\r\n        })\r\n        console.log(\"borrados:\", archivosBorrados)\r\n\r\n        //Si existen elementos dentro del arreglo imagenesBorradas, significa que se quieren borrar imágenes de la publicación\r\n        for(let indx = 0; indx < imagenesBorradas.length; indx++){\r\n            let id = Number(imagenesBorradas[indx].name)\r\n            \r\n            let auth = 'Bearer '+state.jwt;\r\n            axios.delete(state.servidor+\"/upload/files/\"+id,\r\n            {\r\n                headers: {\r\n                'Authorization': auth\r\n            },})\r\n            .then(response => {\r\n                console.log(\"Borrando imagenes\", response)            \r\n            }).catch(error => {\r\n                alert(\"Error al borrar las imagenes\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n        \r\n        //Subiendo las imagenes seleccionadas\r\n        const formData = new FormData()\r\n        \r\n        //Se cargan en el fromData las nuevas imágenes cargadas a la publicación, si es que las hay, y los datos modificados\r\n        for(let i = 0; i<archivosNuevos.length; i++){\r\n            formData.append('files', archivosNuevos[i])\r\n        }\r\n        \r\n        if(archivosNuevos.length!==0){\r\n            formData.append('ref', 'user')\r\n            formData.append('refId', _id_)\r\n            formData.append('field', 'imagenes_proveedor')\r\n            formData.append('source', 'users-permissions')\r\n\r\n            let auth = 'Bearer '+state.jwt;\r\n\r\n            axios.post(\r\n                state.servidor+\"/upload\",\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                        'Authorization': auth\r\n                    },\r\n                })\r\n            .then(response => {\r\n                console.log(\"Respuesta imagen: \",response.data)\r\n                let usr = state.datosSesion\r\n                usr.imagenes_proveedor = response.data\r\n\r\n                dispatch({type:\"setDatos\", value: usr})\r\n                dispatch({type:\"setJwt\", value: state.jwt})\r\n\r\n                localStorage.setItem('datosLocal', JSON.stringify({\r\n                    jwt: state.jwt,\r\n                    datosSesion: usr\r\n                }));\r\n            })\r\n            .catch(error => {\r\n                alert(\"Error al cargar las imágenes.\")\r\n                console.log(\"Error: \", error.response)\r\n            })\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(serviciosSeleccionados.length!==0){\r\n            let auth = 'Bearer '+state.jwt;\r\n\r\n            setcargando(true)\r\n            subirImagenes(state.datosSesion.id)\r\n\r\n            console.log(\"Se envian los datos\")\r\n            axios.put(\r\n                state.servidor+\"/users/\"+state.datosSesion.id\r\n                ,{\r\n                    descripcion: datos.descripcion,\r\n                    estado: datos.estado,\r\n                    mostrar_telefono: datos.mostrar_telefono,\r\n                    servicios : serviciosSeleccionados\r\n                },\r\n                {\r\n                    headers: {\r\n                        'Authorization': auth\r\n                    },\r\n                }\r\n            )\r\n            .then(response => {\r\n                console.log(\"Respuesta cambio: \",response.data)\r\n                \r\n                let datos_ayuda = response.data\r\n\r\n                dispatch({type:\"setDatos\", value: response.data})\r\n                localStorage.setItem('datosLocal', JSON.stringify({\r\n                    jwt: state.jwt,\r\n                    datosSesion: datos_ayuda\r\n                }));\r\n\r\n                console.log(\"Sus datos se han modificado correctamente!\")\r\n                setabrir(true)\r\n                setcargando(false)\r\n                //history.push(\"/\")\r\n            })\r\n            .catch(error => {\r\n                console.log(error.response)\r\n                alert(\"Ha ocurrido un error al guardar los datos\")\r\n                setcargando(false)\r\n            })\r\n        }\r\n    },[serviciosSeleccionados])\r\n    //-----------------------------------------------------------------------------------------------------------------------------------------------------\r\n    \r\n    return (\r\n        <div className= {classes.fondo}>\r\n            <Paper elevation={3} className= {classes.pantallaMedia}>\r\n                <FormControl color=\"primary\" fullWidth>\r\n                    <Grid className={classes.filaPublicacion} container direction=\"row\" justify=\"space-around\" alignItems=\"center\" spacing={1}>\r\n                        <Grid item xs={12}>\r\n                            <Typography variant=\"h5\" component=\"h1\" align=\"center\">\r\n                                Modificar mis datos de proveedor\r\n                            </Typography>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>    \r\n                            <FormControlLabel\r\n                                className={classes.inputAncho}\r\n                                control={<Checkbox checked={datos.estado} name=\"estado\" onChange={cambiarCheckbox}/>}\r\n                                label=\"Pausar mis servicios\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>    \r\n                            <FormControlLabel\r\n                                className={classes.inputAncho}\r\n                                control={<Checkbox name=\"mostrar_telefono\" checked={datos.mostrar_telefono} onChange={cambiarCheckbox}/>}\r\n                                label=\"Mostrar mi número de teléfono\"\r\n                            />\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            onChange={(e)=>{\r\n                                setdatos({\r\n                                ...datos,\r\n                                descripcion: e.target.value\r\n                                })\r\n                                if(!controlGuardar)\r\n                                    setcontrolGuardar(true)\r\n                            }}\r\n                            name=\"descripcion\"\r\n                            value={datos.descripcion}\r\n                            id=\"filled-basic\"\r\n                            label=\"Descripción\"\r\n                            multiline\r\n                            variant=\"filled\"/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classes.inputAncho}>\r\n                            <SubirImagenes setcargando={setcargando} cantidad={10} funcionSetImagen={funcionSetImagen} ids={datos.pasarImagenes}/>\r\n                        </Grid>\r\n                        \r\n                        <AlertaMensaje mensaje=\"¡Tus datos se han guardado correctamente!\" abrir={abrir} setabrir={setabrir}/>\r\n\r\n                        <Grid item xs={12} >\r\n                            <Typography variant=\"h6\" component=\"h3\" align=\"left\" className={classes.alinearInputs}>\r\n                                Selecciona los servicios que ofreces\r\n                            </Typography>\r\n                        </Grid>\r\n                        \r\n                        \r\n                        {\r\n                            categorias.map((categoria, i)=>(\r\n                                <Grid key={i} item xs={12}>\r\n                                    <Grid container justify=\"flex-start\">\r\n                                        <FormControlLabel\r\n                                            control={\r\n                                                <Checkbox\r\n                                                    checked={categoria.seleccionado}\r\n                                                    onChange={(e)=>{setcategorias(categorias.map((cat, j)=>{\r\n                                                        if(i===j){\r\n                                                            cat.seleccionado = e.target.checked\r\n                                                        }\r\n                                                        return cat\r\n                                                    }))}}\r\n                                                />}\r\n                                            label={categoria.nombre}\r\n                                        />\r\n                                    </Grid>\r\n                                    <Hidden xlDown={!categoria.seleccionado}>\r\n                                        <Grid container spacing={2} justify=\"space-around\">    \r\n                                            {\r\n                                                categoria.servicios.map((servicio,k) => (\r\n                                                <Grid item xs={6} sm={4} md={3} lg={2} key={k}>\r\n                                                    <SeleccionarServicio\r\n                                                    servicio={servicio} \r\n                                                    agregarSeleccionado={(valor)=>{\r\n                                                        servicio.seleccionado = valor\r\n                                                        //Asignamos los valores \"true\" a aquellos servicios que son seleccionados\r\n                                                        setcategorias(categorias.map((cat, j)=>{\r\n                                                            if(i===j){\r\n                                                                cat.servicios[k] = servicio\r\n                                                            }\r\n                                                            return cat\r\n                                                        }))\r\n                                                    }}/>\r\n                                                </Grid>\r\n                                                ))\r\n                                            }\r\n                                        </Grid>\r\n                                    </Hidden>\r\n                                </Grid>\r\n                            ))\r\n                        }\r\n                        \r\n                        <Hidden xlDown={!mensaje || cargando}>\r\n                            <Grid item xs={12} align=\"center\">\r\n                                <Typography color=\"error\">\r\n                                    Debe seleccionar al menos un servicio.\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Hidden>\r\n\r\n                        <div className={classes.inputAncho} hidden={!cargando}>\r\n                            <BarraDeCarga/>\r\n                        </div>\r\n\r\n                        <Grid item xs={6} align=\"center\">\r\n                            <Button onClick={guardarDatos} disabled={cargando} size=\"large\" variant=\"contained\" color=\"primary\">Guardar</Button>\r\n                        </Grid>\r\n                        <Grid item xs={6} align=\"center\">\r\n                            <Button onClick={()=>{history.push(\"/\")}} size=\"large\" variant=\"contained\" color=\"secondary\">Cancelar</Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </FormControl>\r\n            </Paper>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n","import React, {useEffect, useState, useContext} from 'react';\r\nimport {useParams} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nimport {Grid, Container} from '@material-ui/core/';\r\nimport ProveedorInfo from '../Publicacion/ProveedorInfo.js';\r\nimport PublicacionInfo from '../Publicacion/PublicacionInfo.js';\r\nimport {BotonContratar} from '../ContactarProveedor.js'\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado' \r\nexport default function MiPerfil() {\r\n    const [datosPagina, setdatosPagina] = useState({\r\n        descripcion:\"\",\r\n        titulo:\"\",\r\n        identidad_verificada: false,\r\n        telefono: \"\",\r\n        mostrar_telefono: false,\r\n        servicios: [],\r\n        imagenes: [],\r\n        bloqueado: false,\r\n        imagen_perfil: \"\",\r\n        //Datos de publicación\r\n        precio_estimado: \"perfil\",\r\n        pausado: false,\r\n        tipo: false,\r\n        categoria:\"\",\r\n        servicio:\"\",\r\n        estrella: 0,\r\n    })\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    let { id } = useParams();\r\n    \r\n    useEffect(()=>{\r\n        if (state.jwt!==\"\" || state.publico===true){\r\n            let auth = state.jwt!==\"\"?'Bearer '+state.jwt:\"\";\r\n            axios.get(\r\n            state.servidor+\"/users/\"+id,{\r\n                headers: {\r\n                'Authorization': auth\r\n                },\r\n            })\r\n            .then(response => {\r\n                setdatosPagina({\r\n                    id: response.data.id,\r\n                    descripcion: response.data.descripcion,\r\n                    titulo: `${response.data.nombre} ${response.data.apellido}`,\r\n                    identidad_verificada: response.data.identidad_verificada,\r\n                    telefono: response.data.telefono,\r\n                    mostrar_telefono: response.data.mostrar_telefono,\r\n                    servicios: response.data.servicios,\r\n                    imagenes: response.data.imagenes_proveedor,\r\n                    bloqueado: response.data.bloqueado,\r\n                    pausado:  response.data.estado,\r\n                    precio_estimado: \"perfil\",\r\n                    imagen_perfil: response.data.imagen_perfil===null?null:response.data.imagen_perfil.url\r\n                })\r\n                console.log(response.data)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al buscar el usuario.\")\r\n                console.log(error.response)\r\n            }) \r\n        }\r\n    },[state.jwt, state.publico])\r\n\r\n    return (\r\n        <Container>\r\n            <Grid container direction=\"row\" justify=\"center\" alignItems=\"stretch\">\r\n                <Grid item md={8} xs={12} >\r\n                    <PublicacionInfo esDePerfil={true} datosPagina={datosPagina}/>\r\n                </Grid> \r\n                <Grid item md={4} xs={12} >\r\n                    <ProveedorInfo esDePerfil={true} datosPerfil={datosPagina}/>\r\n                </Grid>\r\n                {\r\n                    //Si no es el proveedor que se está viendo, tiene servicios para ofrecer y el proveedor no está bloqueado ni pausado, ofrecemos la posibilidad de contactarse\r\n                    datosPagina.id!==state.datosSesion.id &&\r\n                    datosPagina.servicios.length!==0 &&\r\n                    !datosPagina.pausado &&\r\n                    !datosPagina.bloqueado &&\r\n                    <BotonContratar\r\n                    fijo={true}\r\n                    esDePerfil={true}\r\n                    datos={{idS: null, idP: datosPagina.id, nombre: datosPagina.titulo, servicios: datosPagina.servicios}}/>\r\n                }\r\n            </Grid>\r\n        </Container>\r\n    )\r\n}\r\n\r\n","import React,{useState, useEffect, useContext} from 'react';\r\nimport axios from 'axios'\r\nimport {useHistory } from 'react-router-dom'\r\n\r\nimport {Typography, TextField, FormControl, Button, Paper, Grid, Select, MenuItem, InputLabel, Hidden} from '@material-ui/core';\r\nimport SubirImagenes from '../SubirImagen.js';\r\nimport {useParams} from 'react-router-dom'\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\n\r\nimport Estilos from '../Estilos.js';\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function CrearPublicacion({tipoPublicacion, modificar}) {\r\n    const classes = Estilos();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    let { id } = useParams();\r\n    let history = useHistory();\r\n    const [precioPresupuesto, setPrecioPresupuesto] = useState(\"\");\r\n    const [titulo, setTitulo] = useState(\"\");\r\n    const [categorias, setcategorias] = useState([]);\r\n    const [servicios, setservicios] = useState([]);\r\n    const [cargando, setcargando] = useState(false);\r\n    const [imagenes, setimagenes] = useState([]);\r\n    const [abrir, setabrir] = useState(false);\r\n    const [mensaje, setmensaje] = useState(\"\");\r\n\r\n    const [imagenesSubidas, setimagenesSubidas] = useState([]);\r\n    const [imagenesBorradas, setimagenesBorradas] = useState([]);\r\n\r\n    //Datos de la pagina\r\n    const [datosPagina, setdatosPagina] = useState({\r\n        titulo:\"\",\r\n        precio_estimado: \"\",\r\n        Categoria_id: {nombre: \"\"},\r\n        Servicio_id: {nombre:\"\"},\r\n        descripcion:\"\",\r\n        imagenes:[],\r\n        pausado: false,\r\n        bloqueado: false\r\n    });\r\n\r\n    useEffect(()=>{\r\n        //Dependiendo de si se quiere crear una publicación o solicitar un servicio, se muestra la pantalla correspodiente\r\n        if(tipoPublicacion){\r\n            setTitulo(modificar?\"Modificar publicación\":\"Crear publicación\");\r\n            setPrecioPresupuesto(\"Precio estimado\");\r\n        }else{\r\n            setTitulo(modificar?\"Modificar solicitud de servicio\":\"Solicitar servicio\");\r\n            setPrecioPresupuesto(\"Presupuesto\");\r\n        }\r\n        if (state.jwt!==\"\" || state.publico===true){\r\n            setcargando(true)\r\n            axios.get(state.servidor+\"/api/categorias\")\r\n            .then(response => {\r\n                setcategorias(response.data)\r\n                setcargando(false)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al cargar las categorías.\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n    },[state.jwt, state.publico, tipoPublicacion, modificar])\r\n\r\n    useEffect(()=>{\r\n        if(modificar && categorias.length!==0){\r\n            setcargando(true)\r\n            axios.get(state.servidor+\"/api/solicitud/\"+id)\r\n            .then(response => {             \r\n                if (state.datosSesion.id===response.data.Usuario_id.id){\r\n                    response.data[\"imagenes\"] = response.data.imagenes.map((imagen)=>(imagen.id))\r\n                    setdatosPagina(response.data)\r\n                    if (tipoPublicacion)\r\n                        categorias.map(cat =>{\r\n                            if(cat.id===response.data.Servicio_id.categoria){\r\n                                setservicios(cat.servicios)\r\n                            }\r\n                        })\r\n                }else{\r\n                    history.push(\"/\")\r\n                }\r\n                setcargando(false)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al cargar la solicitud.\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n    },[categorias])\r\n    \r\n    //Funcion para captar los cambios en los inputs \r\n    function modificarInput(e){\r\n        setdatosPagina({\r\n            ...datosPagina,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n    \r\n    const funcionSetImagen = (file, cantidad, tipo, subidas) =>{\r\n        setimagenesSubidas(subidas)\r\n        //Si es 0, entonces se agrega la imagen a su respectiva variable, si es 1 entonces se desea eliminar\r\n        if(tipo===0){\r\n            setimagenes([...imagenes, file])\r\n        }else{\r\n            setimagenesBorradas(img => [...imagenesBorradas, file])\r\n            let aux = imagenes.filter(f => f !== file)\r\n            setimagenes(aux)\r\n        }\r\n        \r\n        setimagenesSubidas(subidas)\r\n    }\r\n\r\n    const guardarDatos = (e) => {\r\n        e.preventDefault()\r\n        setcargando(true)\r\n        const formData = new FormData()\r\n\r\n        let archivosNuevos = []\r\n        \r\n        //archivosNuevos es el arreglo que contiene los archivos que han sido agregados y no los que ya han sido subidos al servidor\r\n        imagenes.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(!iguales){\r\n                archivosNuevos.push(imagen)\r\n            }\r\n        })\r\n\r\n        //archivosBorrados es el arreglo que contiene los archivos que han sido subidos al servidor pero que han sido eliminados en el frontend\r\n        let archivosBorrados = []\r\n        imagenesBorradas.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n\r\n            if(iguales){\r\n                archivosBorrados.push(imagen)\r\n            }\r\n        })\r\n        \r\n        //Si existen elementos dentro del arreglo imagenesBorradas, significa que se quieren borrar imágenes de la publicación\r\n        for(let indx = 0; indx < imagenesBorradas.length; indx++){\r\n            let id = Number(imagenesBorradas[indx].name)\r\n            \r\n            let auth = 'Bearer '+state.jwt;\r\n            axios.delete(state.servidor+\"/upload/files/\"+id,\r\n            {\r\n                headers: {\r\n                'Authorization': auth\r\n            },})\r\n            .then(response => {\r\n                console.log(\"Borrando imagenes\", response)            \r\n            }).catch(error => {\r\n                alert(\"Error al borrar las imagenes\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n\r\n        //Se cargan en el fromData las nuevas imágenes cargadas a la publicación, si es que las hay, y los datos modificados\r\n        for(let i = 0; i<archivosNuevos.length; i++){\r\n            formData.append('files.imagenes', archivosNuevos[i])\r\n        }\r\n        formData.append('data', JSON.stringify({\r\n            titulo: datosPagina.titulo,\r\n            precio_estimado: datosPagina.precio_estimado===\"\"?0:datosPagina.precio_estimado,\r\n            descripcion: datosPagina.descripcion,\r\n            Categoria_id: datosPagina.Categoria_id.id,\r\n            Servicio_id: tipoPublicacion?datosPagina.Servicio_id.id:null,\r\n            Usuario_id: state.datosSesion.id,\r\n            pausado: false,\r\n            tipo: tipoPublicacion\r\n        }))\r\n\r\n\r\n        let auth = 'Bearer '+state.jwt;\r\n        //Si se está creando una publicación, se procede a la creación del la entrada en la tabla correspondiente.\r\n        if (!modificar){\r\n            axios.post(\r\n                state.servidor+\"/api/solicitud\",\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                        'Authorization': auth\r\n                    },\r\n            })\r\n            .then(response => {\r\n                console.log(\"Respuesta subir solicitud: \",response.data)\r\n                let estaServicio = state.datosSesion.servicios.some(servicio=>(servicio.id===datosPagina.Servicio_id.id))\r\n\r\n                if (tipoPublicacion && !estaServicio){\r\n                    let servicios_id = state.datosSesion.servicios.map(servicio_=>(servicio_.id))\r\n                    servicios_id.push(datosPagina.Servicio_id.id)\r\n\r\n                    axios.put(\r\n                        state.servidor+\"/users/\"+state.datosSesion.id,{\r\n                            servicios: servicios_id\r\n                        },\r\n                        {headers: {'Authorization': auth},\r\n                    })\r\n                    .then(response => {\r\n                        console.log(\"Respuesta cambio: \",response.data)\r\n                        setcargando(false)\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error.response)\r\n                        alert(\"Ha ocurrido un error al guardar los datos\")\r\n                        setcargando(false)\r\n                    })\r\n                }\r\n                setcargando(false)\r\n                setmensaje(\"¡Publicación creada!\")\r\n                setabrir(true)\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error, no se ha podido crear la solicitud.\", error.response)\r\n            })\r\n        //Si se desea modificar una publicación, se envía la petición con los nuevos datos\r\n        }else{\r\n            axios.put(\r\n                state.servidor+\"/api/solicitud/\"+id,\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                        'Authorization': auth\r\n                },\r\n            })\r\n            .then(response => {\r\n                console.log(\"Respuesta modificar solicitud: \",response.data)\r\n                if (response.data.bloqueado)\r\n                    modificarBloqueadoReporte()\r\n                setcargando(false)\r\n                setmensaje(\"¡Publicación modificada!\")\r\n                setabrir(true)\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error, no se ha podido modificar la solicitud.\", error.response)\r\n            })\r\n        }\r\n    }\r\n\r\n    function modificarBloqueadoReporte(){\r\n        let auth = 'Bearer '+state.jwt;\r\n\r\n        axios.get(\r\n            state.servidor+\"/api/reportes?Solicitud_id=\"+datosPagina.id,\r\n            {\r\n                headers: {\r\n                    'Authorization': auth\r\n            },\r\n        })\r\n        .then(response => {\r\n            console.log(\"Set bloqueado false: \",response.data)\r\n            let reportes_ = response.data.filter((reporte)=>reporte.estado === 1)\r\n\r\n            reportes_.map(report => {\r\n                axios.put(\r\n                    state.servidor+\"/api/reportes/\"+report.id,{\r\n                        estado: -1\r\n                    },{\r\n                        headers: {\r\n                            'Authorization': auth\r\n                    },\r\n                })\r\n                .then(response => {\r\n                    console.log(\"estado -1: \",response.data)                    \r\n                })\r\n                .catch(error => {\r\n                    console.log(\"1.\", error.response)\r\n                })\r\n            })\r\n        })\r\n        .catch(error => {\r\n            console.log(\"2.\", error.response)\r\n        })\r\n    }\r\n\r\n    //Al seleccionar una categoría, se procede a cargarlo en el campo correspondiente y setear los servicios que se deben mostrar\r\n    function seleccionarCategoria(e){\r\n        let categoriaSeleccionada = categorias.filter((cat) => cat.nombre === e.target.value)\r\n        setservicios(categoriaSeleccionada[0].servicios)\r\n        setdatosPagina({\r\n            ...datosPagina,\r\n            Categoria_id: categoriaSeleccionada[0],\r\n            Servicio_id: {nombre:\"\"}\r\n        })\r\n    }\r\n\r\n    function seleccionarServicio(e){\r\n        let servicioSeleccionado\r\n        categorias.map((cat) =>{\r\n            if(cat.nombre===datosPagina.Categoria_id.nombre){\r\n                servicioSeleccionado = cat.servicios.filter((serv) => serv.nombre === e.target.value)\r\n            }\r\n        })\r\n        console.log(servicioSeleccionado[0])\r\n        setdatosPagina({\r\n            ...datosPagina,\r\n            Servicio_id: servicioSeleccionado[0]   \r\n        })\r\n    }\r\n\r\n    function cancelar(){\r\n        history.push(\"/\")    \r\n    }\r\n\r\n    return (\r\n    <div className={classes.fondo} >\r\n        <Paper elevation={3} className=\"Fondo\">\r\n            <form onSubmit={guardarDatos}>\r\n                <FormControl className={classes.padding2} color=\"primary\" fullWidth>\r\n                    <Grid className={classes.pantallaMedia} container direction=\"row\" justify=\"center\" alignItems=\"center\" spacing={1}>\r\n                        <Grid item xs={12}>\r\n                            <Typography variant=\"h5\" component=\"h1\" align=\"center\">\r\n                                {titulo}\r\n                            </Typography>\r\n                        </Grid>\r\n                        \r\n                        <Grid item sm={8} xs={12}>\r\n                            <TextField\r\n                            onChange={modificarInput}\r\n                            value={datosPagina.titulo}\r\n                            name=\"titulo\"\r\n                            className={classes.inputAncho}\r\n                            id=\"filled-basic\"\r\n                            label=\"Título de la publicación\"\r\n                            variant=\"filled\"\r\n                            maxLength={50}\r\n                            required/>\r\n                        </Grid>\r\n\r\n                        <Grid item sm={4} xs={12}>\r\n                            <TextField\r\n                            onChange={modificarInput}\r\n                            value={datosPagina.precio_estimado}\r\n                            name=\"precio_estimado\"\r\n                            type=\"number\"\r\n                            className={classes.inputAncho}\r\n                            id=\"formatted-numberformat-input\"\r\n                            label={precioPresupuesto}\r\n                            variant=\"filled\"/>\r\n                        </Grid>\r\n\r\n                        <Grid item sm={6} xs={12}>\r\n                            <FormControl className={classes.inputAncho}>\r\n                                <InputLabel id=\"Categoria_id\" variant=\"filled\">Categoría</InputLabel>\r\n                                <Select\r\n                                    value={datosPagina.Categoria_id.nombre}\r\n                                    name=\"Categoria_id\"\r\n                                    onChange={seleccionarCategoria}\r\n                                    id=\"Categoria_id\"\r\n                                    labelId=\"Categoria_id\"\r\n                                    variant=\"filled\"\r\n                                    label=\"Categoría\"\r\n                                    required>\r\n                                    {\r\n                                        categorias.map((categoria, i)=>(\r\n                                            <MenuItem key={i} value={categoria.nombre}>{categoria.nombre}</MenuItem>\r\n                                        ))\r\n                                    }\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n                        \r\n                        {\r\n                            tipoPublicacion &&\r\n                            (<Grid item sm={6} xs={12}>\r\n                                <FormControl className={classes.inputAncho}>\r\n                                    <InputLabel id=\"Servicio_id\" variant=\"filled\">Servicio</InputLabel>\r\n                                    <Select \r\n                                        value={datosPagina.Servicio_id.nombre}\r\n                                        name=\"Servicio_id\"\r\n                                        id=\"Servicio_id\"\r\n                                        labelId=\"Servicio_id\"\r\n                                        onChange={seleccionarServicio} \r\n                                        label=\"Servicio\"\r\n                                        variant=\"filled\"\r\n                                        required>\r\n                                        {\r\n                                            servicios.map((servicio, i)=>(\r\n                                                <MenuItem key={i} value={servicio.nombre}>{servicio.nombre}</MenuItem>\r\n                                            ))\r\n                                        }   \r\n                                    </Select>\r\n                                </FormControl>\r\n                            </Grid>)\r\n                        }\r\n\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                            onChange={modificarInput}\r\n                            value={datosPagina.descripcion}\r\n                            name=\"descripcion\"\r\n                            className={classes.inputAncho}\r\n                            id=\"filled-basic\"\r\n                            label=\"Descripción\"\r\n                            maxLength={400}\r\n                            multiline\r\n                            variant=\"filled\"/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classes.inputAncho}>\r\n                            <SubirImagenes cantidad={10} funcionSetImagen={funcionSetImagen} setcargando={setcargando} ids={datosPagina.imagenes}/>\r\n                        </Grid>\r\n                        \r\n                        <Grid item xs={12} className={classes.inputAncho}>\r\n                            {cargando && <Cargando/>}\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6} align=\"center\">\r\n                            <Button className={classes.botones} disabled={cargando} type=\"submit\" size=\"large\" variant=\"contained\" color=\"primary\">Guardar</Button>\r\n                        </Grid>\r\n                        <Grid item xs={6} align=\"center\">\r\n                            <Button className={classes.botones} onClick={cancelar} size=\"large\" variant=\"contained\" color=\"secondary\">Cancelar</Button>\r\n                        </Grid>\r\n                        <AlertaMensaje mensaje={mensaje} abrir={abrir} setabrir={setabrir}/>\r\n                    </Grid>\r\n                </FormControl>\r\n            </form>\r\n        </Paper>\r\n    </div>\r\n  );\r\n}","import React, {useEffect,useState, useContext} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport axios from 'axios'\r\n\r\n//Material-UI\r\nimport {LinearProgress, Paper, List, ListItem, Collapse, ListItemText, Grid, Typography, Button, Tooltip, TextField, Radio, RadioGroup, FormControlLabel, FormControl, FormLabel} from '@material-ui/core';\r\nimport {ExpandLess, ExpandMore}  from '@material-ui/icons';\r\nimport Ojo from '@material-ui/icons/Visibility';\r\nimport Flechita from '@material-ui/icons/ArrowForwardIos';\r\nimport Aceptar from '@material-ui/icons/Check';\r\nimport Rechazar from '@material-ui/icons/Clear';\r\nimport Alerta from '@material-ui/lab/Alert';\r\n\r\nimport Estilos from '../Estilos.js';\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function GestionarReportes({estadoReporte, reportes, modificarReporte, cargando}) {\r\n    const classes = Estilos();\r\n    const [titulo, setTitulo] = useState(\"\");\r\n    \r\n    useEffect(()=>{\r\n        //Dependiendo de si accedemos a los reclamos en espera, al historial de reclamos o a los reclamos nuevos, se muestra el título correspodiente\r\n        if(estadoReporte===0)\r\n            setTitulo(\"Reportes pendientes de moderación\");\r\n        else if(estadoReporte===1)\r\n            setTitulo(\"Reportes en espera\");\r\n        else\r\n            setTitulo(\"Historial de reportes\");\r\n    },[])\r\n  \r\n  return (\r\n    <div className={classes.fondo} className=\"Fondo\">\r\n      <Paper elevation={5}>\r\n        <Grid className={classes.filaPublicacion}  container justify=\"center\">\r\n            <Grid item xs={12}>\r\n                <Typography variant=\"h4\" component=\"h1\" align=\"center\">\r\n                    {titulo}\r\n                </Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <br/>\r\n                {\r\n                    !cargando && reportes.length===0 && (<Alerta variant=\"outlined\" severity=\"info\">\r\n                    No hay reportes para mostrar.\r\n                    </Alerta>)\r\n                }  \r\n                {\r\n                    reportes.map((datos, i) =>\r\n                        <Reporte key={i} datos={datos} modificarReporte={modificarReporte}/>\r\n                    )\r\n                }\r\n            </Grid>\r\n        </Grid>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nfunction Reporte({datos, modificarReporte}) {\r\n    const classes = Estilos();\r\n    let color;\r\n    switch (datos.estado) {\r\n        case -1:\r\n            color = \"#5d9b9b\"\r\n            break;\r\n        case 0:\r\n            color = \"gray\"\r\n            break;\r\n        case 1:\r\n            color = \"yellow\"\r\n            break;\r\n        case 2:\r\n            color = \"#FFDED3\"\r\n            break;\r\n        case 3:\r\n            color = \"#D6FFD3\"\r\n            break;\r\n    }\r\n    return (\r\n        <Paper className={classes.filaPublicacion} className=\"Fondo\" variant=\"outlined\" square>\r\n            <Grid container direction=\"row\" justify=\"center\" style={{padding:\"15px\"}}>\r\n                <Grid item xs={12} lg={9} md={9} sm={12}>\r\n                    <Button disabled>\r\n                        <Typography color=\"secondary\" variant=\"h5\" component=\"h2\" align=\"left\" >\r\n                            {datos.Solicitud_id===null?\"Reporte al usuario \":datos.Solicitud_id.titulo}\r\n                        </Typography>\r\n                    </Button>\r\n\r\n                    {\r\n                        datos.Solicitud_id!==null &&\r\n                        <Link to={\"/publicacion/\"+datos.Solicitud_id.id} className={classes.EstiloLink}>\r\n                            <Tooltip title=\"Vista previa\">\r\n                                <Button><Ojo color=\"primary\" /></Button>\r\n                            </Tooltip>\r\n                        </Link>\r\n                    }\r\n                        \r\n                    <Button disabled>\r\n                        <Flechita/>\r\n                    </Button>\r\n                  \r\n                    <Link to={\"/perfil-proveedor/\"+datos.Usuario_id.id} className={classes.EstiloLink}>\r\n                        <Button className={classes.button}>\r\n                            <Typography variant=\"h6\" component=\"h5\" align=\"left\">\r\n                                {`${datos.Usuario_id.nombre} ${datos.Usuario_id.apellido}`}\r\n                            </Typography>\r\n                        </Button>\r\n                    </Link>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} lg={3} md={3} sm={12}>\r\n                    <Typography variant=\"h6\" component=\"h5\" align=\"right\">\r\n                        {datos.created_at.split(\"T\")[0]}\r\n                    </Typography>\r\n                </Grid>\r\n                \r\n                \r\n                <Grid item xs={12}>\r\n                    <Typography variant=\"h6\" component=\"h5\" align=\"left\">\r\n                        Motivos del reporte:\r\n                    </Typography>\r\n                </Grid>\r\n                \r\n                <Grid container direction=\"row\" justify=\"center\">\r\n                    {\r\n                        datos.motivos.map((motivo, i)=>(\r\n                            <Grid key={i} item xs={6} sm={3} md={3} lg={3}>\r\n                                <Typography variant=\"h6\" component=\"h3\" align=\"center\">\r\n                                    {\r\n                                        motivo.nombre\r\n                                    }\r\n                                </Typography>\r\n                            </Grid>\r\n                        ))\r\n                    }\r\n                </Grid>\r\n                \r\n                <Grid item xs={12}>\r\n                    <DesplegarInformacion datos={datos} modificarReporte={modificarReporte}/>\r\n                </Grid>\r\n            </Grid>\r\n        </Paper>\r\n    );\r\n}\r\n\r\n  \r\nfunction DesplegarInformacion({datos, modificarReporte}) {\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [open, setOpen] = useState(false);\r\n    const [accion, setaccion] = useState(false);\r\n    const [cargando, setcargando] = useState(false);\r\n\r\n    const classes = Estilos();\r\n\r\n    const handleClick = () => {\r\n        setOpen(!open);\r\n    };\r\n\r\n    function enviarDatos(descripcion, aceptado){\r\n        setcargando(true)\r\n        let auth = 'Bearer '+state.jwt;\r\n        let estado = 2\r\n        let datosNoti = \"Su \"+(datos.Solicitud_id!==null?\"publicación\":\"perfil\")+\" tiene una sugerencia de modificación. \\nMensaje de la administración: \"+descripcion\r\n        \r\n        /**\r\n         * estado:-1 ->Reporte respondido por el usuario\r\n         * estado: 0 ->Reporte esperando a ser atendido\r\n         * estado: 1 ->Reporte en espera, el proveedor debe modificar su perfil/publicación\r\n         * estado: 2 ->Reporte rechazado\r\n         * estado: 3 ->Reporte concluido\r\n         */\r\n\r\n        //Si se acepta el reporte\r\n        if(aceptado){\r\n            //Si la acción tomada es pausar la publicación o continuar con la pausa\r\n            if(accion){\r\n                //El estado se setea en \"en espera de respuesta\"\r\n                estado = 1\r\n                datosNoti = datos.Solicitud_id!==null?\r\n                \"Su publicación ha sido pausada por un administrador, deberá modificarla para que vuelva a estar disponible al público. \\nMensaje de la administración: \"+descripcion:\r\n                \"Su perfil ha sido bloqueado por un adminitrador, deberá modificarlo para que vuelva a estar disponible al público. \\nMensaje de la administración: \"+descripcion\r\n                //Bloqueamos la publicación, si es que ya no lo está\r\n                if(datos.estado!==-1)\r\n                    cambiarVariableBloqueado(datos, true)\r\n            //Si no se pausa o se despausa\r\n            }else{\r\n                //El estado se setea en \"concluído\"\r\n                estado = 3\r\n                //Si el estado del reporte era \"respondido\", se desbloquea la publicación\r\n                if(datos.estado===-1){\r\n                    cambiarVariableBloqueado(datos, false)\r\n                    aceptado = true\r\n                    datosNoti = datos.Solicitud_id!==null?\"¡Su publicación se encuentra nuevamente disponible!\":\"¡Su perfil se encuentra nuevamente disponible!\"\r\n                }\r\n            }\r\n        }\r\n        \r\n        //Si aceptado es true, entonces el reporte es aceptado y se le notifica al usuario\r\n        if(aceptado===true){\r\n            axios.post(\r\n                state.servidor+\"/api/notificaciones/\",{\r\n                    tipo: 0,\r\n                    emisor: state.datosSesion.id,\r\n                    receptor: datos.Usuario_id.id,\r\n                    solicitud: datos.Solicitud_id!==null?datos.Solicitud_id.id:null,\r\n                    datos_notificacion: datosNoti,\r\n                    leido: false\r\n                },{\r\n                    headers: {'Authorization': auth},\r\n            })\r\n            .then(response => {\r\n                console.log(\"Se ha podido crear la notificacion: \",response.data)\r\n                if (datos.estado!==-1)\r\n                    actualizarReporte(response.data.id, estado)\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error, no se ha podido crear la notificacion.\", error.response)\r\n                alert(\"Error, no se ha podido crear la notificacion.\")\r\n            })\r\n        }else{\r\n            //Si aceptado es false, entonces el reporte es descartado, luego se actualiza el estado del reporte\r\n            actualizarReporte(null, estado)\r\n        }\r\n    }\r\n\r\n    function actualizarReporte(notificacion, estado){\r\n        let auth = 'Bearer '+state.jwt;\r\n        axios.put(\r\n            state.servidor+\"/api/reportes/\"+datos.id,{\r\n                accion: accion,\r\n                estado: estado,\r\n                notificacion: notificacion,\r\n                Administrador_id: state.datosSesion.id\r\n            },{headers: {'Authorization': auth},\r\n        })\r\n        .then(response => {\r\n            console.log(\"Se ha podido crear el reporte: \",response.data)\r\n            setcargando(false)\r\n\r\n            /*El siguiente método actualiza el arreglo de objetos de reporte del componente pestanaReportes, \r\n            con el objetivo de que el reporte cambie de estado y se muestre en su respectivo tab*/\r\n            modificarReporte(response.data)\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Error, no se ha podido crear el reporte.\", error.response)\r\n            alert(\"Error, no se ha podido crear el reporte.\")\r\n        })\r\n    }\r\n    \r\n    function cambiarVariableBloqueado(datos, bool){\r\n        let auth = 'Bearer '+state.jwt;\r\n        let ruta = datos.Solicitud_id===null?\"users/\":\"api/solicitud/\"\r\n        let _id = datos.Solicitud_id===null?datos.Usuario_id.id:datos.Solicitud_id.id\r\n        console.log(state.servidor+\"/\"+ruta+_id)\r\n        axios.put(\r\n            state.servidor+\"/\"+ruta+_id,{\r\n                bloqueado: bool,\r\n            },{headers: {'Authorization': auth},})\r\n        .then(response => {\r\n            console.log(\"Se ha podido bloquear\",response.data)\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Error, no se ha podido bloquear.\", error.response)\r\n            alert(\"Error, no se ha podido bloquear .\")\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ListItem button onClick={handleClick}>\r\n                <ListItemText primary=\"Desplegar información\"/>\r\n                {open ? <ExpandLess /> : <ExpandMore />}\r\n            </ListItem>\r\n            <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                <List component=\"div\" disablePadding>\r\n                    <hr/>\r\n                    <Grid item xs={12}>\r\n                        {\r\n                            datos.descripcion.split(\"##\").map((mensaje, i)=>(\r\n                                <Typography key={i} align=\"justify\"> \r\n                                    {mensaje}\r\n                                </Typography>\r\n                            ))\r\n                        }\r\n                        \r\n                    </Grid>\r\n                    <hr/>\r\n                    \r\n                    {\r\n                        datos.estado<=0 && <FormControl component=\"fieldset\" align=\"left\">\r\n                            <FormLabel required component=\"legend\">Acción</FormLabel>\r\n                                <RadioGroup disabled={datos.estado>0} row aria-label=\"Accion\" value={accion} onChange={(e)=>{setaccion(!accion)}}>\r\n                                    <FormControlLabel\r\n                                    value=\"true\"\r\n                                    checked={accion}\r\n                                    control={<Radio />}\r\n                                    label={datos.estado===-1?\"Continuar con la publicación pausada\":\"Pausar publicación\"} />\r\n                                    <FormControlLabel\r\n                                    value=\"false\"\r\n                                    checked={!accion}\r\n                                    control={<Radio />}\r\n                                    label={datos.estado===-1?\"Despausar publicación\":\"No hacer nada\"} />\r\n                                </RadioGroup>\r\n                        </FormControl>\r\n                    }\r\n                    {\r\n                        datos.estado>0 && <Typography variant=\"h6\" component=\"h5\" align=\"left\">\r\n                            {datos.accion?\"La publicación fue pausada\":\"No se pausó la publicación\"}\r\n                        </Typography>\r\n                    }\r\n                    {\r\n                        cargando && <LinearProgress />\r\n                    }\r\n                    <div hidden={datos.estado>0}>\r\n                        {\r\n                            datos.estado===-1 && <ParteEspera_Historial datos={datos.notificacion}/>\r\n                        }\r\n                        <ParteNuevos enviarDatos={enviarDatos} cargando={cargando} esRespuesta={datos.estado===-1}/>\r\n                    </div>\r\n                    \r\n                    <div hidden={datos.estado<=0}>\r\n                        <ParteEspera_Historial datos={datos.notificacion}/>\r\n                    </div>\r\n                </List>\r\n            </Collapse>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ParteNuevos = ({enviarDatos, cargando, esRespuesta}) =>{\r\n    const [descripcion, setdescripcion] = useState(\"\")\r\n    return(\r\n        <div>\r\n            <Grid item xs={12}>\r\n                <TextField\r\n                onChange={(e)=>{setdescripcion(e.target.value)}}\r\n                value={descripcion}\r\n                id=\"outlined-basic\"\r\n                label=\"Agregar mensaje\"\r\n                multiline variant=\"outlined\"\r\n                size=\"medium\"\r\n                fullWidth/> \r\n            </Grid>\r\n\r\n            <div align=\"center\">\r\n                <Button disabled={cargando} startIcon={<Aceptar/>} onClick={()=>{enviarDatos(descripcion, true)}}>\r\n                    {esRespuesta?\"Confirmar acción\":\"Aceptar reclamo\"}\r\n                </Button>\r\n                <Button disabled={cargando} color=\"secondary\" startIcon={<Rechazar/>} onClick={()=>{enviarDatos(descripcion, false)}}>\r\n                    Descartar reclamo\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ParteEspera_Historial = ({datos}) =>{\r\n    return(\r\n        datos.map((notif, i)=>(\r\n            <div key={i}>\r\n                <hr/>\r\n                <Grid container justify=\"center\">\r\n                    <Grid item xs={9}>\r\n                        <Typography color=\"secondary\" variant=\"h5\" component=\"h4\" align=\"left\" >\r\n                            Mensaje del administrador\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={3}>\r\n                        <Typography variant=\"h6\" component=\"h5\" align=\"right\">\r\n                            {notif.created_at.split(\"T\")[0]}\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        {notif.datos_notificacion}\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n        ))\r\n    )\r\n}","import React, {useContext, useEffect, useState} from 'react';\r\nimport axios from 'axios'\r\n//Material-UI\r\nimport {LinearProgress, Collapse, Hidden, ListItemText, ListItem, List, Paper, Grid, Typography, Button, TextField} from '@material-ui/core/';\r\nimport {Clear as Rechazar, Check as Aceptar, ExpandLess, ExpandMore} from '@material-ui/icons/';\r\nimport Alerta from '@material-ui/lab/Alert';\r\n\r\nimport Imagenes from 'react-lightbox-component';\r\nimport 'react-lightbox-component/build/css/index.css';\r\n\r\n//Estilos\r\nimport Estilos from '../Estilos.js'\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function VerificarIdentidad() {\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [usuariosVerificar, setusuariosVerificar] = useState([])\r\n    useEffect(()=>{\r\n        setcargando(true)\r\n        let auth = 'Bearer '+state.jwt\r\n        if (state.jwt!==\"\"){            \r\n            axios.get(state.servidor+\"/users?espera_verificacion=true\",{\r\n                headers: {'Authorization': auth},\r\n            })\r\n            .then(response => {\r\n                console.log(response.data)\r\n                setusuariosVerificar(response.data)\r\n                setcargando(false)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al buscar los usuarios a verificar.\")\r\n                console.log(error.response)\r\n            }) \r\n        }\r\n    },[state.jwt])\r\n\r\n    function actualizarUsuario(usuario_id){\r\n        setusuariosVerificar(usuariosVerificar.filter(user => user.id!==usuario_id))\r\n    }\r\n\r\n    const classes = Estilos();\r\n    const [cargando, setcargando] = useState(false);\r\n    return (\r\n    <div className={classes.fondo}>\r\n        <Paper elevation={5}  style={{margin:\"10px 0px\", padding:\"20px\", width:\"90%\"}} className=\"Fondo\">\r\n            <Grid container justify=\"center\" spacing={2}>\r\n                <Grid item xs={12}>\r\n                    <Typography variant=\"h4\" component=\"h1\" align=\"center\">\r\n                        Verificar identidades\r\n                    </Typography>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    {\r\n                        cargando && <LinearProgress/>\r\n                    }\r\n                    <br/>\r\n                    {\r\n                        !cargando && (usuariosVerificar.length===0 && (<Alerta variant=\"outlined\" severity=\"info\">\r\n                            No hay usuarios que deseen verificar su identidad.\r\n                        </Alerta>))\r\n                    }\r\n                </Grid>\r\n                {\r\n                    usuariosVerificar.map((usuario, i) =>(\r\n                        <Grid item xs={12} key={i}>\r\n                            <Solicitud usuario={usuario} actualizarUsuario={actualizarUsuario}/>\r\n                        </Grid>\r\n                    ))\r\n                }\r\n            </Grid>\r\n        </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Solicitud({usuario, actualizarUsuario}) {\r\n    const classes = Estilos()\r\n    return (\r\n        <Paper className={classes.filaPublicacion} variant=\"outlined\" square>\r\n            <Grid container direction=\"row\" alignItems=\"center\">\r\n                <Grid item xs={12}>\r\n                    <Button className={classes.button}>\r\n                        <Typography variant=\"h5\" component=\"h5\" align=\"left\">\r\n                            {`${usuario.nombre} ${usuario.apellido}`}\r\n                        </Typography>\r\n                    </Button>\r\n                    <Button disabled>\r\n                        <Typography variant=\"h5\" component=\"h2\" align=\"left\" >\r\n                            DNI: {usuario.dni}\r\n                        </Typography>\r\n                    </Button>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <DesplegarInformacion usuario={usuario} actualizarUsuario={actualizarUsuario}/>\r\n                </Grid>\r\n            </Grid>\r\n        </Paper>\r\n    );\r\n}\r\n\r\n\r\nfunction DesplegarInformacion({usuario, actualizarUsuario}) {\r\n    const classes = Estilos();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [open, setOpen] = useState(false);\r\n    const [imagenes, setimagenes] = useState([]);\r\n    const [cargando, setcargando] = useState(false);\r\n    const [descripcion, setdescripcion] = useState(\"\");\r\n    const [mensaje, setmensaje] = useState(\"\");\r\n    \r\n    const handleClick = () => {\r\n        setOpen(!open);\r\n    };\r\n    \r\n    function enviarDatos(aceptado){\r\n        setcargando(true)\r\n        let auth = 'Bearer '+state.jwt;\r\n        //Generamos una notificación al usuario, indicando si se lo ha verificado o no.\r\n        axios.post(\r\n            state.servidor+\"/api/notificaciones/\",{\r\n                tipo: 1,\r\n                emisor: state.datosSesion.id,\r\n                receptor: usuario.id,\r\n                solicitud: null,\r\n                datos_notificacion: aceptado?\"\":descripcion,\r\n                leido: false\r\n            },\r\n            {headers: {'Authorization': auth},})\r\n        .then(response => {\r\n            console.log(\"Se ha podido crear la notificacion: \",response.data)\r\n\r\n            //Actualizamos los datos al usuario que solicitó la verificación de su identidad.\r\n            axios.put(\r\n                state.servidor+\"/users/\"+usuario.id,{\r\n                    espera_verificacion: false,\r\n                    identidad_verificada: aceptado\r\n                },{headers: {'Authorization': auth},})\r\n            .then(response => {\r\n                console.log(\"Se ha podido actualizar al usuario\",response.data)\r\n                actualizarUsuario(response.data.id)\r\n                setcargando(false)\r\n            })\r\n            .catch(error => {\r\n                console.log(\"Error, no se ha podido actualizar al usuario.\", error.response)\r\n                alert(\"Error, no se ha podido actualizar al usuario.\")\r\n            })\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Error, no se ha podido crear la notificacion.\", error.response)\r\n            alert(\"Error, no se ha podido crear la notificacion.\")\r\n        })\r\n        \r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(usuario.imagenes_dni){\r\n            let img = usuario.imagenes_dni.map((imagen)=>(\r\n                {\r\n                    src: state.servidor+imagen.url,\r\n                    title: imagen.name,\r\n                    description: 'Imagenes de D.N.I.'\r\n                }\r\n            ))\r\n            setimagenes(img)\r\n        }\r\n    },[usuario])\r\n\r\n    return (\r\n        <div>\r\n            <ListItem button onClick={handleClick}>\r\n                <ListItemText primary=\"Desplegar información\"/>\r\n                {open ? <ExpandLess /> : <ExpandMore />}\r\n            </ListItem>\r\n            <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                <List component=\"div\" disablePadding>\r\n                    <Grid container direction=\"row\" alignItems=\"center\" justify=\"center\">\r\n                        <Grid item xs={4} sm={12}>\r\n                            <div align=\"center\">\r\n                                <Imagenes images={imagenes}\r\n                                    thumbnailWidth='100px'\r\n                                    thumbnailHeight='100px'\r\n                                />\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                id=\"outlined-basic\"\r\n                                name=\"descripcion\"\r\n                                label=\"Agregar mensaje\"\r\n                                multiline variant=\"outlined\"\r\n                                size=\"medium\"\r\n                                fullWidth\r\n                                className={classes.inputAncho}\r\n                                onChange={(e)=>{setdescripcion(e.target.value)}}\r\n                            >\r\n                            </TextField> \r\n                        </Grid>\r\n\r\n                        <Hidden xlDown={mensaje===\"\" || descripcion!==\"\"}>\r\n                            <Grid item xs={12}>\r\n                                <Typography color=\"error\">\r\n                                    {mensaje}\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Hidden>\r\n                        {\r\n                            cargando && <LinearProgress/>\r\n                        }\r\n                        <div align=\"center\">\r\n                            <Button\r\n                            disabled={cargando}\r\n                            onClick={()=>{enviarDatos(true)}}\r\n                            color=\"secondary\"\r\n                            startIcon={<Aceptar/>}>\r\n                                Validar Identidad\r\n                            </Button>\r\n                            <Button\r\n                            disabled={cargando}\r\n                            onClick={()=>{descripcion===\"\"?setmensaje(\"Debe escribir un mensaje para rechazar la solicitud.\"):enviarDatos(false)}}\r\n                            color=\"primary\"\r\n                            startIcon={<Rechazar/>}>\r\n                                Rechazar Solicitud\r\n                            </Button>\r\n                        </div>\r\n                    </Grid>\r\n                </List>\r\n            </Collapse>\r\n        </div>\r\n    )\r\n}","import React, {useState, useEffect, useContext} from 'react';\r\nimport axios from 'axios'\r\n\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {Container, AppBar, Backdrop, CircularProgress, Box, Tab, Tabs} from '@material-ui/core';\r\n\r\nimport GestionarReportes from './GestionarReportes.js'\r\n\r\nimport Nuevo from '@material-ui/icons/Announcement';\r\nimport Reloj from '@material-ui/icons/QueryBuilder';\r\nimport Check from '@material-ui/icons/AssignmentTurnedIn';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`scrollable-force-tabpanel-${index}`}\r\n      aria-labelledby={`scrollable-force-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box p={3}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `scrollable-force-tab-${index}`,\r\n    'aria-controls': `scrollable-force-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: '100%',\r\n    backgroundColor: theme.palette.background.paper,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    flexWrap: 'wrap',\r\n    padding: 10,\r\n    minHeight:\"calc(100vh - 130px)\",\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n}));\r\n\r\nexport default function PestanaReportes() {\r\n  const [cargando, setcargando] = useState(false);\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(0);\r\n  const [reportes, setreportes] = useState([]);\r\n\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  useEffect(()=>{\r\n    if (state.jwt!==\"\" || state.publico===true){\r\n        setcargando(true)\r\n        let auth = 'Bearer '+state.jwt;\r\n\r\n        axios.get(state.servidor+\"/api/reportes\",{\r\n          headers: {'Authorization': auth}})\r\n        .then(response => {\r\n          setreportes(response.data)\r\n          setcargando(false)\r\n        })\r\n        .catch(error => {\r\n            alert(\"Un error ha ocurrido al cargar las categorías.\")\r\n            console.log(error.response)\r\n        })\r\n    }\r\n  },[state.jwt, state.publico])\r\n\r\n  function modificarReporte(report){\r\n    setreportes(\r\n      reportes.map((reporte)=>{\r\n        if(report.id===reporte.id){\r\n          return report\r\n        }else{\r\n          return reporte\r\n        }\r\n    }))\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root} style={{padding:\"20px\"}} className=\"fondo\">\r\n      <Container>\r\n        <AppBar position=\"static\" color=\"default\">\r\n          <Tabs\r\n            value={value}\r\n            onChange={handleChange}\r\n            variant=\"fullWidth\"\r\n            scrollButtons=\"auto\"\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            aria-label=\"scrollable force tabs example\"\r\n          >\r\n            <Tab label=\"Gestionar nuevos reportes\" icon={<Nuevo />} {...a11yProps(0)} />\r\n            <Tab label=\"Reportes en espera\" icon={<Reloj />} {...a11yProps(1)} />\r\n            <Tab label=\"Historial de reportes\" icon={<Check />} {...a11yProps(2)} />\r\n          </Tabs>\r\n        </AppBar>\r\n        <Backdrop className={classes.backdrop} open={cargando}>\r\n          <CircularProgress/>\r\n        </Backdrop>\r\n        <TabPanel value={value} index={0}>\r\n          <GestionarReportes estadoReporte={0} cargando={cargando} modificarReporte={modificarReporte} reportes={reportes.filter((reporte)=>(reporte.estado<=0))}/>\r\n        </TabPanel>\r\n\r\n        <TabPanel value={value} index={1}>\r\n          <GestionarReportes estadoReporte={1} cargando={cargando} modificarReporte={()=>{}} reportes={reportes.filter((reporte)=>(reporte.estado===1))}/>\r\n        </TabPanel>\r\n\r\n        <TabPanel value={value} index={2}>\r\n          <GestionarReportes estadoReporte={2} cargando={cargando} modificarReporte={()=>{}} reportes={reportes.filter((reporte)=>(reporte.estado>=2))}/>\r\n        </TabPanel>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React, {useState, useEffect, useContext} from 'react';\r\nimport FilaPublicacion from '../Categoria/FilaPublicacion.js';\r\nimport Estilos from '../Estilos.js';\r\nimport { Typography, Paper, Container } from '@material-ui/core';\r\nimport Alerta from '@material-ui/lab/Alert';\r\nimport axios from 'axios'\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function MisPublicaciones({tipoPublicacion}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [tituloPagina, setTituloPagina] = useState(\"\");\r\n  const [cargando, setcargando] = useState(false)\r\n  const [solicitudes, setsolicitudes] = useState([])\r\n  const [resenas_servicio, setresenas_servicio] = useState(null)\r\n\r\n  useEffect(()=>{\r\n    setcargando(true)\r\n    //Dependiendo de si se quiere crear una publicación o solicitar un servicio, se muestra la pantalla correspodiente\r\n    if(tipoPublicacion){\r\n      setTituloPagina(\"Mis publicaciones\");\r\n    }else{\r\n      setTituloPagina(\"Mis servicios solicitados\");\r\n    }\r\n    if(state.jwt!==\"\" || state.publico===true){\r\n      buscarSolicitudes()\r\n    }\r\n  },[state.jwt, state.publico, tipoPublicacion])\r\n\r\n  function buscarSolicitudes(){\r\n    axios.get(state.servidor+\"/api/solicitud?Usuario_id=\"+state.datosSesion.id+\"&tipo=\"+tipoPublicacion)\r\n    .then(response => {\r\n      setsolicitudes(response.data)\r\n      setcargando(false)\r\n    })\r\n    .catch(error => {\r\n      alert(\"Un error ha ocurrido al cargar las solicitudes.\")\r\n      console.log(error.response)\r\n    })\r\n    //Si se están listando publicaciones, entonces traemos también las reseñas\r\n    if(tipoPublicacion){\r\n      axios.get(state.servidor+\"/api/resenas?proveedor=\"+state.datosSesion.id)\r\n      .then(response => {\r\n        let servicios_resena = {}      \r\n        response.data.map((resena=>{\r\n          resena.servicios.map(serv_=>{\r\n            if(!servicios_resena.hasOwnProperty(serv_.nombre)){\r\n              servicios_resena[serv_.nombre] = {resenas:[]}\r\n              servicios_resena[serv_.nombre].resenas.push(resena)\r\n            }else{\r\n              servicios_resena[serv_.nombre].resenas.push(resena)\r\n            }\r\n          })\r\n        }))\r\n  \r\n        setresenas_servicio(servicios_resena)\r\n      })\r\n      .catch(error => {\r\n        alert(\"Un error ha ocurrido al buscar los servicios.\")\r\n        console.log(error.response)\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    \r\n    <Container className={classes.fondo}>\r\n        <Paper elevation={3} className=\"Fondo\" style={{width:950, padding: 15}}>\r\n            <Typography variant=\"h5\" component=\"h2\" align=\"center\">{tituloPagina}</Typography>\r\n            <br/>\r\n            {\r\n              //Cuando cargando es true (seteado al momento de empezar a realizar la búsqueda de las publicaciones), nos muestra el componente de carga,\r\n              //y desaparece cuando cambia a false (seteado al finalizar la búsqueda de los datos)\r\n              cargando && <Cargando/>\r\n            }\r\n            {\r\n              !cargando && solicitudes.length===0 && (<Alerta variant=\"outlined\" severity=\"info\">\r\n                No tienes {tipoPublicacion?\"publicaciones \":\"solicitudes \"}de servicios\r\n              </Alerta>)\r\n            }\r\n            {\r\n              solicitudes.map((solicitud, i)=>(\r\n                <FilaPublicacion resenas={resenas_servicio===null?null:resenas_servicio[solicitud.Servicio_id.nombre]} buscarSolicitudes={buscarSolicitudes} key={i} datos={solicitud} tipoPublicacion={tipoPublicacion} contactar={true}/>\r\n              ))\r\n            }\r\n        </Paper>\r\n    </Container>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport {Container, Typography, Paper, Accordion, AccordionSummary, AccordionDetails } from '@material-ui/core/';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Estilos from '../Estilos';\r\n\r\nexport default function PreguntasFrecuentes() {\r\n  const classes = Estilos();\r\n  const [informacion, setinformacion] = React.useState([\r\n    {\r\n      pregunta: \"¿Qué es Servia?\",\r\n      respuesta: \"Servia es una aplicación en la cual vas a poder encontrar servicios domesticos, publicar tus servicios o solicitar un servicio determinado.\"\r\n    },\r\n    {\r\n      pregunta: \"¿Cómo busco un servicio?\",\r\n      respuesta: 'Para buscar un servicio, debes hacer click en la opcion \"Explorar servicios\", luego se mostrará una pagina donde podrás seleccionar la categoría referente al servicio que buscas, al hacer esto se abrirá una página donde podrás ver y buscar servicios.'\r\n    },\r\n    {\r\n      pregunta: \"¿Cómo me vuelvo proveedor de servicios?\",\r\n      respuesta: 'Para ser proveedor, debes seleccionar la opción \"Quiero ser proveedor de servicios\" al momento de registrarte o yendo a \"Editar mi perfil\".'\r\n    },\r\n    {\r\n      pregunta: \"Si soy un proveedor de servicios, ¿Cómo verifico mi identidad en Servia?\",\r\n      respuesta: 'Para verificar tu identidad, debes ir a la opcion \"Verificar mi identidad\", allí podrás cargar tu número de DNI y las fotos del mismo. Luego un administrador validará tus datos y te notificará los resultados.'\r\n    },\r\n    {\r\n      pregunta: \"¿Cómo me publicito en Servia?\",\r\n      respuesta: \"Servia ofrece a los proveedores la posibilidad de crear publicaciones en donde pueden mostrar una descripción de sus servicio e imágenes que la acompañen.\"\r\n    },\r\n    {\r\n      pregunta: \"¿Cómo solicito un servicio?\",\r\n      respuesta: 'Para solicitar un servicio, debes ir a la opción \"Solicitar servicio\", allí podrás especificar todos los requerimientos, de modo de que algún proveedor se pueda contactar contigo para ayudarte.'\r\n    },\r\n    {\r\n      pregunta: \"¿Cómo administro las publicaciones/solicitudes que he hecho?\",\r\n      respuesta: 'Para administrar tus publicaciones/solicitudes, debes ir a la opcion \"Mis servicios solicitados\" o \"Mis publicaciones\", allí podrás modificar o eliminar las publicaciones/solicitudes que hiciste.'\r\n    },\r\n    {\r\n      pregunta: \"¿Cómo contacto a un proveedor de servicios?\",\r\n      respuesta: 'Para contactar a un proveedor de servicios, debes ir a la publicacion del servicio que deseas y hacer click en la opción \"Contactar\". Al hacer click en el boton \"Enviar\", se generará un Chat en el cual el proveedor podrá responderte.'\r\n    },\r\n    {\r\n      pregunta: \"¿Cómo me mantengo en contacto con un proveedor de servicios?\",\r\n      respuesta: \"Para mantenerte en contacto con uno o varios proveedores existe un chat, el cual tendrá los chats con los proveedores que hiciste contacto. Par accederlo debes hacer click en el ícono de mensaje, al lado de la campana de notificaciones.\"\r\n    },\r\n  ])\r\n\r\n  return (\r\n    <div className={classes.fondo}>\r\n      <Paper elevation={3} style={{margin:\"auto\",width:850, padding:\"20px\"}} className=\"Fondo\">    \r\n        <Typography component=\"h3\" variant=\"h4\" align=\"center\">\r\n            Preguntas frecuentes\r\n        </Typography>\r\n        <br/>\r\n        <>\r\n          {\r\n            informacion.map((fila, i)=>(\r\n              <Accordion key={i}>\r\n                <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n                  <Typography  component=\"h6\" variant=\"h6\">{fila.pregunta}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <Typography>\r\n                    {fila.respuesta}\r\n                  </Typography>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ))\r\n          }\r\n        </>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport {Typography, Paper} from '@material-ui/core/';\r\n\r\nimport Estilos from '../Estilos';\r\n\r\nexport default function SobreNosotros() {\r\n  const classes = Estilos();\r\n  return (\r\n    <div className={classes.fondo} >\r\n      <Paper elevation={3} style={{width:650, minHeight:300, padding: 15}}>    \r\n        <Typography component=\"h3\" variant=\"h4\" align=\"center\">\r\n            ¿Quienes somos?\r\n        </Typography>  \r\n        <Typography variant=\"body1\" align=\"left\">\r\n            Somos...\r\n        </Typography>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}","import React, { useReducer, createContext} from \"react\";\r\n\r\nconst initialState = {\r\n    estadoEditado: false,\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"setFalso\":\r\n            return {...state, estadoEditado: false};\r\n        case \"setVerdad\":\r\n            return {...state, estadoEditado: true};\r\n        default:\r\n            return { ...state };\r\n    }\r\n};\r\n\r\nconst ObtenerEstado = createContext(initialState);\r\n\r\nfunction ProveerEstadoCategoria({ children }) {\r\n    const [stateCategoria, dispatchCategoria] = useReducer(reducer, initialState);\r\n\r\n    return (\r\n        <ObtenerEstado.Provider value={{ stateCategoria, dispatchCategoria }}>\r\n            {children}\r\n        </ObtenerEstado.Provider>\r\n    );\r\n}\r\n\r\nexport { ObtenerEstado, ProveerEstadoCategoria };\r\n","import React,{useState, useEffect, useContext} from 'react';\r\nimport {useHistory } from 'react-router-dom'\r\n\r\n//Material UI\r\nimport {Typography, TextField, Button, Paper, Grid} from '@material-ui/core/';\r\nimport Cargando from '@material-ui/core/LinearProgress';\r\n\r\n//Libreria para consultar la API del servidor\r\nimport axios from 'axios';\r\n\r\n//Componentes creados\r\nimport Estilos from '../Estilos.js';\r\nimport SubirImagen from '../SubirImagen.js';\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\n\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\n\r\nexport default function VerificarMiIdentidad(){\r\n    const classes = Estilos()\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    let history = useHistory();\r\n    //Variables de la página\r\n    const [cargando, setcargando] = useState(false)\r\n    const [abrir, setabrir] = useState(false);\r\n    //   \r\n    \r\n    //Variables de los campos   \r\n    const [DNI, setDNI] = useState(\"\")\r\n    const [imagenes, setimagenes] = useState([])\r\n    const [ImagenDNI, setImagenDNI] = useState([])\r\n    const [imagenesSubidas, setimagenesSubidas] = useState([]);\r\n    const [imagenesBorradas, setimagenesBorradas] = useState([]);\r\n\r\n    const funcionSetImagen = (file, cantidad, tipo, subidas) =>{\r\n        setimagenesSubidas(subidas)\r\n        //Si es 0, entonces se agrega la imagen a su respectiva variable, si es 1 entonces se desea eliminar\r\n        if(tipo===0){\r\n            setImagenDNI([...ImagenDNI, file])\r\n        }else{\r\n            setimagenesBorradas(img => [...imagenesBorradas, file])\r\n            let aux = ImagenDNI.filter(f => f !== file)\r\n            setImagenDNI(aux)\r\n        }\r\n        setimagenesSubidas(subidas)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(state.jwt!==\"\"){\r\n            setDNI(state.datosSesion.dni)\r\n            let imgs = state.datosSesion.imagenes_dni.map(i_dni => i_dni.id)\r\n            setimagenes(imgs)\r\n        }\r\n    },[state.jwt])\r\n    \r\n    const enviarDatos = (e) =>{\r\n        e.preventDefault()\r\n        setcargando(true)\r\n\r\n        setDNI(String(DNI))\r\n\r\n        let archivosNuevos = []\r\n        \r\n        //archivosNuevos es el arreglo que contiene los archivos que han sido agregados y no los que ya han sido subidos al servidor\r\n        ImagenDNI.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(!iguales){\r\n                archivosNuevos.push(imagen)\r\n            }\r\n        })\r\n        console.log(\"imagenes dni:\", ImagenDNI)\r\n        console.log(\"nuevos:\", archivosNuevos)\r\n\r\n        //archivosBorrados es el arreglo que contiene los archivos que han sido subidos al servidor pero que han sido eliminados en el frontend\r\n        let archivosBorrados = []\r\n        imagenesBorradas.map((imagen) => {\r\n            let iguales = imagenesSubidas.some(img => img === imagen)\r\n            if(iguales){\r\n                archivosBorrados.push(imagen)\r\n            }\r\n        })\r\n        console.log(\"borrados:\", archivosBorrados)\r\n        \r\n        //Si existen elementos dentro del arreglo imagenesBorradas, significa que se quieren borrar imágenes de la publicación\r\n        for(let indx = 0; indx < imagenesBorradas.length; indx++){\r\n            let id = Number(imagenesBorradas[indx].name)\r\n            \r\n            let auth = 'Bearer '+state.jwt;\r\n            axios.delete(state.servidor+\"/upload/files/\"+id,\r\n            {\r\n                headers: {\r\n                'Authorization': auth\r\n            },})\r\n            .then(response => {\r\n                console.log(\"Borrando imagenes\", response)            \r\n            }).catch(error => {\r\n                alert(\"Error al borrar las imagenes\")\r\n                console.log(error.response)\r\n            })\r\n        }\r\n\r\n        //Subiendo las imagenes seleccionadas\r\n        const formData = new FormData()\r\n        \r\n        //Se cargan en el fromData las nuevas imágenes cargadas a la publicación, si es que las hay, y los datos modificados\r\n        for(let i = 0; i<archivosNuevos.length; i++){\r\n            formData.append('files', archivosNuevos[i])\r\n        }\r\n        \r\n        \r\n        if(archivosNuevos.length!==0){\r\n            formData.append('ref', 'user')\r\n            formData.append('refId', state.datosSesion.id)\r\n            formData.append('field', 'imagenes_dni')\r\n            formData.append('source', 'users-permissions')\r\n\r\n            let auth = 'Bearer '+state.jwt;\r\n\r\n            axios.post(\r\n                state.servidor+\"/upload\",\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n                        'Authorization': auth\r\n                    },\r\n                })\r\n            .then(response => {\r\n                console.log(\"Respuesta imagen: \",response.data)\r\n                guardarDatos()\r\n            })\r\n            .catch(error => {\r\n                alert(\"Error al cargar las imágenes.\")\r\n                console.log(\"Error: \", error.response)\r\n            })\r\n        }else{\r\n            guardarDatos()\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n    function guardarDatos(){\r\n        let auth = 'Bearer '+state.jwt;\r\n        //Se modifica el perfil del usuario incluyendo los nuevos datos.\r\n        axios.put(\r\n            state.servidor+\"/users/\"+state.datosSesion.id,{\r\n                dni: DNI,\r\n                espera_verificacion: true\r\n            },{\r\n                headers: {\r\n                    'Authorization': auth\r\n            },})\r\n        .then(response => {\r\n            dispatch({type:\"setDatos\", value: response.data})\r\n            localStorage.setItem('datosLocal', JSON.stringify({\r\n                jwt: state.jwt,\r\n                datosSesion: response.data\r\n            }));\r\n            console.log(\"Datos: \",response.data)\r\n            \r\n            setcargando(false)\r\n            setabrir(true)\r\n            setTimeout(() => {  history.push(\"/\"); }, 3000);\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Error, no se han podido enviar los datos.\", error.response)\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <div className={classes.fondo}>\r\n            <Paper elevation={3} >\r\n                <form onSubmit={enviarDatos}>\r\n                    <Grid className={classes.gridRegistro} spacing={1} container justify=\"space-between\" alignItems=\"center\">\r\n                        <Grid item xs={12}>\r\n                            <Typography variant=\"h5\" component=\"h1\" align=\"center\" className={classes.inputAncho}>\r\n                                Verificar mi identidad\r\n                            </Typography>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} align=\"center\">\r\n                            <TextField\r\n                            className={classes.inputAncho}\r\n                            type=\"number\"\r\n                            name=\"dni\"\r\n                            value={DNI}\r\n                            style={{width:\"50%\"}}\r\n                            onChange={(e)=>{setDNI(e.target.value)}}\r\n                            id=\"filled-basic\"\r\n                            label=\"Número de documento\"\r\n                            variant=\"filled\"\r\n                            required/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <Typography variant=\"subtitle1\" component=\"h1\" align=\"justify\" className={classes.inputAncho}>\r\n                                Para que puedas verificar tu identidad, necesitamos que subas una foto del frente y otra del dorso de tu DNI. Procura que ambas imágenes se vean legibles y correspondan con los datos que proporcionaste en tu perfil.\r\n                            </Typography>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <SubirImagen cantidad={2} funcionSetImagen={funcionSetImagen} setcargando={setcargando} ids={imagenes}/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classes.inputAncho}>\r\n                            {cargando && <Cargando/>}\r\n                        </Grid>\r\n                        \r\n                        {\r\n                            (state.datosSesion.identidad_verificada || state.datosSesion.espera_verificacion) &&\r\n                            <Grid item xs={12}>\r\n                                <Typography variant=\"subtitle1\" component=\"h1\" align=\"justify\" color=\"error\" className={classes.inputAncho}>\r\n                                    {state.datosSesion.espera_verificacion?\"Ya tienes una solicitud de verificación pendiente.\":\"¡Tu perfil ya está verificado!\"}\r\n                                </Typography>\r\n                            </Grid>\r\n                        }\r\n\r\n                        <Grid item xs={12}>\r\n                            <Button\r\n                                type=\"submit\"\r\n                                className={classes.inputAncho}\r\n                                size=\"large\"\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                disabled={cargando || state.datosSesion.identidad_verificada || state.datosSesion.espera_verificacion}\r\n                            >\r\n                                Enviar solicitud\r\n                            </Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n                <AlertaMensaje mensaje={\"¡Solicitud enviada con éxito! Pronto nos pondremos en contacto contigo.\"} abrir={abrir} setabrir={setabrir}/>\r\n            </Paper>\r\n        </div>\r\n    );\r\n}","import React,{useState, useEffect, useContext} from 'react';\r\nimport axios from 'axios'\r\n\r\n//Material UI\r\nimport {LinearProgress, Avatar, Link, Divider, Button, Grid, Backdrop, Modal, Fade, Typography, TextField, FormControl, Hidden } from '@material-ui/core/';\r\n\r\n//Componentes\r\nimport Estrellas from '../Estrellas.js';\r\nimport AlertaMensaje from '../AlertaMensaje.js';\r\nimport Estilos from '../Estilos.js'\r\nimport SeleccionarServicio from '../SeleccionarServicio.js';\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\nexport default function RealizarOpinion({eliminarNotificacion, datos}) {\r\n  const classes = Estilos();\r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [open, setOpen] = React.useState(false);\r\n  const [abrir, setabrir] = React.useState(false);\r\n  const [valorEstrella, setValorEstrella] = useState(0);\r\n  const [titulo, settitulo] = useState(\"\");\r\n  const [descripcion, setdescripcion] = useState(\"\");\r\n  const [servicios, setservicios] = useState([]);\r\n  const [serviciosSeleccionados, setserviciosSeleccionados] = useState([]);\r\n  const [cargando, setcargando] = useState(false);\r\n  const [mensaje, setmensaje] = useState(false);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const cambiarValor = (e) =>{\r\n    setValorEstrella(Number(e.target.value));\r\n  }\r\n\r\n  useEffect(() => {\r\n    let _id = datos.solicitud!==null?datos.solicitud.Categoria_id:Number(datos.datos_notificacion.split(\"_\")[0])\r\n    let auth = 'Bearer '+state.jwt;\r\n    \r\n    let seleccInic = datos.solicitud!==null?[datos.solicitud.Servicio_id]:[]\r\n    setserviciosSeleccionados(seleccInic)\r\n    \r\n    axios.get(state.servidor+\"/api/servicios?categoria=\"+_id,{\r\n      headers: {'Authorization': auth},\r\n    })\r\n    .then(response => {\r\n      let servicios_ = response.data.map(serv=>{\r\n        serv[\"seleccionado\"] = false\r\n        return serv\r\n      })\r\n      console.log(\"Servicios\",servicios_)\r\n\r\n      setservicios(servicios_)\r\n    })\r\n    .catch(error => {\r\n      alert(\"Un error ha ocurrido al buscar los servicios.\")\r\n      console.log(error.response)\r\n    }) \r\n  },[datos])\r\n\r\n\r\n  function enviarOpinion(e){\r\n    e.preventDefault()\r\n    let auth = 'Bearer '+state.jwt;\r\n    console.log(serviciosSeleccionados)\r\n    \r\n    if(serviciosSeleccionados.length!==0){\r\n      setcargando(true)\r\n      axios.post(\r\n        state.servidor+\"/api/resenas/\",{\r\n        titulo: titulo,\r\n        descripcion: descripcion,\r\n        recomendacion: Number(valorEstrella),\r\n        votos_positivos: 0,\r\n        votos_negativos: 0,\r\n        proveedor: datos.emisor.id,\r\n        servicios: serviciosSeleccionados.length!==0?serviciosSeleccionados:null,\r\n        },\r\n        {headers: {'Authorization': auth},})\r\n      .then(response => {\r\n        console.log(\"Se ha podido crear la reseña: \",response.data)\r\n        eliminarNotificacion(datos.id)\r\n        setcargando(false)\r\n        setabrir(true)\r\n        setOpen(false)\r\n    })\r\n      .catch(error => {\r\n        console.log(\"Error, no se ha podido crear la reseña.\", error.response)\r\n        alert(\"Error, no se ha podido crear la reseña.\")\r\n    })\r\n    }else{\r\n      setmensaje(true)\r\n    }\r\n  }\r\n\r\n  function seleccionarServicio(servicio_){\r\n    if (mensaje)\r\n      setmensaje(false)\r\n    let yaEsta = serviciosSeleccionados.some(serv=>(serv === servicio_.id))\r\n    if(!yaEsta){\r\n      setserviciosSeleccionados([...serviciosSeleccionados, servicio_.id])\r\n    }else{\r\n      setserviciosSeleccionados(serviciosSeleccionados.filter(srv_ => srv_!==servicio_.id))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n        <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleOpen}\r\n        >\r\n        Realizar reseña\r\n      </Button>\r\n\r\n      <AlertaMensaje mensaje=\"¡Reseña enviada!\" setabrir={setabrir} abrir={abrir}/>\r\n\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.mostrarFlex}\r\n        open={open}\r\n        onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}\r\n        \r\n      >\r\n        <Fade in={open}>\r\n          <div >\r\n            <Grid className={classes.papelFondo} style={{maxWidth: \"500px\"}} container direction=\"row\" justify=\"space-between\" alignItems=\"center\">\r\n              <form onSubmit={enviarOpinion}>\r\n                <FormControl >\r\n                  <Grid item xs={12}>\r\n                    <div align=\"center\">\r\n                        <Avatar\r\n                        alt=\"Nombre proveedor\"\r\n                        src={datos.emisor.imagenes_proveedor.length!==0?state.servidor+datos.emisor.imagenes_proveedor[0].url:\"\"}\r\n                        className={classes.imagenPublicacion}/>\r\n                    </div>\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <Typography variant=\"h5\" component=\"h2\" align=\"center\" className={classes.form}>\r\n                      {`${datos.emisor.nombre} ${datos.emisor.apellido}`}\r\n                    </Typography>\r\n                  </Grid>\r\n\r\n                    <Typography variant=\"h5\" component=\"h3\" align=\"center\" className={classes.form}>\r\n                      {datos.solicitud!==null?\"Publicación: \":\"Categoría: \"} \r\n                      {datos.solicitud!==null?datos.solicitud.titulo:datos.datos_notificacion.split(\"_\")[1]}\r\n                    </Typography>\r\n\r\n                    <TextField\r\n                      onChange={(e)=>{settitulo(e.target.value)}}\r\n                      className={classes.inputAncho}\r\n                      id=\"filled-basic\"\r\n                      label=\"Título de la reseña\"\r\n                      variant=\"filled\"\r\n                      required/>\r\n                    <Divider/>\r\n                    <br/>\r\n                    <TextField\r\n                      onChange={(e)=>{setdescripcion(e.target.value)}}\r\n                      className={classes.inputAncho}\r\n                      id=\"filled-basic\"\r\n                      label=\"Descripción (opcional)\"\r\n                      variant=\"filled\"\r\n                      multiline/>\r\n                    <br/>\r\n\r\n                    <Grid container spacing={2} justify=\"space-around\">\r\n                      <Grid item xs={12}>\r\n                        <Typography variant=\"subtitle1\" component=\"h4\" align=\"center\" className={classes.form}>\r\n                          {datos.solicitud!==null?\"Si el proveedor te ha ofrecido otros servicios, puedes seleccionarlos aquí: \":\"Selecciona los servicios llevados a cabo: \"} \r\n                        </Typography>\r\n                      </Grid>\r\n                      {\r\n                        servicios.map((servicio,k) => (\r\n                          datos.solicitud!==null?(datos.solicitud.Servicio_id!==servicio.id):true &&\r\n                          <Grid item xs={6} sm={4} md={3} lg={2} key={k}>\r\n                            <SeleccionarServicio\r\n                              servicio={servicio} \r\n                              agregarSeleccionado={(valor)=>{\r\n                                seleccionarServicio(servicio)\r\n                                servicio.seleccionado = valor\r\n                              }}\r\n                            />\r\n                          </Grid>\r\n                        ))\r\n                      }\r\n                    </Grid>\r\n\r\n                    <Typography variant=\"h5\" component=\"h4\" align=\"center\" className={classes.form}>\r\n                        ¡Valora el servicio brindado!\r\n                    </Typography>\r\n                    <Estrellas valor={valorEstrella} cambiarValor={cambiarValor} clickeable={true}/>\r\n\r\n                    <Hidden xlDown={!mensaje || cargando}>\r\n                      <Typography color=\"error\">\r\n                        Debes seleccionar al menos un servicio.\r\n                      </Typography>\r\n                    </Hidden>\r\n                    \r\n                    {cargando && <LinearProgress/>}\r\n\r\n                    <Button\r\n                      type=\"submit\"\r\n                      disabled={Number(valorEstrella)===0 || cargando}\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                    >\r\n                      Enviar reseña\r\n                    </Button>\r\n                </FormControl>\r\n                </form>\r\n            </Grid>\r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}","import React, {useContext, useEffect, useState} from 'react';\r\nimport axios from 'axios'\r\n//Material-UI\r\nimport {IconButton, LinearProgress, Container, Paper, Grid, Typography} from '@material-ui/core/';\r\nimport {DeleteForever as Eliminar, FiberNew as Nuevo, Assignment as Reporte, EmojiPeople as Identidad, Star as Resena, FormatItalic} from '@material-ui/icons/';\r\nimport Alerta from '@material-ui/lab/Alert';\r\nimport 'react-lightbox-component/build/css/index.css';\r\nimport { format, register } from 'timeago.js';\r\n//Estilos\r\nimport Estilos from '../Estilos.js'\r\nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\r\nimport { red } from '@material-ui/core/colors';\r\nimport RealizarOpinion from './RealizarOpinion.js'\r\nexport default function VerificarIdentidad() {\r\n    const classes = Estilos();\r\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n    const [notificaciones, setnotificaciones] = useState([])\r\n    const [cargando, setcargando] = useState(false);\r\n    \r\n    const [iconos, seticonos] = useState([<Reporte style={{ fontSize: \"75px\" }}/>, <Identidad style={{ fontSize: \"75px\" }}/>, <Resena style={{ fontSize: \"75px\" }}/>]);\r\n    //\r\n    const localeFunc = (number, index, totalSec) => {\r\n        // number: the timeago / timein number;\r\n        // index: the index of array below;\r\n        // totalSec: total seconds between date to be formatted and today's date;\r\n        return [\r\n          ['justo ahora', 'justo ahora'],\r\n          ['hace %s segundos', 'en %s segundos'],\r\n          ['hace 1 minuto', 'en 1 minuto'],\r\n          ['hace %s minutos', 'en %s minutos'],\r\n          ['hace 1 hora', 'en 1 hora'],\r\n          ['hace %s horas', 'en %s horas'],\r\n          ['hace 1 día', 'en 1 día'],\r\n          ['hace %s días', 'en %s días'],\r\n          ['hace 1 semana', 'en 1 semana'],\r\n          ['hace %s semanas', 'en %s semanas'],\r\n          ['hace 1 mes', 'en 1 mes'],\r\n          ['hace %s meses', 'en %s meses'],\r\n          ['hace 1 año', 'en 1 año'],\r\n          ['hace %s años', 'en %s años']\r\n        ][index];\r\n    };\r\n    register('spanish', localeFunc);\r\n    //\r\n    useEffect(()=>{\r\n        setcargando(true)\r\n        let auth = 'Bearer '+state.jwt\r\n        if (state.jwt!==\"\" || state.publico===true){            \r\n            axios.get(state.servidor+\"/api/notificaciones?receptor=\"+state.datosSesion.id,{\r\n                headers: {'Authorization': auth},\r\n            })\r\n            .then(response => {\r\n                console.log(response.data)\r\n                setnotificaciones(response.data.reverse())\r\n\r\n                response.data.map(notif=>{\r\n                    if(notif.leido!==true){\r\n                        definirLeido(notif.id)\r\n                    }\r\n                })\r\n                \r\n                setcargando(false)\r\n            })\r\n            .catch(error => {\r\n                alert(\"Un error ha ocurrido al buscar las notificaciones.\")\r\n                console.log(error.response)\r\n            }) \r\n        }\r\n    },[state.jwt, state.publico])\r\n    \r\n    function eliminarNotificacion(id_){\r\n        setnotificaciones(notificaciones.filter(notificacion=>notificacion.id!==id_))\r\n        let auth = 'Bearer '+state.jwt\r\n        axios.delete(state.servidor+\"/api/notificaciones/\"+id_,{\r\n            headers: {'Authorization': auth},\r\n        })\r\n        .then(response => {\r\n            console.log(response.data)\r\n        })\r\n        .catch(error => {\r\n            alert(\"Un error ha ocurrido al eliminar la notificación.\")\r\n            console.log(error.response)\r\n        }) \r\n    }\r\n\r\n    function definirLeido(id_){\r\n        let auth = 'Bearer '+state.jwt\r\n        axios.put(state.servidor+\"/api/notificaciones/\"+id_,{\r\n            leido: true\r\n        },{\r\n            headers: {'Authorization': auth},\r\n        })\r\n        .then(response => {\r\n            console.log(response.data)\r\n        })\r\n        .catch(error => {\r\n            alert(\"Un error ha ocurrido al cambiar la variable true.\")\r\n            console.log(error.response)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Container className={classes.fondo}>\r\n            <Paper style={{padding:\"15px\", width:\"100%\"}} className=\"Fondo\" variant=\"outlined\" square>\r\n                <Grid container direction=\"row\" alignItems=\"center\">\r\n                    <Grid item xs={12}>\r\n                        <Typography variant=\"h4\" component=\"h4\" align=\"center\">\r\n                            Notificaciones\r\n                        </Typography>\r\n                        <br/>\r\n                    </Grid>\r\n                    {\r\n                        cargando && <Grid item xs={12}><LinearProgress/></Grid>\r\n                    }\r\n                    {\r\n                        !cargando && notificaciones.length===0 && (<Grid item xs={12}><Alerta variant=\"outlined\" severity=\"info\">\r\n                        No tienes notificaciones nuevas.\r\n                        </Alerta></Grid>)\r\n                    }  \r\n                    {\r\n                        notificaciones.map((noti, i)=>(\r\n                            <Paper key={i} className={classes.filaPublicacion} style={{margin:\"auto\" ,width:\"95%\"}} variant=\"outlined\" square>\r\n                                <Grid container item xs={12} alignItems=\"center\">\r\n                                    <Grid item xs={12} sm={2} md={1} lg={1} align=\"center\">\r\n                                        {\r\n                                            iconos[noti.tipo]\r\n                                        }\r\n                                    </Grid>\r\n                                    <Grid item xs={10} sm={8} md={10} lg={10}>\r\n                                        <Typography variant=\"h5\" component=\"h5\" align=\"left\">\r\n                                            {noti.tipo===0 && (noti.solicitud!==null?\r\n                                                'Reporte a la publicación \"'+noti.solicitud.titulo+'\"':\r\n                                                'Reporte a su perfil')}\r\n                                            {noti.tipo===1 && 'Respuesta a tu solicitud de verificación de identidad'}\r\n                                            {noti.tipo===2 && (noti.datos_notificacion===\"\"?\r\n                                                ('Nueva solicitud de reseña a la publicación \"'+noti.solicitud.titulo+'\"'):\r\n                                                ('Nueva solicitud de reseña a la categoría \"'+noti.datos_notificacion.split(\"_\")[1]+'\"'))}\r\n                                            {\" - \"+format(new Date(noti.created_at),\"spanish\")}\r\n                                            {!noti.leido && <Nuevo style={{ color: red[500] }}/>}\r\n                                        </Typography>\r\n                                        <Typography align=\"justify\">\r\n                                            {noti.tipo<2?(noti.datos_notificacion!==\"\"?noti.datos_notificacion:\"¡Felicitaciones! Tu perfil ahora está verificado.\"):\r\n                                            (noti.datos_notificacion===\"\"?\r\n                                            (noti.solicitud.tipo?('Tienes una nueva petición de reseña al servicio \"'+noti.solicitud.titulo):\r\n                                            ('Tienes una nueva petición de reseña al servicio ofrecido por el proveedor '+\r\n                                            `${noti.emisor.nombre} ${noti.emisor.apellido}`+' por tu solicitud \"'+noti.solicitud.titulo+'\". ¡Cuéntanos tu experiencia haciendo click en el botón!')):\r\n                                            ('Tienes una nueva petición de reseña a la categoría \"'+noti.datos_notificacion.split(\"_\")[1]))}\r\n                                            {noti.tipo===2 && noti.solicitud.tipo && '\" realizada por el proveedor '+`${noti.emisor.nombre} ${noti.emisor.apellido}`+'. ¡Cuéntanos tu experiencia haciendo click en el botón!'}\r\n                                        </Typography>\r\n                                        {\r\n                                            noti.tipo===2 && <div align=\"center\"><RealizarOpinion datos={noti} eliminarNotificacion={eliminarNotificacion}/></div>\r\n                                        }\r\n                                        \r\n                                    </Grid>\r\n                                    <Grid item xs={2} sm={2} md={1} lg={1} align=\"center\">\r\n                                        {\r\n                                            <IconButton onClick={()=>{eliminarNotificacion(noti.id)}}><Eliminar color=\"error\" /></IconButton>\r\n                                        }\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Paper>\r\n                        ))\r\n                    }\r\n                </Grid>\r\n            </Paper>\r\n        </Container>\r\n    );\r\n}","import React, { Component } from 'react';\n\nimport './PhotoMessage.css';\n\nimport FaCloudDownload from 'react-icons/lib/fa/cloud-download';\nimport FaError from 'react-icons/lib/fa/exclamation-triangle';\n\nconst ProgressBar = require('react-progress-bar.js');\nconst Circle = ProgressBar.Circle;\n\nexport class PhotoMessage extends Component {\n    render() {\n        var progressOptions = {\n            strokeWidth: 2.3,\n            color: '#efe',\n            trailColor: '#aaa',\n            trailWidth: 1,\n            step: (state, circle) => {\n                circle.path.setAttribute('trail', state.color);\n                circle.path.setAttribute('trailwidth-width', state.width);\n\n                var value = Math.round(circle.value() * 100);\n                if (value === 0)\n                    circle.setText('');\n                else\n                    circle.setText(value);\n            }\n        };\n\n        const error = this.props.data.status && this.props.data.status.error === true;\n\n        return (\n            <div className=\"rce-mbox-photo\">\n                <div\n                    className=\"rce-mbox-photo--img\"\n                    style={this.props.data.width && this.props.data.height && {\n                        width: this.props.data.width,\n                        height: this.props.data.height,\n                    }}>\n                    <img\n                        src={this.props.data.uri}\n                        alt={this.props.data.alt}\n                        onClick={this.props.onOpen}\n                        onLoad={this.props.onLoad}\n                        onError={this.props.onPhotoError}/>\n                    {\n                        error &&\n                        <div className=\"rce-mbox-photo--img__block\">\n                            <span\n                                className=\"rce-mbox-photo--img__block-item rce-mbox-photo--error\">\n                                <FaError/>\n                            </span>\n                        </div>\n                    }\n                    {\n                        !error &&\n                        this.props.data.status &&\n                        !this.props.data.status.download &&\n                        <div className=\"rce-mbox-photo--img__block\">\n                            {\n                                !this.props.data.status.click &&\n                                <button\n                                    onClick={this.props.onDownload}\n                                    className=\"rce-mbox-photo--img__block-item rce-mbox-photo--download\">\n                                    <FaCloudDownload/>\n                                </button>\n                            }\n                            {\n                                typeof this.props.data.status.loading === 'number' &&\n                                this.props.data.status.loading !== 0 &&\n                                <Circle\n                                    progress={this.props.data.status.loading}\n                                    options={progressOptions}\n                                    initialAnimate={true}\n                                    containerClassName={'rce-mbox-photo--img__block-item'} />\n                            }\n                        </div>\n                    }\n                </div>\n                {\n                    this.props.text &&\n                    <div className=\"rce-mbox-text\">\n                        {this.props.text}\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nPhotoMessage.defaultProps = {\n    text: '',\n    data: {},\n    onDownload: null,\n    onOpen: null,\n    onLoad: null,\n    onPhotoError: null,\n};\n\n\nexport default PhotoMessage;\n","import React, { Component } from 'react';\nimport './FileMessage.css';\n\nimport FaCloudDownload from 'react-icons/lib/fa/cloud-download';\nimport FaError from 'react-icons/lib/fa/exclamation-triangle';\nimport FaFile from 'react-icons/lib/fa/file';\n\nconst ProgressBar = require('react-progress-bar.js');\nconst Circle = ProgressBar.Circle;\n\nexport class FileMessage extends Component {\n\n    onClick(e) {\n        if (!this.props.data.status)\n            return;\n\n        if (!this.props.data.status.download && this.props.onDownload instanceof Function)\n            this.props.onDownload(e);\n        else if (this.props.data.status.download && this.props.onOpen instanceof Function)\n            this.props.onOpen(e);\n    }\n\n    render() {\n        var progressOptions = {\n            strokeWidth: 5,\n            color: '#333',\n            trailColor: '#aaa',\n            trailWidth: 5,\n            step: (state, circle) => {\n                circle.path.setAttribute('trail', state.color);\n                circle.path.setAttribute('trailwidth-width', state.width);\n\n                var value = Math.round(circle.value() * 100);\n                if (value === 0)\n                    circle.setText('');\n                else\n                    circle.setText(value);\n            }\n        };\n\n        const error = this.props.data.status && this.props.data.status.error === true;\n\n        return (\n            <div className='rce-mbox-file'>\n                <button onClick={this.onClick.bind(this)}>\n                    <div className=\"rce-mbox-file--icon\">\n                        <FaFile\n                            color='#aaa'/>\n                        <div className=\"rce-mbox-file--size\">\n                            {this.props.data.size}\n                        </div>\n                    </div>\n                    <div className=\"rce-mbox-file--text\">\n                        {this.props.text}\n                    </div>\n                    <div className=\"rce-mbox-file--buttons\">\n                        {\n                            error &&\n                            <span className=\"rce-error-button\">\n                                <FaError\n                                    color='#ff3d3d'/>\n                            </span>\n                        }\n                        {\n                            !error &&\n                            this.props.data.status &&\n                            !this.props.data.status.download &&\n                            !this.props.data.status.click &&\n                            <FaCloudDownload\n                                color='#aaa'/>\n                        }\n                        {\n                            !error &&\n                            this.props.data.status &&\n                            typeof this.props.data.status.loading === 'number' &&\n                            this.props.data.status.loading !== 0 &&\n                            <Circle\n                                progress={this.props.data.status.loading}\n                                options={progressOptions}\n                                initialAnimate={true}\n                                containerClassName={'rce-mbox-file--loading'} />\n                        }\n                    </div>\n                </button>\n            </div>\n        );\n    }\n}\n\nFileMessage.defaultProps = {\n    text: '',\n    data: {},\n    onClick: null,\n    onDownload: null,\n    onOpen: null,\n};\n\n\nexport default FileMessage;\n","import React, { Component } from 'react';\nimport './SystemMessage.css';\n\nconst classNames = require('classnames');\n\nexport class SystemMessage extends Component {\n    render() {\n        return (\n            <div className={classNames(\"rce-container-smsg\", this.props.className)}>\n                <div\n                    className='rce-smsg'>\n                    <div className=\"rce-smsg-text\">\n                        {this.props.text}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default SystemMessage;\n","import React, { Component } from 'react';\nimport './LocationMessage.css';\n\nconst classNames = require('classnames');\n\nconst STATIC_URL = 'https://maps.googleapis.com/maps/api/staticmap?markers=color:MARKER_COLOR|LATITUDE,LONGITUDE&zoom=ZOOM&size=270x200&scale=2&key=KEY';\nconst MAP_URL = 'https://www.google.com/maps/search/?api=1&query=LATITUDE,LONGITUDE&zoom=ZOOM';\n\nexport class LocationMessage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.className = this.className.bind(this);\n    }\n\n    buildURL(url) {\n        var center = this.props.data || {};\n\n        return url.replace(/LATITUDE/g, center.latitude)\n                  .replace(/LONGITUDE/g, center.longitude)\n                  .replace('MARKER_COLOR', this.props.markerColor)\n                  .replace('ZOOM', this.props.zoom)\n                  .replace('KEY', this.props.apiKey);\n    }\n\n    className() {\n        var className = classNames('rce-mbox-location', this.props.className);\n\n        if (this.props.text) {\n            className = classNames(className, 'rce-mbox-location-has-text');\n        }\n\n        return className;\n    }\n\n    render() {\n        const data = this.props.data || {};\n\n        return (\n            <div className='rce-container-lmsg'>\n                <a\n                    onClick={this.props.onOpen}\n                    target={this.props.target}\n                    href={this.props.href || this.props.src || this.buildURL(data.mapURL || MAP_URL)}\n                    className={this.className()}>\n                    <img\n                        onError={this.props.onError}\n                        className='rce-mbox-location-img'\n                        src={\n                            this.props.src ||\n                            this.buildURL(data.staticURL || STATIC_URL)\n                        }/>\n                </a>\n                {\n                    this.props.text &&\n                    <div className=\"rce-mbox-text rce-mbox-location-text\">\n                        {this.props.text}\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nLocationMessage.defaultProps = {\n    target: '_blank',\n    apiKey: '',\n    zoom: 14,\n    markerColor: 'red',\n    onError: () => void(0),\n}\n\nexport default LocationMessage;\n","import React, { Component } from 'react';\nimport './SpotifyMessage.css';\n\nconst classNames = require('classnames');\n\nexport class SpotifyMessage extends Component {\n    toUrl() {\n        var formBody = [];\n        var data = {\n            uri: this.props.uri,\n            theme: this.props.theme,\n            view: this.props.view,\n        };\n        for (var property in data) {\n            var encodedKey = encodeURIComponent(property);\n            var encodedValue = encodeURIComponent(data[property]);\n            formBody.push(encodedKey + \"=\" + encodedValue);\n        }\n        formBody = formBody.join(\"&\");\n        return formBody;\n    }\n\n    render() {\n        if (!this.props.uri)\n            return null;\n        return (\n            <div className=\"rce-mbox-spotify\">\n                <iframe\n                    src={\"https://open.spotify.com/embed?\" + this.toUrl()}\n                    width={this.props.width}\n                    height={this.props.height}\n                    frameBorder=\"0\"\n                    allowtransparency=\"true\"></iframe>\n            </div>\n        );\n    }\n}\n\nSpotifyMessage.defaultProps = {\n    uri: '',\n    theme: 'black',\n    view: 'list',\n    width: 300,\n    height: 380,\n}\n\nexport default SpotifyMessage;\n","import React, { Component } from 'react';\nimport './ReplyMessage.css';\n\nconst classNames = require('classnames');\n\nexport class ReplyMessage extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const {\n            photoURL,\n            title,\n            titleColor,\n            message,\n            onClick,\n        } = this.props;\n\n        return (\n            <div\n                className={classNames(\"rce-mbox-reply\", {\n                    'rce-mbox-reply-border': !!titleColor\n                })}\n                style={titleColor && { borderColor: titleColor }}\n                onClick={onClick}>\n                <div className=\"rce-mbox-reply-left\">\n                    <div\n                        style={titleColor && { color: titleColor }}\n                        className=\"rce-mbox-reply-owner\">\n                        {title || 'Unknown'}\n                    </div>\n                    <div className=\"rce-mbox-reply-message\">\n                        {message || '...'}\n                    </div>\n                </div>\n                {\n                    photoURL &&\n                    <div className=\"rce-mbox-reply-right\">\n                        <img src={photoURL} alt=\"\"/>\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nReplyMessage.defaultProps = {\n    photoURL: null,\n    title: null,\n    titleColor: null,\n    message: null,\n    onClick: () => void(0),\n}\n\nexport default ReplyMessage;\n","import React, { Component } from 'react';\nimport './Avatar.css';\n\nconst classNames = require('classnames');\n\nconst loadedAvatars = [];\n\nexport class Avatar extends Component {\n    constructor(props) {\n        super(props);\n\n        this.requestImage = this.requestImage.bind(this);\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    isLoaded(src) {\n        return loadedAvatars.indexOf(src) !== -1;\n    }\n\n    requestImage(src) {\n        var self = this;\n        this.loading = true;\n\n        var loaded = () => {\n            loadedAvatars.push(src);\n            delete self.loading;\n            if (this._isMounted !== false) {\n                self.setState({});\n            }\n        };\n\n        var img = document.createElement('img');\n        img.src = src;\n        img.onload = loaded;\n        img.onerror = loaded;\n    }\n\n    stringToColour (str) {\n        var hash = 0;\n        for (let i = 0; i < str.length; i++) {\n            hash = str.charCodeAt(i) + ((hash << 5) - hash);\n        }\n        var colour = '#';\n        for (let i = 0; i < 3; i++) {\n            var value = (hash >> (i * 8)) & 0xFF;\n            value = (value % 150) + 50;\n            colour += ('00' + value.toString(16)).substr(-2);\n        }\n        return colour;\n    }\n\n    render() {\n        let src = this.props.src;\n        let isLazyImage = false;\n\n        if (this.props.lazyLoadingImage) {\n            isLazyImage = true;\n\n            if (!this.isLoaded(src)) {\n                src = this.props.lazyLoadingImage; // lazy image\n\n                if (!this.loading) {\n                    this.requestImage(this.props.src);\n                }\n            }\n            else {\n                isLazyImage = false;\n            }\n        }\n\n        return (\n            <div className={classNames('rce-avatar-container', this.props.type, this.props.size, this.props.className)}>\n                {\n                    this.props.letterItem ?\n                    <div\n                        className=\"rce-avatar-letter-background\"\n                        style={{ backgroundColor: this.stringToColour(this.props.letterItem.id)}}>\n                        <span className=\"rce-avatar-letter\">\n                            {this.props.letterItem.letter}\n                        </span>\n                    </div>\n                    :\n                    <img\n                        alt={this.props.alt}\n                        src={src}\n                        onError={this.props.onError}\n                        className={classNames(\n                            'rce-avatar',\n                            {'rce-avatar-lazy': isLazyImage},\n                        )} />\n                }\n                {this.props.sideElement}\n            </div>\n        );\n    }\n}\n\nAvatar.defaultProps = {\n    type: 'default',\n    size: 'default',\n    src: '',\n    alt: '',\n    sideElement: null,\n    lazyLoadingImage: undefined,\n    onError: () => void(0),\n};\n\nexport default Avatar;\n","import React, { Component } from 'react';\nimport './MeetingMessage.css';\n\nimport FaCalendar from 'react-icons/lib/fa/calendar';\nimport MdMoreHoriz from 'react-icons/lib/md/more-horiz';\nimport FaCaretDown from 'react-icons/lib/fa/caret-down';\nimport FaCaretRight from 'react-icons/lib/fa/caret-right';\nimport IoVideo from 'react-icons/lib/io/ios-videocam-outline';\nimport IoChatboxes from 'react-icons/lib/io/ios-chatboxes-outline';\n\nimport {\n    format,\n} from'timeago.js';\n\nimport Avatar from '../Avatar/Avatar';\n\nimport classNames from 'classnames';\n\nexport class MeetingMessage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            toogle: false,\n        };\n    }\n\n    toggleClick() {\n        this.setState({\n            toogle: !this.state.toogle,\n        })\n    }\n\n    render() {\n        const {\n            date,\n            dateString,\n            title,\n            subject,\n            onClick,\n            collapseTitle,\n            dataSource,\n            participants,\n            onMeetingTitleClick,\n            onMeetingVideoLinkClick,\n        } = this.props;\n\n        const PARTICIPANT_LIMIT = this.props.participantsLimit;\n\n        const dateText = dateString ? dateString : (date && !isNaN(date) && (format(date)));\n\n        return (\n            <div className=\"rce-mbox-mtmg\">\n                <div className=\"rce-mtmg\">\n                    <div\n                        className=\"rce-mtmg-subject\">\n                        {subject || 'Unknown Meeting'}\n                    </div>\n                    <div\n                        className=\"rce-mtmg-body\"\n                        onClick={onClick}>\n                        <div className=\"rce-mtmg-item\">\n                            <FaCalendar />\n                            <div className=\"rce-mtmg-content\">\n                                <span className=\"rce-mtmg-title\">\n                                    {title}\n                                </span>\n                                <span className='rce-mtmg-date'>\n                                    {dateText}\n                                </span>\n                            </div>\n                        </div>\n                        <div className=\"rce-mtmg-right-icon\">\n                            <MdMoreHoriz/>\n                        </div>\n                    </div>\n                    <div\n                        className=\"rce-mtmg-body-bottom\"\n                        onClick={() => this.toggleClick()}>\n                        {\n                            this.state.toogle === true ?\n                            <div className=\"rce-mtmg-bottom--tptitle\">\n                                <FaCaretDown/>\n                                <span>{collapseTitle}</span>\n                            </div>\n                            :\n                            <div className=\"rce-mtmg-body-bottom--bttitle\">\n                                <FaCaretRight/>\n                                <span>\n                                    {\n                                        participants.slice(0, PARTICIPANT_LIMIT).map(x => x.title || 'Unknow').join(', ')\n                                    }\n                                    {\n                                        participants.length > PARTICIPANT_LIMIT &&\n                                            `, +${(participants.length - PARTICIPANT_LIMIT)}`\n                                    }\n                                </span>\n                            </div>\n                        }\n                    </div>\n                    <div\n                        className={classNames(\n                            'rce-mtmg-toogleContent',\n                            {'rce-mtmg-toogleContent--click': this.state.toogle === true}\n                        )}>\n                        {\n                            dataSource &&\n                            dataSource.map((x, i) => {\n                                return (\n                                    <div key={i}>\n                                        {\n                                            !x.event &&\n                                            <div className=\"rce-mitem\">\n                                                <div\n                                                    className={classNames(\n                                                        'rce-mitem avatar',\n                                                        {'rce-mitem no-avatar': !x.avatar}\n                                                    )}>\n                                                    {\n                                                        x.avatar ?\n                                                            <Avatar src={x.avatar}/>\n                                                            : <IoChatboxes />\n                                                    }\n                                                </div>\n                                                <div className=\"rce-mitem-body\">\n                                                    <div className=\"rce-mitem-body--top\">\n                                                        <div\n                                                            className=\"rce-mitem-body--top-title\"\n                                                            onClick={(e) => onMeetingTitleClick(x, i, e)}>\n                                                            {x.title}\n                                                        </div>\n                                                        <div className=\"rce-mitem-body--top-time\">\n                                                            {\n                                                                x.dateString ? x.dateString : (x.date &&\n                                                                !isNaN(x.date) &&\n                                                                (format(x.date)))\n                                                            }\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"rce-mitem-body--bottom\">\n                                                        <div\n                                                            className=\"rce-mitem-body--bottom-title\" >\n                                                            {x.message}\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        }\n\n                                        {\n                                            x.event &&\n                                            <div className=\"rce-mitem-event\">\n                                                <div className=\"rce-mitem-bottom-body\">\n                                                    <div className=\"rce-mitem-body avatar\">\n                                                        <IoVideo />\n                                                    </div>\n                                                    <div className=\"rce-mitem-bottom-body-top\">\n                                                        {x.event.title}\n                                                        <div className=\"rce-mitem-body--top-time\">\n                                                            {\n                                                                x.dateString ? x.dateString : (x.date &&\n                                                                !isNaN(x.date) &&\n                                                                (format(x.date)))\n                                                            }\n                                                        </div>\n                                                        <div className=\"rce-mitem-avatar-content\">\n                                                            {\n                                                                x.event.avatars &&\n                                                                x.event.avatars.map((x, i) => x instanceof Avatar ? x : (\n                                                                    <div key={i} className=\"rce-mitem-avatar\">\n                                                                        <Avatar\n                                                                            src={x.src}/>\n                                                                    </div>\n                                                                ))\n                                                            }\n                                                        </div>\n                                                        {\n                                                            x.record &&\n                                                            <div className=\"rce-mtmg-call-record\">\n                                                                <div className=\"rce-mtmg-call-body\">\n                                                                    <div\n                                                                        onClick={(e) => onMeetingVideoLinkClick(x, i, e)}\n                                                                        className=\"rce-mtmg-call-avatars\">\n                                                                        <Avatar\n                                                                            className={'rce-mtmg-call-avatars'}\n                                                                            src={x.record.avatar}/>\n                                                                        <div className={'rce-mtmg-record-time'}>\n                                                                            {x.record.time}\n                                                                        </div>\n                                                                    </div>\n                                                                    <div className=\"rce-mtmg-call-body-title\">\n                                                                        <span>\n                                                                            {x.record.title}\n                                                                        </span>\n                                                                        <div className=\"rce-mtmg-call-body-bottom\">\n                                                                            {x.record.savedBy}\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        }\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        }\n                                    </div>\n                                )\n                            })\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nMeetingMessage.defaultProps = {\n    date: new Date(),\n    dateString: '',\n    title: '',\n    subject: '',\n    collapseTitle: '',\n    participantsLimit: 3,\n    avatarFlexible: false,\n    dataSource: [],\n    participants: [],\n    onClick: () => void(0),\n    onMeetingTitleClick: () => void(0),\n    onMeetingVideoLinkClick: () => void(0),\n    onAvatarError: () => void(0),\n};\n\nexport default MeetingMessage;\n","import React, { Component } from 'react';\nimport './MessageBox.css';\n\nimport PhotoMessage from '../PhotoMessage/PhotoMessage';\nimport FileMessage from '../FileMessage/FileMessage';\nimport SystemMessage from '../SystemMessage/SystemMessage';\nimport LocationMessage from '../LocationMessage/LocationMessage';\nimport SpotifyMessage from '../SpotifyMessage/SpotifyMessage';\nimport ReplyMessage from '../ReplyMessage/ReplyMessage';\nimport MeetingMessage from '../MeetingMessage/MeetingMessage';\n\nimport Avatar from '../Avatar/Avatar';\n\nimport FaForward from 'react-icons/lib/fa/mail-forward';\n\nimport IoDoneAll from 'react-icons/lib/io/android-done-all';\nimport MdIosTime from 'react-icons/lib/md/access-time';\nimport MdCheck from 'react-icons/lib/md/check';\nimport MdMessage from 'react-icons/lib/md/message';\n\nimport {\n    format,\n} from 'timeago.js';\n\nimport classNames from 'classnames';\n\nexport class MessageBox extends Component {\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.focus !== this.props.focus && nextProps.focus === true) {\n            if (this.refs['message']) {\n                this.refs['message'].scrollIntoView({\n                    block: \"center\",\n                    behavior: 'smooth'\n                })\n\n                this.props.onMessageFocused(nextProps);\n            }\n        }\n    }\n\n    render() {\n        var positionCls = classNames('rce-mbox', { 'rce-mbox-right': this.props.position === 'right' });\n        var thatAbsoluteTime = !/(text|file|meeting)/g.test(this.props.type) && !(this.props.type === 'location' && this.props.text);\n\n        const dateText = this.props.date && !isNaN(this.props.date) && (\n            this.props.dateString ||\n            format(this.props.date)\n        );\n\n        return (\n            <div\n                ref='message'\n                className={classNames('rce-container-mbox', this.props.className)}\n                onClick={this.props.onClick}>\n                {\n                    this.props.renderAddCmp instanceof Function &&\n                    this.props.renderAddCmp()\n                }\n                {\n                    this.props.type === 'system' ?\n                        <SystemMessage\n                            text={this.props.text} />\n                        :\n                        <div\n                            className={classNames(\n                                positionCls,\n                                {'rce-mbox--clear-padding': thatAbsoluteTime},\n                                {'rce-mbox--clear-notch': !this.props.notch},\n                                { 'message-focus': this.props.focus},\n                            )}>\n                            <div\n                                className='rce-mbox-body'\n                                onContextMenu={this.props.onContextMenu}>\n                                {\n                                    this.props.forwarded === true &&\n                                    <div\n                                        className={classNames(\n                                            'rce-mbox-forward',\n                                            { 'rce-mbox-forward-right': this.props.position === 'left' },\n                                            { 'rce-mbox-forward-left': this.props.position === 'right' }\n                                        )}\n                                        onClick={this.props.onForwardClick}>\n                                            <FaForward />\n                                    </div>\n                                }\n\n                                {\n                                    this.props.replyButton === true &&\n                                    <div\n                                        className={this.props.forwarded !== true ? classNames(\n                                            'rce-mbox-forward',\n                                            { 'rce-mbox-forward-right': this.props.position === 'left' },\n                                            { 'rce-mbox-forward-left': this.props.position === 'right' }\n                                        ) : classNames(\n                                            'rce-mbox-forward',\n                                            { 'rce-mbox-reply-btn-right': this.props.position === 'left' },\n                                            { 'rce-mbox-reply-btn-left': this.props.position === 'right' }\n                                        )}\n                                        onClick={this.props.onReplyClick}>\n                                            <MdMessage />\n                                    </div>\n                                }\n\n                                {\n                                    (this.props.title || this.props.avatar) &&\n                                    <div\n                                        style={this.props.titleColor && { color: this.props.titleColor }}\n                                        onClick={this.props.onTitleClick}\n                                        className={classNames('rce-mbox-title', {\n                                            'rce-mbox-title--clear': this.props.type === 'text',\n                                        })}>\n                                        {\n                                            this.props.avatar &&\n                                            <Avatar\n                                                letterItem={this.props.letterItem}\n                                                src={this.props.avatar}/>\n                                        }\n                                        {\n                                            this.props.title &&\n                                            <span>{this.props.title}</span>\n                                        }\n                                    </div>\n                                }\n\n                                {\n                                    this.props.reply &&\n                                    <ReplyMessage\n                                        photoURL={this.props.reply.photoURL}\n                                        title={this.props.reply.title}\n                                        titleColor={this.props.reply.titleColor}\n                                        message={this.props.reply.message}\n                                        onClick={this.props.onReplyMessageClick}/>\n                                }\n\n                                {\n                                    this.props.type === 'text' &&\n                                    <div className=\"rce-mbox-text\">\n                                        {this.props.text}\n                                    </div>\n                                }\n\n                                {\n                                    this.props.type === 'location' &&\n                                    <LocationMessage\n                                        onOpen={this.props.onOpen}\n                                        data={this.props.data}\n                                        target={this.props.target}\n                                        href={this.props.href}\n                                        apiKey={this.props.apiKey}\n                                        src={this.props.src}\n                                        zoom={this.props.zoom}\n                                        markerColor={this.props.markerColor}\n                                        text={this.props.text} />\n                                }\n\n                                {\n                                    this.props.type === 'photo' &&\n                                    <PhotoMessage\n                                        onOpen={this.props.onOpen}\n                                        onDownload={this.props.onDownload}\n                                        onLoad={this.props.onLoad}\n                                        onPhotoError={this.props.onPhotoError}\n                                        data={this.props.data}\n                                        width={this.props.width}\n                                        height={this.props.height}\n                                        text={this.props.text} />\n                                }\n\n                                {\n                                    this.props.type === 'file' &&\n                                    <FileMessage\n                                        onOpen={this.props.onOpen}\n                                        onDownload={this.props.onDownload}\n                                        data={this.props.data}\n                                        text={this.props.text} />\n                                }\n\n                                {\n                                    this.props.type === 'spotify' &&\n                                    <SpotifyMessage\n                                        width={this.props.width}\n                                        height={this.props.height}\n                                        theme={this.props.theme}\n                                        view={this.props.view}\n                                        data={this.props.data}\n                                        uri={this.props.uri || this.props.text} />\n                                }\n\n                                {\n                                    this.props.type === 'meeting' &&\n                                    this.props.meeting &&\n                                    <MeetingMessage\n                                        subject={this.props.meeting.subject}\n                                        title={this.props.meeting.title}\n                                        date={this.props.meeting.date}\n                                        dateString={this.props.meeting.dateString}\n                                        collapseTitle={this.props.meeting.collapseTitle}\n                                        participants={this.props.meeting.participants}\n                                        dataSource={this.props.meeting.dataSource}\n                                        onMeetingMessageClick={this.props.onMeetingMessageClick}\n                                        onMeetingVideoLinkClick={this.props.onMeetingVideoLinkClick}\n                                        onMeetingTitleClick={this.props.onMeetingTitleClick} />\n                                }\n\n                                <div\n                                    className={classNames(\n                                        'rce-mbox-time',\n                                        { 'rce-mbox-time-block': thatAbsoluteTime },\n                                        { 'non-copiable': !this.props.copiableDate },\n                                    )}\n                                    data-text={this.props.copiableDate ? undefined : dateText}>\n                                    {\n                                        this.props.copiableDate &&\n                                        this.props.date &&\n                                        !isNaN(this.props.date) &&\n                                        (\n                                            this.props.dateString ||\n                                            format(this.props.date)\n                                        )\n                                    }\n                                    {\n                                        this.props.status &&\n                                        <span className='rce-mbox-status'>\n                                            {\n                                                this.props.status === 'waiting' &&\n                                                <MdIosTime />\n                                            }\n\n                                            {\n                                                this.props.status === 'sent' &&\n                                                <MdCheck />\n                                            }\n\n                                            {\n                                                this.props.status === 'received' &&\n                                                <IoDoneAll />\n                                            }\n\n                                            {\n                                                this.props.status === 'read' &&\n                                                <IoDoneAll color='#4FC3F7'/>\n                                            }\n                                        </span>\n                                    }\n                                </div>\n                            </div>\n\n                            {\n                                this.props.notch &&\n                                (this.props.position === 'right' ?\n                                    <svg className={classNames(\n                                        \"rce-mbox-right-notch\",\n                                        { 'message-focus': this.props.focus},\n                                    )} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n                                        <path d=\"M0 0v20L20 0\" />\n                                    </svg>\n                                    :\n                                    <div>\n                                        <svg className={classNames(\n                                                \"rce-mbox-left-notch\",\n                                                { 'message-focus': this.props.focus},\n                                            )} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n                                            <defs>\n                                                <filter id=\"filter1\" x=\"0\" y=\"0\">\n                                                    <feOffset result=\"offOut\" in=\"SourceAlpha\" dx=\"-2\" dy=\"-5\" />\n                                                    <feGaussianBlur result=\"blurOut\" in=\"offOut\" stdDeviation=\"3\" />\n                                                    <feBlend in=\"SourceGraphic\" in2=\"blurOut\" mode=\"normal\" />\n                                                </filter>\n                                            </defs>\n                                            <path d=\"M20 0v20L0 0\" filter=\"url(#filter1)\" />\n                                        </svg>\n                                    </div>\n                                )\n                            }\n                        </div>\n                }\n            </div>\n        );\n    }\n}\n\nMessageBox.defaultProps = {\n    position: 'left',\n    type: 'text',\n    text: '',\n    title: null,\n    titleColor: null,\n    onTitleClick: null,\n    onForwardClick: null,\n    onReplyClick: null,\n    onReplyMessageClick: null,\n    date: new Date(),\n    data: {},\n    onClick: null,\n    onOpen: null,\n    onDownload: null,\n    onLoad: null,\n    onPhotoError: null,\n    forwarded: false,\n    reply: false,\n    status: null,\n    dateString: null,\n    notch: true,\n    avatar: null,\n    renderAddCmp: null,\n    copiableDate: false,\n    onContextMenu: null,\n    focus: false,\n    onMessageFocused: null,\n};\n\n\nexport default MessageBox;\n","import React, { Component } from 'react';\nimport './ChatItem.css';\n\nimport Avatar from '../Avatar/Avatar';\n\nimport {\n    format,\n} from'timeago.js';\n\nimport classNames from 'classnames';\n\nexport class ChatItem extends Component {\n\n    render() {\n        const statusColorType = this.props.statusColorType;\n\n        return (\n            <div\n                className={classNames('rce-container-citem', this.props.className)}\n                onClick={this.props.onClick}\n                onContextMenu={this.props.onContextMenu}>\n                <div className=\"rce-citem\">\n                    <div className={classNames(\n                            \"rce-citem-avatar\",\n                            {\n                                'rce-citem-status-encircle': statusColorType === 'encircle',\n                            }\n                        )}>\n                        <Avatar\n                            src={this.props.avatar}\n                            alt={this.props.alt}\n                            className={statusColorType === 'encircle' ? 'rce-citem-avatar-encircle-status' : ''}\n                            size=\"large\"\n                            letterItem={this.props.letterItem}\n                            sideElement={\n                                this.props.statusColor &&\n                                <span\n                                    className='rce-citem-status'\n                                    style={statusColorType === 'encircle' ? {\n                                        boxShadow: `inset 0 0 0 2px ${this.props.statusColor}, inset 0 0 0 5px #FFFFFF`\n                                    } : {\n                                        backgroundColor: this.props.statusColor,\n                                    }}>\n                                    {this.props.statusText}\n                                </span>\n                            }\n                            onError={this.props.onAvatarError}\n                            lazyLoadingImage={this.props.lazyLoadingImage}\n                            type={classNames('circle', {'flexible': this.props.avatarFlexible})}/>\n                    </div>\n\n                    <div className=\"rce-citem-body\">\n                        <div className=\"rce-citem-body--top\">\n                            <div className=\"rce-citem-body--top-title\">\n                                {this.props.title}\n                            </div>\n                            <div className=\"rce-citem-body--top-time\">\n                                {\n                                    this.props.date &&\n                                    !isNaN(this.props.date) &&\n                                    (\n                                        this.props.dateString ||\n                                        format(this.props.date)\n                                    )\n                                }\n                            </div>\n                        </div>\n\n                        <div className=\"rce-citem-body--bottom\">\n                            <div className=\"rce-citem-body--bottom-title\">\n                                {this.props.subtitle}\n                            </div>\n                            <div className=\"rce-citem-body--bottom-status\">\n                                {\n                                    this.props.unread > 0 &&\n                                    <span>{this.props.unread}</span>\n                                }\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nChatItem.defaultProps = {\n    id: '',\n    onClick: null,\n    avatar: '',\n    avatarFlexible: false,\n    alt: '',\n    title: '',\n    subtitle: '',\n    date: new Date(),\n    unread: 0,\n    statusColor: null,\n    statusColorType: 'badge',\n    statusText: null,\n    dateString: null,\n    lazyLoadingImage: undefined,\n    onAvatarError: () => void(0),\n}\n\nexport default ChatItem;\n","import React, { Component } from 'react';\nimport './ChatList.css';\n\nimport ChatItem from '../ChatItem/ChatItem';\n\nconst classNames = require('classnames');\n\nexport class ChatList extends Component {\n\n    onClick(item, i, e) {\n        if (this.props.onClick instanceof Function)\n            this.props.onClick(item, i, e);\n    }\n\n    onContextMenu(item, i, e) {\n        e.preventDefault();\n        if (this.props.onContextMenu instanceof Function)\n            this.props.onContextMenu(item, i, e);\n    }\n\n    onAvatarError(item, i, e) {\n        if (this.props.onAvatarError instanceof Function)\n            this.props.onAvatarError(item, i, e);\n    }\n\n    render() {\n        return (\n            <div\n                ref={this.props.cmpRef}\n                className={classNames('rce-container-clist', this.props.className)}>\n                {\n                    this.props.dataSource.map((x, i) => (\n                        <ChatItem\n                            id={x.id || i}\n                            key={i}\n                            lazyLoadingImage={this.props.lazyLoadingImage}\n                            {...x}\n                            onAvatarError={(e) => this.onAvatarError(x, i, e)}\n                            onContextMenu={(e) => this.onContextMenu(x, i, e)}\n                            onClick={(e) => this.onClick(x, i, e)}/>\n                    ))\n                }\n            </div>\n        );\n    }\n}\n\nChatList.defaultProps = {\n    dataSource: [],\n    onClick: null,\n    lazyLoadingImage: undefined,\n};\n\nexport default ChatList;\n","import React, { Component, } from 'react';\nimport './MessageList.css';\n\nimport MessageBox from '../MessageBox/MessageBox';\n\nimport FaChevronDown from 'react-icons/lib/fa/chevron-down';\n\nconst classNames = require('classnames');\n\nexport class MessageList extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            scrollBottom: 0,\n            downButton: false,\n        };\n\n        this.loadRef = this.loadRef.bind(this);\n        this.onScroll = this.onScroll.bind(this);\n    }\n\n    checkScroll() {\n        var e = this.mlistRef;\n        if (!e)\n            return;\n\n        if (this.props.toBottomHeight === '100%' || this.state.scrollBottom < this.props.toBottomHeight) {\n            // scroll to bottom\n            e.scrollTop = e.scrollHeight;\n        } else {\n            if (this.props.lockable === true) {\n                e.scrollTop = e.scrollHeight - e.offsetHeight - this.state.scrollBottom;\n            }\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (!this.mlistRef)\n            return;\n        if (nextProps.dataSource.length !== this.props.dataSource.length) {\n            this.setState({\n                scrollBottom: this.getBottom(this.mlistRef),\n            }, this.checkScroll.bind(this));\n        }\n    }\n\n    getBottom(e) {\n        return e.scrollHeight - e.scrollTop - e.offsetHeight;\n    }\n\n    onOpen(item, i, e) {\n        if (this.props.onOpen instanceof Function)\n            this.props.onOpen(item, i, e);\n    }\n\n    onDownload(item, i, e) {\n        if (this.props.onDownload instanceof Function)\n            this.props.onDownload(item, i, e);\n    }\n\n    onPhotoError(item, i, e) {\n      if (this.props.onPhotoError instanceof Function)\n        this.props.onPhotoError(item, i, e);\n    }\n\n    onClick(item, i, e) {\n        if (this.props.onClick instanceof Function)\n            this.props.onClick(item, i, e);\n    }\n\n    onTitleClick(item, i, e) {\n        if (this.props.onTitleClick instanceof Function)\n            this.props.onTitleClick(item, i, e);\n    }\n\n    onForwardClick(item, i, e) {\n        if (this.props.onForwardClick instanceof Function)\n            this.props.onForwardClick(item, i, e);\n    }\n\n    onReplyClick(item, i, e) {\n        if (this.props.onReplyClick instanceof Function)\n            this.props.onReplyClick(item, i, e);\n    }\n\n    onReplyMessageClick(item, i, e) {\n        if (this.props.onReplyMessageClick instanceof Function)\n            this.props.onReplyMessageClick(item, i, e);\n    }\n\n    onContextMenu(item, i, e) {\n        if (this.props.onContextMenu instanceof Function)\n            this.props.onContextMenu(item, i, e);\n    }\n\n    onMessageFocused(item, i, e) {\n        if (this.props.onMessageFocused instanceof Function)\n            this.props.onMessageFocused(item, i, e);\n    }\n\n    onMeetingMessageClick(item, i, e) {\n        if (this.props.onMeetingMessageClick instanceof Function)\n            this.props.onMeetingMessageClick(item, i, e);\n    }\n\n    loadRef(ref) {\n        this.mlistRef = ref;\n        if (this.props.cmpRef instanceof Function)\n            this.props.cmpRef(ref);\n    }\n\n    onScroll(e) {\n        var bottom = this.getBottom(e.target);\n        this.state.scrollBottom = bottom;\n        if (this.props.toBottomHeight === '100%' || bottom > this.props.toBottomHeight) {\n            if (this.state.downButton !== true) {\n                this.state.downButton = true;\n                this.setState({\n                    downButton: true,\n                    scrollBottom: bottom,\n                });\n            }\n        } else {\n            if (this.state.downButton !== false) {\n                this.state.downButton = false;\n                this.setState({\n                    downButton: false,\n                    scrollBottom: bottom,\n                });\n            }\n        }\n\n        if (this.props.onScroll instanceof Function) {\n            this.props.onScroll(e);\n        }\n    }\n\n    toBottom(e) {\n        if(!this.mlistRef)\n            return;\n        this.mlistRef.scrollTop = this.mlistRef.scrollHeight;\n        if (this.props.onDownButtonClick instanceof Function) {\n            this.props.onDownButtonClick(e);\n        }\n    }\n\n    render() {\n        return (\n            <div\n                className={classNames(['rce-container-mlist', this.props.className])}>\n                <div\n                    ref={this.loadRef}\n                    onScroll={this.onScroll}\n                    className='rce-mlist'>\n                    {\n                        this.props.dataSource.map((x, i) => (\n                            <MessageBox\n                                key={i}\n                                {...x}\n                                onOpen={this.props.onOpen && ((e) => this.onOpen(x, i, e))}\n                                onPhotoError={this.props.onPhotoError && ((e) => this.onPhotoError(x, i, e))}\n                                onDownload={this.props.onDownload && ((e) => this.onDownload(x, i, e))}\n                                onTitleClick={this.props.onTitleClick && ((e) => this.onTitleClick(x, i, e))}\n                                onForwardClick={this.props.onForwardClick && ((e) => this.onForwardClick(x, i, e))}\n                                onReplyClick={this.props.onReplyClick && ((e) => this.onReplyClick(x, i, e))}\n                                onReplyMessageClick={this.props.onReplyMessageClick && ((e) => this.onReplyMessageClick(x, i, e))}\n                                onClick={this.props.onClick && ((e) => this.onClick(x, i, e))}\n                                onContextMenu={this.props.onContextMenu && ((e) => this.onContextMenu(x, i, e))}\n                                onMessageFocused={this.props.onMessageFocused && ((e) => this.onMessageFocused(x, i, e))}\n                                onMeetingMessageClick={this.props.onMeetingMessageClick && ((e) => this.onMeetingMessageClick(x, i, e))}\n                                onMeetingTitleClick={this.props.onMeetingTitleClick}\n                                onMeetingVideoLinkClick={this.props.onMeetingVideoLinkClick}\n                            />\n                        ))\n                    }\n                </div>\n                {\n                    this.props.downButton === true &&\n                    this.state.downButton &&\n                    this.props.toBottomHeight !== '100%' &&\n                    <div\n                        className='rce-mlist-down-button'\n                        onClick={this.toBottom.bind(this)}>\n                        <FaChevronDown/>\n                        {\n                            this.props.downButtonBadge &&\n                            <span\n                                className='rce-mlist-down-button--badge'>\n                                {this.props.downButtonBadge}\n                            </span>\n                        }\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nMessageList.defaultProps = {\n    onClick: null,\n    onTitleClick: null,\n    onForwardClick: null,\n    onReplyClick: null,\n    onReplyMessageClick: null,\n    onMeetingMessageClick: null,\n    onDownButtonClick: null,\n    onOpen: null,\n    onPhotoError: null,\n    onDownload: null,\n    dataSource: [],\n    lockable: false,\n    toBottomHeight: 300,\n    downButton: true,\n    downButtonBadge: null,\n};\n\nexport default MessageList;\n","import React, { Component } from 'react';\nimport './Input.css';\n\nconst classNames = require('classnames');\n\nexport class Input extends Component {\n    onChange(e) {\n        if (this.props.maxlength && (e.target.value || '').length > this.props.maxlength) {\n            if (this.props.onMaxLengthExceed instanceof Function)\n                this.props.onMaxLengthExceed();\n\n            this.input.value = (e.target.value || '').substring(0, this.props.maxlength);\n            return;\n        }\n\n        if (this.props.onChange instanceof Function)\n            this.props.onChange(e);\n\n        if (this.props.multiline === true) {\n            if (this.props.autoHeight === true) {\n                if (e.target.style.height !== this.props.minHeight + 'px') {\n                    e.target.style.height = this.props.minHeight + 'px';\n                }\n\n                let height;\n                if (e.target.scrollHeight <= this.props.maxHeight)\n                    height = e.target.scrollHeight + 'px';\n                else\n                    height = this.props.maxHeight + 'px';\n\n                if (e.target.style.height !== height) {\n                    e.target.style.height = height;\n                }\n            }\n        }\n    }\n\n    clear() {\n        var event = {\n            FAKE_EVENT: true,\n            target: this.input,\n        };\n\n        if (this.input.value) {\n            this.input.value = '';\n        }\n\n        this.onChange(event);\n    }\n\n    componentDidMount() {\n        if (this.props.autofocus === true)\n            this.input.focus();\n    }\n\n    render() {\n        return (\n            <div className={classNames('rce-container-input', this.props.className)}>\n                {\n                    this.props.leftButtons &&\n                    <div className='rce-input-buttons'>\n                        {this.props.leftButtons}\n                    </div>\n                }\n                {\n                    this.props.multiline === false ?\n                    <input\n                        ref={(ref) => {\n                            if (this.props.inputRef instanceof Function)\n                                this.props.inputRef(ref);\n                            this.input = ref;\n                        }}\n                        type={this.props.type}\n                        className={classNames('rce-input')}\n                        placeholder={this.props.placeholder}\n                        defaultValue={this.props.defaultValue}\n                        style={this.props.inputStyle}\n                        onChange={this.onChange.bind(this)}\n                        onCopy={this.props.onCopy}\n                        onCut={this.props.onCut}\n                        onPaste={this.props.onPaste}\n                        onBlur={this.props.onBlur}\n                        onFocus={this.props.onFocus}\n                        onSelect={this.props.onSelect}\n                        onSubmit={this.props.onSubmit}\n                        onReset={this.props.onReset}\n                        onKeyDown={this.props.onKeyDown}\n                        onKeyPress={this.props.onKeyPress}\n                        onKeyUp={this.props.onKeyUp}/>\n                    :\n                    <textarea\n                        ref={(ref) => {\n                            if (this.props.inputRef instanceof Function)\n                                this.props.inputRef(ref);\n                            this.input = ref;\n                        }}\n                        type={this.props.type}\n                        className={classNames('rce-input', 'rce-input-textarea')}\n                        placeholder={this.props.placeholder}\n                        defaultValue={this.props.defaultValue}\n                        style={this.props.inputStyle}\n                        onChange={this.onChange.bind(this)}\n                        onCopy={this.props.onCopy}\n                        onCut={this.props.onCut}\n                        onPaste={this.props.onPaste}\n                        onBlur={this.props.onBlur}\n                        onFocus={this.props.onFocus}\n                        onSelect={this.props.onSelect}\n                        onSubmit={this.props.onSubmit}\n                        onReset={this.props.onReset}\n                        onKeyDown={this.props.onKeyDown}\n                        onKeyPress={this.props.onKeyPress}\n                        onKeyUp={this.props.onKeyUp}></textarea>\n                }\n                {\n                    this.props.rightButtons &&\n                    <div className='rce-input-buttons'>\n                        {this.props.rightButtons}\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nInput.defaultProps = {\n    type: 'text',\n    placeholder: '',\n    defaultValue: '',\n    onChange: null,\n    rightButtons: null,\n    leftButtons: null,\n    multiline: false,\n    minHeight: 25,\n    maxHeight: 200,\n    autoHeight: true,\n    inputStyle: null,\n    inputRef: null,\n    maxlength: null,\n    onMaxLengthExceed: null,\n    autofocus: false,\n};\n\nexport default Input;\n","import React, { Component } from 'react';\nimport './Button.css';\n\nconst classNames = require('classnames');\n\nexport class Button extends Component {\n    render() {\n        return (\n            <button\n                ref={this.props.buttonRef}\n                title={this.props.title}\n                className={classNames('rce-button', this.props.type, this.props.className)}\n                style={{\n                    backgroundColor: this.props.backgroundColor,\n                    color: this.props.color,\n                    borderColor: this.props.backgroundColor\n                }}\n                disabled={this.props.disabled}\n                onClick={this.props.onClick}>\n                {\n                    this.props.icon ?\n                        <span className='rce-button-icon--container'>\n                            {(this.props.icon.float === 'right' || !this.props.icon.float) && <span>{this.props.text}</span>}\n\n                            <span style={{ float: this.props.icon.float, fontSize: this.props.icon.size || 12 }} className='rce-button-icon'>{this.props.icon.component}</span>\n\n                            {this.props.icon.float === 'left' && <span>{this.props.text}</span>}\n                        </span>\n                        : <span>{this.props.text}</span>\n                }\n            </button>\n        );\n    }\n}\n\nButton.defaultProps = {\n    text: '',\n    disabled: false,\n    type: null,\n    icon: null,\n    backgroundColor: '#3979aa',\n    color: 'white',\n    className: null,\n    buttonRef: null,\n    title: null,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport './Navbar.css';\n\nconst classNames = require('classnames');\n\nexport class Navbar extends Component {\n    render() {\n        return (\n            <div className={classNames('rce-navbar', this.props.type, this.props.className)}>\n                <div className=\"rce-navbar-item rce-navbar-item__left\">\n                    {this.props.left}\n                </div>\n                <div className=\"rce-navbar-item rce-navbar-item__center\">\n                    {this.props.center}\n                </div>\n                <div className=\"rce-navbar-item rce-navbar-item__right\">\n                    {this.props.right}\n                </div>\n            </div>\n        );\n    }\n}\n\nNavbar.defaultProps = {\n    left: null,\n    center: null,\n    right: null,\n    type:'light'\n};\n\nexport default Navbar;\n","import React, { Component } from 'react';\nimport './Dropdown.css';\n\nimport Button from '../Button/Button';\n\nconst classNames = require('classnames');\n\nexport class Dropdown extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            show: undefined,\n        };\n    }\n\n    onBlur(e) {\n        if (this.state.show === true)\n            this.setState({show: false});\n    }\n\n    render() {\n        return (\n            <div className={classNames('rce-dropdown-container', this.props.className)} onBlur={this.onBlur.bind(this)}>\n                {\n                    <Button\n                        {...this.props.buttonProps}\n                        onClick={() => this.setState({ show: !this.state.show })} />\n                }\n                <div\n                    className={classNames(\n                        'rce-dropdown',\n                        this.props.animationType,\n                        'rce-dropdown-open__' + this.props.animationPosition,\n                        { 'dropdown-hide': this.state.show === false },\n                        { 'dropdown-show': this.state.show === true })}>\n\n                        <ul>\n                            {\n                                this.props.title &&\n                                <span className='rce-dropdown-title'>{this.props.title}</span>\n                            }\n                            {\n                                this.props.items.map((x, i) => (\n                                    <li key={i} onMouseDown={(e) => this.props.onSelect(i)}>\n                                        {\n                                            x instanceof Object ?\n                                                x.icon ?\n                                                    <span className='rce-button-icon--container'>\n                                                        {(x.icon.float === 'right' || !x.icon.float) && <a>{x.text}</a>}\n\n                                                        <span style={{ float: x.icon.float, color: x.icon.color, fontSize: x.icon.size || 12 }} className={classNames('rce-button-icon', x.icon.className)}>{x.icon.component}</span>\n\n                                                        {x.icon.float === 'left' && <a>{x.text}</a>}\n                                                    </span>\n                                                    : <a>{x.text}</a>\n                                            :\n                                            <a>{x}</a>\n                                        }\n                                    </li>\n                                ))\n                            }\n                        </ul>\n                </div>\n            </div>\n        );\n    }\n}\n\nDropdown.defaultProps = {\n    animationType: 'default',\n    animationPosition: 'nortwest',\n    items: [],\n    onSelect: Function,\n    buttonProps: null\n};\n\nexport default Dropdown;\n","import React, { Component } from 'react';\nimport './SideBar.css';\n\nconst classNames = require('classnames');\n\nexport class SideBar extends Component {\n    render() {\n        return (\n            <div className={classNames('rce-sbar', this.props.type, this.props.className)}>\n                <div className=\"rce-sbar-item\">\n                    {this.props.top}\n                </div>\n                <div className=\"rce-sbar-item rce-sbar-item__center\">\n                    {this.props.center}\n                </div>\n                <div className=\"rce-sbar-item\">\n                    {this.props.bottom}\n                </div>\n            </div>\n        );\n    }\n}\n\nSideBar.defaultProps = {\n    top: null,\n    center: null,\n    bottom: null,\n    type: 'dark',\n}\n\nexport default SideBar;\n","import React, { Component } from 'react';\nimport './Popup.css';\n\nimport Button from '../Button/Button';\n\nconst classNames = require('classnames');\n\nexport class Popup extends Component {\n    render() {\n        if (this.props.show === true)\n        return (\n            <div className={classNames('rce-popup-wrapper', this.props.type, this.props.className)}>\n                <div className=\"rce-popup\">\n                    {\n                        this.props.renderHeader ?\n                            <div className=\"rce-popup-header\">\n                                {this.props.renderHeader()}\n                            </div>\n                        :\n                        <div className=\"rce-popup-header\">\n                            <span>{this.props.header}</span>\n                            {\n                                this.props.header &&\n                                this.props.headerButtons.map((x, i) => (\n                                    <Button\n                                        key={i}\n                                        {...x}/>\n                                ))\n                            }\n                        </div>\n                    }\n                    <div className=\"rce-popup-content\" style={{color: this.props.color}}>\n                        {\n                            this.props.renderContent ?\n                                this.props.renderContent()\n                            :\n                            this.props.text\n                        }\n                    </div>\n                    <div className=\"rce-popup-footer\">\n                        {\n                            this.props.renderFooter ?\n                                this.props.renderFooter()\n                            :\n                            this.props.footerButtons.map((x, i) => (\n                                <Button\n                                    key={i}\n                                    {...x}/>\n                            ))\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n        return null;\n    }\n}\n\nPopup.defaultProps = {\n    show: false,\n    header: null,\n    text: null,\n    headerButtons: [],\n    footerButtons: [],\n    renderHeader: null,\n    renderContent: null,\n    renderFooter: null,\n    color: '#333',\n};\n\nexport default Popup;\n","import React, { Component } from 'react';\nimport './MeetingItem.css';\n\nimport MdVideoCall from 'react-icons/lib/md/video-call';\nimport MdLink from 'react-icons/lib/md/link';\nimport MdCall from 'react-icons/lib/md/call';\n\nimport Avatar from '../Avatar/Avatar';\n\nimport {\n    format,\n} from'timeago.js';\n\nimport classNames from 'classnames';\n\nexport class MeetingItem extends Component {\n\n    render() {\n        const statusColorType = this.props.statusColorType;\n        const AVATAR_LIMIT = this.props.avatarLimit;\n\n        const dateText = this.props.date && !isNaN(this.props.date) && (\n            this.props.dateString ||\n            format(this.props.date)\n        );\n\n        const subject = this.props.subject.substring(0, this.props.subjectLimit) + (this.props.subject.length > this.props.subjectLimit ? '...' : '');\n\n        return (\n            <div\n                className={classNames('rce-container-mtitem', this.props.className)}\n                onClick={this.props.onClick}\n                onContextMenu={this.props.onContextMenu}>\n                <div className=\"rce-mtitem\">\n                    <div className=\"rce-mtitem-top\">\n                        <div className=\"rce-mtitem-subject\">\n                            {subject}\n                        </div>\n                        <div\n                            className=\"rce-mtitem-share\"\n                            onClick={this.props.onShareClick}>\n                            <MdLink />\n                        </div>\n                    </div>\n                    <div className=\"rce-mtitem-body\">\n                        <div className=\"rce-mtitem-body--avatars\">\n                            {\n                                this.props.avatars.slice(0, AVATAR_LIMIT).map((x, i) => x instanceof Avatar ? x : (\n                                    <Avatar\n                                        key={i}\n                                        src={x.src}\n                                        alt={x.alt}\n                                        className={x.statusColorType === 'encircle' ? 'rce-mtitem-avatar-encircle-status' : ''}\n                                        size={'small'}\n                                        letterItem={x.letterItem}\n                                        sideElement={\n                                            x.statusColor &&\n                                            <span\n                                                className='rce-mtitem-status'\n                                                style={statusColorType === 'encircle' ? {\n                                                    boxShadow: `inset 0 0 0 2px ${x.statusColor}, inset 0 0 0 5px #FFFFFF`\n                                                } : {\n                                                    backgroundColor: x.statusColor,\n                                                }}>\n                                                {x.statusText}\n                                            </span>\n                                        }\n                                        onError={this.props.onAvatarError}\n                                        lazyLoadingImage={this.props.lazyLoadingImage}\n                                        type={classNames('circle', {'flexible': this.props.avatarFlexible})}/>\n                                ))\n                            }\n\n                            {\n                                this.props.avatars.length > AVATAR_LIMIT &&\n                                <div className='rce-avatar-container circle small rce-mtitem-letter'>\n                                    <span>\n                                        {'+' + (this.props.avatars.length - AVATAR_LIMIT)}\n                                    </span>\n                                </div>\n                            }\n                        </div>\n                        <div className=\"rce-mtitem-body--functions\">\n                            {\n                                this.props.closable &&\n                                <div\n                                    className=\"rce-mtitem-closable\"\n                                    onClick={this.props.onCloseClick}>\n                                    <MdCall />\n                                </div>\n                            }\n                            <div\n                                className='rce-mtitem-button'\n                                onClick={this.props.onMeetingClick}>\n                                <MdVideoCall />\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"rce-mtitem-footer\">\n                        <span className='rce-mtitem-date'>\n                            {dateText}\n                        </span>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nMeetingItem.defaultProps = {\n    id: '',\n    subject: '',\n    subjectLimit: 60,\n    onClick: null,\n    avatarFlexible: false,\n    alt: '',\n    title: '',\n    subtitle: '',\n    date: new Date(),\n    dateString: '',\n    lazyLoadingImage: undefined,\n    avatarLimit: 5,\n    avatars: [],\n    onAvatarError: () => void(0),\n    onMeetingClick: () => void(0),\n    onShareClick: () => void(0),\n}\n\nexport default MeetingItem;\n","import React, { Component } from 'react';\nimport './MeetingList.css';\n\nimport MeetingItem from '../MeetingItem/MeetingItem';\n\nconst classNames = require('classnames');\n\nexport class MeetingList extends Component {\n\n    onClick(item, i, e) {\n        if (this.props.onClick instanceof Function)\n            this.props.onClick(item, i, e);\n    }\n\n    onContextMenu(item, i, e) {\n        e.preventDefault();\n        if (this.props.onContextMenu instanceof Function)\n            this.props.onContextMenu(item, i, e);\n    }\n\n    onAvatarError(item, i, e) {\n        if (this.props.onAvatarError instanceof Function)\n            this.props.onAvatarError(item, i, e);\n    }\n\n    onMeetingClick(item, i, e) {\n        if (this.props.onMeetingClick instanceof Function)\n            this.props.onMeetingClick(item, i, e);\n    }\n\n    onShareClick(item, i, e) {\n        if (this.props.onShareClick instanceof Function)\n            this.props.onShareClick(item, i, e);\n    }\n\n    onCloseClick(item, i, e) {\n        if (this.props.onCloseClick instanceof Function)\n            this.props.onCloseClick(item, i, e);\n    }\n\n    render() {\n        return (\n            <div\n                ref={this.props.cmpRef}\n                className={classNames('rce-container-mtlist', this.props.className)}>\n                {\n                    this.props.dataSource.map((x, i) => (\n                        <MeetingItem\n                            id={x.id || i}\n                            key={i}\n                            lazyLoadingImage={this.props.lazyLoadingImage}\n                            {...x}\n                            onAvatarError={(e) => this.onAvatarError(x, i, e)}\n                            onContextMenu={(e) => this.onContextMenu(x, i, e)}\n                            onClick={(e) => this.onClick(x, i, e)}\n                            onMeetingClick={(e) => this.onMeetingClick(x, i, e)}\n                            onShareClick={(e) => this.onShareClick(x, i, e)}\n                            onCloseClick={(e) => this.onCloseClick(x, i, e)}/>\n                    ))\n                }\n            </div>\n        );\n    }\n}\n\nMeetingList.defaultProps = {\n    dataSource: [],\n    onClick: null,\n    lazyLoadingImage: undefined,\n};\n\nexport default MeetingList;\n","import React, { useState, Component, useEffect, useContext } from 'react';\nimport axios from 'axios'\n\nimport './EstiloChat.css'\nimport {\n    ChatItem,\n    ChatList,\n    MessageList,\n    Input,\n    Button,\n    SideBar,\n} from './ComponentesChat'; \nimport {IconButton, Button as Boton} from '@material-ui/core/';\nimport {KeyboardReturn as Atras, StarRate} from '@material-ui/icons/';\nimport AlertaSi_No from '../AlertaSi_No.js';\nimport AlertaMensaje from '../AlertaMensaje.js';\nimport you from './Miniatura.png'\n\n\n//import loremIpsum from 'lorem-ipsum';\n//import Identicon from './identicon.js';  \nimport { ObtenerEstadoAplicacion } from '../../Estados/AplicacionEstado'\nimport Estilos from '../Estilos.js'\n\nexport function Chat(){\n    const classes = Estilos();\n    const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\n    const [cargando, setcargando] = useState(false)\n    const [chats, setchats] = useState([])\n    const [chatsOrdenados, setchatsOrdenados] = useState([])\n    const [mensajes, setmensajes] = useState([]);\n    const [chatSeleccionado, setchatSeleccionado] = useState(null);\n    const [confirmacion, setconfirmacion] = useState(false);\n    const [abrir, setabrir] = useState(false);\n    const [deshabilitado, setdeshabilitado] = useState(false);\n    \n    const [contenido, setcontenido] = useState(\"\");\n    const [atras, setatras] = useState(false);\n    \n    useEffect(()=>{\n        let auth = 'Bearer '+state.jwt;\n        setcargando(true)\n        if(state.jwt!==\"\"){\n            axios.get(state.servidor+\"/api/chats/\",{\n                headers: {'Authorization': auth},\n              })\n            .then(response => {\n                //Obtenemos todos los chats del sistema y filtramos segun el id de receptor o emisor\n                let chats_ = response.data.filter(chat => (chat.receptor.id === state.datosSesion.id || chat.emisor.id === state.datosSesion.id))\n                \n                setchats(chats_.map((chat)=>{\n                    let emisor = `${chat.emisor.nombre} ${chat.emisor.apellido}`\n                    let receptor = `${chat.receptor.nombre} ${chat.receptor.apellido}`\n                    let img_emisor = chat.emisor.imagen_perfil===null?state.imagen_predeterminada:state.servidor+chat.emisor.imagen_perfil.url\n                    let img_receptor = chat.receptor.imagen_perfil===null?state.imagen_predeterminada:state.servidor+chat.receptor.imagen_perfil.url\n                    \n                    //Establecemos el objeto de mensaje (de la interfaz), con los mensajes del respectivo chat\n                    let msjs = chat.mensajes.map((mensaje)=>({\n                        position: mensaje.enviado_por?'right':'left',\n                        forwarded: false,\n                        replyButton: false,\n                        reply: null,\n                        meeting: null,\n                        type: \"text\",\n                        theme: 'white',\n                        view: 'list',\n                        title: mensaje.enviado_por?emisor:receptor,\n                        titleColor: \"#EB7887\",\n                        text: mensaje.contenido,\n                        onLoad: () => {\n                            console.log('Photo loaded');\n                        },\n                        status: null,\n                        date: new Date(mensaje.created_at),\n                        onReplyMessageClick: () => {\n                            console.log('onReplyMessageClick');\n                        },\n                        avatar: mensaje.enviado_por?img_emisor:img_receptor,\n                    }\n                    ))\n                    let img_categoria = null\n                    let img_solicitud = null\n                    if (chat.solicitud===null){\n                        img_categoria = chat.categoria.imagen===null?state.imagen_predeterminada:state.servidor+chat.categoria.imagen.url\n                    }else{\n                        img_solicitud = chat.solicitud.imagenes.length===0?state.imagen_predeterminada:state.servidor+chat.solicitud.imagenes[0].url\n                    }\n                    setcargando(false)\n                    return {\n                        chat:{\n                            id: chat.id,\n                            avatar: chat.solicitud===null?img_categoria:img_solicitud,\n                            avatarFlexible: true,\n                            statusColor: 'lightgreen',\n                            statusColorType: 'encircle',\n                            alt: \"Imagen de perfil\",\n                            title: chat.solicitud===null?chat.categoria.nombre:chat.solicitud.titulo,\n                            date: new Date(chat.mensajes[chat.mensajes.length-1].created_at),\n                            subtitle: chat.mensajes[chat.mensajes.length-1].contenido,\n                            unread: state.datosSesion.id===chat.emisor.id?chat.noleido_emisor:chat.noleido_receptor,\n                            mensajes: msjs,\n                            emisor: chat.emisor,\n                            receptor: chat.receptor,\n                            noleido_emisor: chat.noleido_emisor,\n                            noleido_receptor: chat.noleido_receptor,\n                            categoria: chat.categoria,\n                            solicitud: chat.solicitud,\n                            peticion: chat.peticion\n                        }\n                    }\n                }))\n            })\n            .catch(error => {\n                alert(\"Un error ha ocurrido al cargar los chats.\")\n                console.log(error.response)\n            }) \n        }\n    },[state.jwt])\n\n    useEffect(()=>{\n        if(chats.length!==0){\n            //console.log(chats)\n            setchatSeleccionado(chats[0].chat)\n            setmensajes(chats[0].chat.mensajes)\n        }\n    },[chats])\n\n    useEffect(() => {\n        if (chatSeleccionado!==null && chatSeleccionado.peticion)\n            setdeshabilitado(true)\n    }, [chatSeleccionado])\n\n    function actualizarMensajes(chat){\n        setmensajes(chat.mensajes)\n        setchatSeleccionado(chat)\n        setatras(false)\n        let auth = 'Bearer '+state.jwt;\n\n        //Si abrimos el chat debemos actualizar el valor de los mensajes no leidos a 0\n        let obj_leido = {}\n        if(state.datosSesion.id===chat.emisor.id){\n            obj_leido[\"noleido_emisor\"]= 0\n        }else{\n            obj_leido[\"noleido_receptor\"] = 0\n        }\n        axios.put(state.servidor+\"/api/chats/\"+chat.id,obj_leido,{\n            headers: {'Authorization': auth},\n        }).then(response => {\n            console.log(response.data)\n        })\n        //////////////////////////////////////////////////////////////////////////////////\n\n        //Buscamos todos los mensajes del chat seleccionado\n        axios.get(state.servidor+\"/api/chats/\"+chat.id,{\n            headers: {'Authorization': auth},\n          })\n        .then(response => {\n            let emisor = `${response.data.emisor.nombre} ${response.data.emisor.apellido}`\n            let receptor = `${response.data.receptor.nombre} ${response.data.receptor.apellido}`\n            let img_emisor = response.data.emisor.imagen_perfil===null?state.imagen_predeterminada:state.servidor+response.data.emisor.imagen_perfil.url\n            let img_receptor = response.data.receptor.imagen_perfil===null?state.imagen_predeterminada:state.servidor+response.data.receptor.imagen_perfil.url\n            \n            //Establecemos el objeto de mensaje (de la interfaz), con los mensajes del respectivo chat\n            let msjs = response.data.mensajes.map((mensaje, i)=>({\n                position: mensaje.enviado_por?'right':'left',\n                forwarded: false,\n                replyButton: false,\n                reply: null,\n                meeting: null,\n                type: \"text\",\n                theme: 'white',\n                view: 'list',\n                title: mensaje.enviado_por?emisor:receptor,\n                titleColor: \"#EB7887\",\n                text: mensaje.contenido,\n                onLoad: () => {\n                    console.log('Photo loaded');\n                },\n                status: null,\n                date: new Date(mensaje.created_at),\n                onReplyMessageClick: () => {\n                    console.log('onReplyMessageClick');\n                },\n                avatar: mensaje.enviado_por?img_emisor:img_receptor,\n            }\n            ))\n            setmensajes(msjs)\n            setdeshabilitado(response.data.peticion)\n            console.log(\"Mensaje:\",msjs)\n        })\n        .catch(error => {\n            alert(\"Un error ha ocurrido al cargar los mensajes.\")\n            console.log(error.response)\n        }) \n    }\n\n    function agregarMensaje() {\n        let auth = 'Bearer '+state.jwt;\n        if(chatSeleccionado!==null){\n            let emisor = `${chatSeleccionado.emisor.nombre} ${chatSeleccionado.emisor.apellido}`\n            let receptor = `${chatSeleccionado.receptor.nombre} ${chatSeleccionado.receptor.apellido}`\n            let img_emisor = chatSeleccionado.emisor.imagen_perfil===null?state.imagen_predeterminada:state.servidor+chatSeleccionado.emisor.imagen_perfil.url\n            let img_receptor = chatSeleccionado.receptor.imagen_perfil===null?state.imagen_predeterminada:state.servidor+chatSeleccionado.receptor.imagen_perfil.url\n\n            //Se actualiza el arreglo de mensajes\n            setmensajes([...mensajes, {\n                position: state.datosSesion.id===chatSeleccionado.emisor.id?'right':'left',\n                forwarded: false,\n                replyButton: false,\n                reply: null,\n                meeting: null,\n                type: \"text\",\n                theme: 'white',\n                view: 'list',\n                title: state.datosSesion.id===chatSeleccionado.emisor.id?emisor:receptor,\n                titleColor: \"#EB7887\",\n                text: contenido,\n                onLoad: () => {\n                    console.log('Photo loaded');\n                },\n                status: null,\n                date: new Date(),\n                onReplyMessageClick: () => {\n                    console.log('onReplyMessageClick');\n                },\n                avatar: state.datosSesion.id===chatSeleccionado.emisor.id?img_emisor:img_receptor,\n            }])\n            console.log(\"Mensajes\", mensajes)\n            //Se envía un nuevo mensaje al emisor o receptor\n            axios.post(state.servidor+\"/api/mensajes/\",{\n                chat: chatSeleccionado.id,\n                enviado_por: state.datosSesion.id===chatSeleccionado.emisor.id,\n                contenido: contenido,\n            },{\n                headers: {'Authorization': auth},\n            })\n            .then(response => {\n                console.log(response.data)\n            })\n            .catch(error => {\n                alert(\"Un error ha ocurrido al cargar los mensajes.\")\n                console.log(error.response)\n            }) \n\n            /////////////////////////////////////////////////////////////////////////////////\n            //Si se envia un mensaje, entonces aumentamos la cantidad de mensajes no leidos, ya sea del receptor como emisor\n            let obj_noleido = {}\n            console.log(chatSeleccionado)\n            if(state.datosSesion.id===chatSeleccionado.emisor.id){\n                obj_noleido[\"noleido_receptor\"] = chatSeleccionado.noleido_receptor+1\n                let vari = chatSeleccionado\n                vari.noleido_receptor++\n                setchatSeleccionado(vari)\n            }else{\n                obj_noleido[\"noleido_emisor\"]= chatSeleccionado.noleido_emisor+1\n                let vari = chatSeleccionado\n                vari.noleido_receptor++\n                setchatSeleccionado(vari)\n            }\n            axios.put(state.servidor+\"/api/chats/\"+chatSeleccionado.id,obj_noleido,{\n                headers: {'Authorization': auth},\n            }).then(response => {\n                console.log(response.data)\n            })\n        }\n    }\n\n    useEffect(() => {\n        if (chats.length!==0){\n            console.log(chats.sort((a, b) => a.chat.mensajes[a.chat.mensajes.length-1].date.getTime() > b.chat.mensajes[b.chat.mensajes.length-1].date.getTime()))\n        }\n    }, [chats])\n\n    function enviarNotificacion(boole){\n        setconfirmacion(false)\n        if (boole){\n            let auth = 'Bearer '+state.jwt;\n            //Seteamos los ids de emisores y receptores de la notificación\n            let emisor = chatSeleccionado.receptor.id\n            let receptor = chatSeleccionado.emisor.id\n            \n            if (chatSeleccionado.solicitud!==null){\n                //Si el tipo de la solicitud es false, significa que es una solicitud y que el emisor de la notificación es el emisor del chat\n                if (!chatSeleccionado.solicitud.tipo){\n                    emisor = chatSeleccionado.emisor.id\n                    receptor = chatSeleccionado.receptor.id\n                }\n            }\n            axios.post(\n                state.servidor+\"/api/notificaciones/\",{\n                    tipo: 2,\n                    emisor: emisor,\n                    receptor: receptor,\n                    solicitud: chatSeleccionado.solicitud===null?null:chatSeleccionado.solicitud.id,\n                    datos_notificacion: chatSeleccionado.categoria===null?\"\":String(chatSeleccionado.categoria.id+\"_\"+chatSeleccionado.categoria.nombre),\n                    leido: false\n                },\n                {headers: {'Authorization': auth},})\n            .then(response => {\n                console.log(\"Se ha podido crear la notificacion: \",response.data)\n                let auth = 'Bearer '+state.jwt;\n                axios.put(state.servidor+\"/api/chats/\"+chatSeleccionado.id,{\n                    peticion: true\n                },{\n                    headers: {'Authorization': auth},\n                }).then(response => {\n                    console.log(response.data)\n                    setdeshabilitado(true)\n                })\n                setabrir(true)\n            })\n            .catch(error => {\n                console.log(\"Error, no se ha podido crear la notificacion.\", error.response)\n                alert(\"Error, no se ha podido crear la notificacion.\")\n            })\n        }\n    }\n\n    return (\n        <div className='container' >\n            <div className='chat-list' className={atras?classes.EstiloMovil:classes.EstiloPC}>\n                <SideBar\n                    top={\n                        <div>\n                            \n                        </div>\n                    }\n                    center={\n                        <ChatList className='chat-list' onClick={(e)=>{actualizarMensajes(e)}} dataSource={chats.map(chat=>(chat.chat))}/>\n                    }\n                    bottom={\n                        <div>\n                            \n                        </div>\n                    }/>\n            </div>\n            <IconButton\n                className={classes.EstiloMovil}\n                style={{\n                    position: atras?\"relative\":\"absolute\",\n                    left: \"0px\",\n                    top: \"70px\",\n                    zIndex: 100,\n                }}\n                onClick={()=>{setatras(!atras)}}\n            >\n                <Atras/>\n            </IconButton>\n            <div className={atras?classes.EstiloPC:classes.EstiloVacio} className='right-panel'>\n                {\n                    chatSeleccionado!==null &&\n                        <ChatItem\n                            avatar={chatSeleccionado.avatar}\n                            alt={'Reactjs'}\n                            title={chatSeleccionado.title}\n                            subtitle={chatSeleccionado.emisor.id===state.datosSesion.id?\n                                `${chatSeleccionado.receptor.nombre} ${chatSeleccionado.receptor.apellido}`:\n                                `${chatSeleccionado.emisor.nombre} ${chatSeleccionado.emisor.apellido}`}\n                            date={null}\n                            unread={0}\n                        />\n                }\n                {\n                    chatSeleccionado!==null && !atras &&\n                    (chatSeleccionado.solicitud===null?(chatSeleccionado.receptor.id===state.datosSesion.id):\n                    (chatSeleccionado.solicitud.tipo?chatSeleccionado.receptor.id===state.datosSesion.id:chatSeleccionado.emisor.id===state.datosSesion.id)) &&\n                        <div>\n                            <Boton disabled={deshabilitado} onClick={()=>setconfirmacion(true)} color=\"primary\" className={classes.BotonSolicitar} variant=\"contained\">\n                                Petición de reseña\n                            </Boton>\n                            <Boton disabled={deshabilitado} onClick={()=>setconfirmacion(true)} color=\"primary\" className={classes.BotonSolicitarMovil} variant=\"contained\">\n                                <StarRate/>\n                            </Boton>\n                        </div>\n                }\n                {\n                    confirmacion &&\n                    <AlertaSi_No\n                    mensaje=\"Esta acción solo se debe realizar cuando ya se haya cumplido con el servicio pactado. ¿Está seguro que quiere enviar la petición?\"\n                    funcionAceptar={enviarNotificacion}\n                    titulo=\"Enviar petición de reseña al cliente\"/> \n                }\n                <AlertaMensaje mensaje=\"¡Petición de reseña enviada!\" setabrir={setabrir} abrir={abrir}/>\n                <MessageList\n                    className='message-list'\n                    lockable={true}\n                    downButtonBadge={10}\n                    dataSource={mensajes}\n                />\n                {\n                    chatSeleccionado!==null &&\n                    <Input\n                    placeholder=\"Escribe tu mensaje.\"\n                    defaultValue=\"\"\n                    onChange={(e)=>{setcontenido(e.target.value)}}\n                    //ref='input'\n                    multiline={true}\n                    // buttonsFloat='left'\n                    onKeyPress={(e) => {\n                        if (e.shiftKey && e.charCode === 13) {\n                            return true;\n                        }\n                        if (e.charCode === 13) {\n                            agregarMensaje();\n                            e.preventDefault();\n                            return false;\n                        }\n                    }}\n                    rightButtons={\n                        <Button\n                            color='white'\n                            backgroundColor='black'\n                            text='Enviar'\n                            onClick={()=>{agregarMensaje()}} />\n                    } />\n                }\n            </div>\n        </div>\n    );\n    \n}\n\nexport default Chat;\n","import React, {useContext} from 'react';\r\nimport './App.css';\r\n//Enrutamiento\r\nimport {BrowserRouter as Router, Switch, Route, Link, Redirect } from \"react-router-dom\";\r\n\r\n//Material-UI\r\nimport {CssBaseline, Container} from '@material-ui/core/';\r\n\r\n//Componentes de vistas\r\nimport Nav from './componentes/Nav.js';\r\nimport Footer from './componentes/Footer.js';\r\nimport Categoria from './componentes/Categoria/Categoria.js';\r\nimport Registrar from './componentes/Sesion/Registrar.js';\r\nimport InicioSesion from './componentes/Sesion/InicioSesion.js';\r\nimport Inicio from './componentes/Inicio/Inicio.js';\r\nimport Publicacion from './componentes/Publicacion/Publicacion.js';\r\nimport ModificarPerfilProveedor from './componentes/Proveedor/ModificarPerfilProveedor.js';\r\nimport MiPerfil from './componentes/Proveedor/MiPerfil.js';\r\nimport CrearPublicacion from './componentes/Publicacion/CrearPublicacion.js';\r\nimport GestionarReportes from './componentes/GestionAdministrador/GestionarReportes.js';\r\nimport VerificarIdentidad from './componentes/GestionAdministrador/VerificarIdentidad.js';\r\nimport PestanaReportes from './componentes/GestionAdministrador/PestanaReportes.js';\r\nimport RegistrarSesion from './componentes/Sesion/Registrar.js';\r\nimport MisPublicaciones from './componentes/Publicacion/MisPublicaciones.js';\r\nimport PreguntasFrecuentes from './componentes/Footer/PreguntasFrecuentes.js';\r\nimport SobreNosotros from './componentes/Footer/SobreNosotros.js';\r\nimport AdministrarCategorias from './componentes/GestionAdministrador/AdministrarCategorias.js';\r\nimport VerificarMiIdentidad from './componentes/Proveedor/VerificarMiIdentidad.js';\r\nimport Notificaciones from './componentes/Notificaciones/Notificaciones.js';\r\n\r\nimport Chat from './componentes/Chat/Chat.js';\r\n\r\nimport { ObtenerEstado, ProveerEstadoCategoria } from './Estados/CategoriaEstado'\r\nimport { ObtenerEstadoAplicacion, ProveerEstadoAplicacion } from './Estados/AplicacionEstado'\r\n\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport Tema from './Tema'\r\nimport TemaClaro from './TemaClaro'\r\nimport TemaServia from './TemaServia'\r\n\r\n//\"typography\": {\"fontFamily\": \"['Century Gothic','Roboto','Arial','sans-serif']\"}\r\n\r\nconst theme = createMuiTheme(TemaServia);\r\n\r\nfunction App() { \r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  const [aux, setaux] = React.useState(false)\r\n  React.useEffect(()=>{\r\n    setaux(true)\r\n  },[])\r\n  return (\r\n    <div className=\"App\" style={{height: \"auto\"}}>\r\n      <ThemeProvider theme={theme}>\r\n        <Router>\r\n        \r\n          <Nav/>\r\n          \r\n          <React.Fragment>\r\n              <CssBaseline/>\r\n                <div style={{minHeight:\"calc(100vh - 130px)\"}} className=\"Fondo\">\r\n                  <Switch>\r\n                    <Route exact path=\"/\"><Inicio tipo={true}/></Route>\r\n                    \r\n                    <Route path=\"/crear-publicacion\">{aux && state.datosSesion.tipo<2? <Redirect to=\"/\" />:<CrearPublicacion modificar={false} tipoPublicacion={true}/>}</Route>\r\n                    <Route path=\"/solicitar-servicio\">{aux && state.datosSesion.tipo===0? <Redirect to=\"/\" />:<CrearPublicacion modificar={false} tipoPublicacion={false}/>}</Route>\r\n                    <Route path=\"/modificar-publicacion/:id\">{aux && state.datosSesion.tipo<0? <Redirect to=\"/\" />:<CrearPublicacion modificar={true} tipoPublicacion={true}/>}</Route>\r\n                    <Route path=\"/modificar-solicitud-servicio/:id\">{aux && state.datosSesion.tipo===0? <Redirect to=\"/\" />:<CrearPublicacion modificar={true} tipoPublicacion={false}/>}</Route>\r\n                    \r\n                    <Route path=\"/publicaciones/:id\"><Categoria/></Route>\r\n                    \r\n                    <Route path=\"/registrar\">{aux && state.datosSesion.tipo!==0? <Redirect to=\"/\" />:<RegistrarSesion registrar={true}/>}</Route>\r\n\r\n                    <Route path=\"/modificar-usuario\">{aux && state.datosSesion.tipo===0?<Redirect to=\"/\"/>:<RegistrarSesion registrar={false}/>}</Route>\r\n                    \r\n                    <Route path=\"/publicacion/:id\"><Publicacion/></Route>\r\n                    <Route path=\"/mis-publicaciones\">{aux && state.datosSesion.tipo<2? <Redirect to=\"/\" />:<MisPublicaciones tipoPublicacion={true}/>}</Route>\r\n                    <Route path=\"/mis-servicios-solicitados\">{aux && state.datosSesion.tipo===0? <Redirect to=\"/\" />:<MisPublicaciones tipoPublicacion={false}/>}</Route>\r\n                    <Route path=\"/modificar-proveedor\">{aux && state.datosSesion.tipo<2? <Redirect to=\"/\" />:<ModificarPerfilProveedor/>}</Route>\r\n                    <Route path=\"/verificar-mi-identidad\">{aux && state.datosSesion.tipo<2?<Redirect to=\"/\" />:<VerificarMiIdentidad/>}</Route>\r\n                    \r\n                    <Route path=\"/verificar-identidad\">{aux && state.datosSesion.tipo!==3? <Redirect to=\"/\" />:<VerificarIdentidad/>}</Route>\r\n                    <Route path=\"/gestionar-reclamos\">{aux && state.datosSesion.tipo!==3? <Redirect to=\"/\" />:<PestanaReportes/>}</Route>\r\n\r\n                    <Route path=\"/perfil-proveedor/:id\"><MiPerfil/></Route>\r\n\r\n                    <Route path=\"/notificaciones\">{aux && state.datosSesion.tipo===0? <Redirect to=\"/\" />:<Notificaciones/>}</Route>\r\n                    <Route path=\"/mis-chats\">{aux && state.datosSesion.tipo===0? <Redirect to=\"/\" />:<Chat state={state}/>}</Route>\r\n\r\n                    {/*<Route path=\"/administrar-categorias\">\r\n                      <ProveerEstadoCategoria>\r\n                        <AdministrarCategorias/>\r\n                      </ProveerEstadoCategoria>\r\n                    </Route>*/}\r\n                    \r\n                    <Route path=\"/preguntas-frecuentes\"><PreguntasFrecuentes/></Route>\r\n                    <Route path=\"/sobre-nosotros\"><SobreNosotros/></Route>\r\n                </Switch>\r\n              </div>\r\n          </React.Fragment>\r\n          <Footer/>\r\n        </Router>\r\n      </ThemeProvider>\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React,{useContext} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport { ObtenerEstadoAplicacion, ProveerEstadoAplicacion } from './Estados/AplicacionEstado'\r\n\r\nfunction Inicial() { \r\n  const { state, dispatch } = useContext(ObtenerEstadoAplicacion);\r\n  return (\r\n    <ProveerEstadoAplicacion>\r\n      <App/>\r\n    </ProveerEstadoAplicacion>\r\n  )\r\n}\r\nReactDOM.render(\r\n  /*<React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>*/\r\n  <Inicial/>\r\n  ,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}